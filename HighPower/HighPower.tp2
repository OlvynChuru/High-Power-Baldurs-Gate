BACKUP ~HighPower/backup~
AUTHOR ~https://forums.beamdog.com/discussion/60325/mod-high-power-baldurs-gate-version-2-0~
VERSION ~2.4.0~
README ~HighPower/HighPowerReadme.txt~

ALWAYS

OUTER_PATCH alltheconstants BEGIN
	none=0
	noprojectile=1

	creflags=0x10
	creatureflags=0x10
	killxp=0x14
	xp=0x18
	status=0x20
	statepoisoned=0x4000
	currenthp=0x24
	maxhp=0x26
	animation=0x28
	colormetal=0x2c
	colorminor=0x2d
	colormajor=0x2e
	colorskin=0x2f
	colorleather=0x30
	colorarmor=0x31
	colorhair=0x32
	hideinshadows=0x45
	naturalac=0x46
	effectiveac=0x48
	acmodcrushing=0x4a
	acmodmissile=0x4c
	acmodmissiles=0x4c
	acmodpiercing=0x4e
	acmodslashing=0x50
	thac0=0x52
	attacksperround=0x53
	savevsdeath=0x54
	savevswand=0x55
	savevspolymorph=0x56
	savevsbreath=0x57
	savevsspell=0x58
	fireresistance=0x59
	coldresistance=0x5a
	elecresistance=0x5b
	electricityresistance=0x5b
	acidresistance=0x5c
	magicresistance=0x5d
	magicfireresistance=0x5e
	magiccoldresistance=0x5f
	slashingresistance=0x60
	crushingresistance=0x61
	piercingresistance=0x62
	missilesresistance=0x63
	missileresistance=0x63
	detectillusion=0x64
	detectillusions=0x64
	settraps=0x65
	lore=0x66
	openlocks=0x67
	movesilently=0x68
	findtraps=0x69
	pickpockets=0x6A
	levelfirstclass=0x234
	levelsecondclass=0x235
	levelthirdclass=0x236
	sex=0x237
	strength=0x238
	exceptionalstrength=0x239
	intelligence=0x23a
	wisdom=0x23b
	dexterity=0x23c
	constitution=0x23d
	charisma=0x23e
	kit=0x246
	overridescript=0x248
	classscript=0x250
	racescript=0x258
	generalscript=0x260
	defaultscript=0x268
	allegiance=0x270
	general=0x271
	race=0x272
	class=0x273
	specifics=0x274
	gender=0x275
	alignment=0x27b
	scriptname=0x280
	dialog=0x2cc
	dialogue=0x2cc
	dialogfile=0x2cc
	notabname=0x800000
	disabletooltip=0x800000

	actorsize=0x110
	atnight=0xFFE0000F

	effopcode=0x10
	effstring=0x1c
	effparameter1=0x1c
	effparameter2=0x20
	effresource=0x30
	effsavingthrow=0x40
	effsavebonus=0x44
	effspecial=0x48
	effresistdispel=0x5c
	effparameter3=0x60
	effparameter4=0x64
	effresource2=0x70

	south=0
	ssw=1
	southsouthwest=1
	sw=2
	southwest=2
	wsw=3
	westsouthwest=3
	west=4
	wnw=5
	westnorthwest=5
	nw=6
	northwest=6
	nnw=7
	northnorthwest=7
	north=8
	nne=9
	northnortheast=9
	ne=10
	northeast=10
	ene=11
	eastnortheast=11
	east=12
	ese=13
	eastsoutheast=13
	se=14
	southeast=14
	sse=15
	southsoutheast=15

	areascript=0x94
	actoroffsetvalue=0x11C
	actorsize=0x110
	atnight=0xFFE0000F

	itmflags=0x18
	itemflags=0x18
	category=0x1c
	unusability=0x1e
	unusabilityflags=0x1e
	appearance=0x22
	equippedappearance=0x22
	noappearance=0x2020
	kitunusability1=0x29
	kitunusability2=0x2B
	kitunusability3=0x2D
	kitunusability4=0x2F
	minstrength=0x26
	minimumstrength=0x26
	minexstrength=0x28
	minimumexceptionalstrength=0x28
	minintelligence=0x2a
	minimumintelligence=0x2a
	mindexterity=0x2c
	minimumdexterity=0x2c
	minwisdom=0x2e
	minwisdom=0x2e
	minconstitution=0x30
	minimumconstitution=0x30
	mincharisma=0x32
	minimumcharisma=0x32
	price=0x34
	icon=0x3a
	loretoidentify=0x42
	groundicon=0x44
	weight=0x4c
	weaponproficiency=0x31
	descriptionimage=0x58
	weaponenchantment=0x60
	itemnumberofheaders=0x68
	itemeffectsoffset=0x6A
	firstheadericon=0x76
	firstheaderrange=0x80
	firstheaderspeed=0x84
	firstheaderspeedfactor=0x84
	firstheaderthac0=0x86
	firstheaderdiesize=0x88
	firstheaderdicesize=0x88
	firstheadernumdice=0x8A
	firstheadernumberofdice=0x8A
	firstheaderdamage=0x8C
	firstheaderdamagebonus=0x8C
	firstheaderdamagetype=0x8E
	firstheadercharges=0x94
	firstheaderchargeflags=0x96
	firstheaderchargeoptions=0x96
	firstheaderwhendrained=0x96
	firstheaderflags=0x98
	firstheaderprojectile=0x9C

	castingsound=0x10
	splflags=0x18
	spellflags=0x18
	spelltype=0x1C
	spellunusability=0x1E
	spellexclusion=0x1E
	exclusionflags=0x1E
	castinganimation=0x22
	animationnecromancy=9
	animationalteration=10
	animationtransmutation=10
	animationenchantment=11
	animationabjuration=12
	animationillusion=13
	animationconjuration=14
	animationinvocation=15
	animationevocation=15
	animationdivination=16
	school=0x25
	spellschool=0x25
	abjurer=1
	abjuration=1
	conjurer=2
	conjuration=2
	diviner=3
	divination=3
	enchanter=4
	enchantment=4
	enchanting=4
	illusionist=5
	illusion=5
	invoker=6
	evoker=6
	invocation=6
	evocation=6
	necromancer=7
	necromancy=7
	transmuter=8
	transmutation=8
	alteration=8
	generalist=9
	secondarytype=0x27
	secondaryspellprotection=1
	secondaryspellprotections=1
	secondaryspecificprotection=2
	secondaryspecificprotections=2
	secondaryillusionaryprotection=3
	secondaryillusionaryprotections=3
	secondarymagicattack=4
	secondarydivinationattack=5
	secondaryconjuration=6
	secondarycombatprotection=7
	secondarycombatprotections=7
	secondarycontigency=8
	secondarybattleground=9
	secondaryoffensivedamage=10
	secondarydisabling=11
	secondarycombination=12
	secondarynoncombat=13
	secondarydornssword=14
	spelllevel=0x34
	spellicon=0x3A

	headermelee=1
	headerranged=2
	headermagical=3
	headerlauncher=4
	yesyouhavetoidentifythisitembeforeyoucanuseitsability=1
	weaponslots=1
	itemslots=3
	livingactor=1
	pointwithinrange=4
	anypointwithinrange=4
	caster=5
	typepiercing=1
	typecrushing=2
	typeslashing=3
	typemissile=4
	typefist=5
	typenonlethal=5
	typestunning=5
	typepiercingorcrushing=6
	typepiercingorslashing=7
	typecrushingorslashing=8
	itemremains=0
	itemvanishes=1
	itembreaks=2
	replacewithusedup=2
	itemrecharges=3
	strengthbonus=1
	plusstrengthbonus=1
	addstrengthbonus=1
	damagestrengthbonus=4
	thac0strengthbonus=8
	rechargeafterresting=2048
	self=1
	presettarget=2
	limited=0
	permanentuntildeath=1
	whileequipped=2
	delayed=4
	permanentafterdeath=9
	limitedticks=10
	nodispelbypassresistance=0
	dispelnotbypassresistance=1
	dispelbypassresistance=3
	nosave=0
	vsspell=1
	vsbreath=2
	vsdeath=4
	vswand=8
	vswands=8
	vspolymorph=16
	bypassmirrorimage=16777216
	ignoredifficulty=33554432

	idsea=2
	eaanyone=0
	eapc=2
	eafamiliar=3
	eaally=4
	eacontrolled=5
	eacharmed=6
	eareallycharmed=7
	eagoodbutred=28
	eagoodbutblue=29
	eagoodcutoff=30
	eaneutral=128
	eaevilcutoff=200
	eaevilbutgreen=201
	eaevilbutblue=202
	eaenemy=255
	idsgeneral=3
	generalhumanoid=1
	generalanimal=2
	generalundead=4
	generalgianthumanoid=5
	generalmonster=255
	idsrace=4
	racehuman=1
	raceelf=2
	racehalfelf=3
	racedwarf=4
	racehalfling=5
	racegnome=6
	racehalforc=7
	racedoppleganger=106
	racedoppelganger=106
	raceskeleton=115
	racelycanthrope=122
	racerakshasa=128
	racetroll=129
	racenorace=255
	idsclass=5
	classmage=1
	classfighter=2
	classcleric=3
	classthief=4
	classbard=5
	classpaladin=6
	classfightermage=7
	classfightercleric=8
	classfighterthief=9
	classfightermagethief=10
	classdruid=11
	classranger=12
	classmagethief=13
	classclericmage=14
	classclericthief=15
	classfighterdruid=16
	classfightermagecleric=17
	classclericranger=18
	classsorcerer=19
	classmonk=20
	classshaman=21
	classpolarbear=107
	classdoppleganger=111
	classdoppelganger=111
	classdopplegangergreater=112
	classdoppelgangergreater=112
	classwinterwolf=146
	classinnocent=155
	classflamingfist=156
	classwerewolf=157
	classwolfwere=158
	classrakshasa=166
	classlongbow=202
	classmageall=202
	classfighterall=203
	classclericall=204
	classthiefall=205
	classbardall=206
	classpaladinall=207
	classdruidall=208
	classrangerall=209
	classnoclass=255
	idsspecific=6
	idsgender=7
	gendermale=1
	genderfemale=2
	genderneither=4
	gendersummoned=6
	genderillusionary=7
	gendersummoneddemon=9
	idsalignment=8
	alignmentnone=0
	alignmentmaskgood=1
	alignmentmaskgeneutral=2
	alignmentmaskevil=3
	alignmentmasklawful=16
	alignmentlawfulgood=17
	alignmentlawfulneutral=18
	alignmentlawfulevil=19
	alignmentmasklcneutral=32
	alignmentneutralgood=33
	alignmentneutral=34
	alignmenttrueneutral=34
	alignmentneutralevil=35
	alignmentmaskchaotic=48
	alignmentchaoticgood=49
	alignmentchaoticneutral=50
	alignmentchaoticevil=51
	idskit=9
	kitmageschoolabjurer=64
	kitabjurer=64
	kitmageschoolconjurer=128
	kitconjurer=128
	kitmageschooldiviner=256
	kitdiviner=256
	kitmageschoolenchanter=512
	kitenchanter=512
	kitmageschoolillusionist=1024
	kitillusionist=1024
	kitmageschoolinvoker=2048
	kitinvoker=2048
	kitmageschoolnecromancer=4096
	kitnecromancer=4096
	kitmageschooltransmuter=8192
	kittransmuter=8192
	kittrueclass=16384
	kitberserker=16385
	kitwizardslayer=16386
	kitkensai=16387
	kitcavalier=16388
	kitinquisitor=16389
	kitundeadhunter=16390
	kitferalan=16391
	kitarcher=16391
	kitstalker=16392
	kitbeastmaster=16393
	kitassassin=16394
	kitbountyhunter=16395
	kitswashbuckler=16396
	kitblade=16397
	kitjester=16398
	kitskald=16399
	kittotemic=16400
	kittotemicdruid=16400
	kitshapeshifter=16401
	kitbeastfriend=16402
	kitavenger=16402
	kitgodtalos=16403
	kitpriestoftalos=16403
	kitgodhelm=16404
	kitpriestofhelm=16404
	kitgodlathander=16405
	kitpriestoflathander=16405
	kitblackguard=16416
	kitshadowdancer=16417
	kitdwarvendefender=16418
	kitdragondisciple=16419
	kitdarkmoon=16420
	kitdarkmoonmonk=16420
	kitsunsoul=16421
	kitsunsoulmonk=16421
	kitohtyr=16422
	kitgodtyr=16422
	kitpriestoftyr=16422
	kitbarbarian=1073741824

	modifyarmorclass=0
	modifyac=0
	modifyacvscrushing=1
	modifyacvsmissile=2
	modifyacvsmissiles=2
	modifyacvspiercing=4
	modifyacvsslashing=8
	modifybaseac=16
	setbaseac=16
	modifyattacksperround=1
	curesleep=2
	removesleep=2
	charm=5
	charm1=5
	modifycharisma=6
	setcolor=7
	setcolorglowsolid=8
	modifyconstitution=10
	curepoison=11
	removepoison=11
	damage=12
	increment=0
	set=1
	settopercentage=2
	dealpercentage=3
	crushingdamage=0
	aciddamage=0x10000
	colddamage=0x20000
	elecdamage=0x40000
	electricitydamage=0x40000
	firedamage=0x80000
	piercingdamage=0x100000
	poisondamage=0x200000
	magicdamage=0x400000
	missiledamage=0x800000
	slashingdamage=0x1000000
	magicfiredamage=0x2000000
	magiccolddamage=0x4000000
	nonlethaldamage=0x8000000
	killtarget=13
	modifydexterity=15
	haste1=16
	normalhaste=0
	improvedhaste=1
	hastenoextraattacks=2
	modifycurrenthp=17
	modifymaxhp=18
	modifymaximumhp=18
	modifyintelligence=19
	invisibility=20
	normalinvisibility=0
	partialinvisibility=1
	modifylore=21
	modifyluck=22
	resetmorale=23
	panic=24
	poison=25
	modifyacidresistance=27
	modifycoldresistance=28
	modifyelecresistance=29
	modifyelectricresistance=29
	modifyelectricityresistance=29
	modifyfireresistance=30
	modifymagicdamageresistance=31
	modifysavevsdeath=33
	modifysavevswand=34
	modifysavevswands=34
	modifysavevspolymorph=35
	modifysavevspoly=35
	modifysavevsbreath=36
	modifysavevsspell=37
	silence=38
	sleep=39
	wakewhendamaged=0
	donotwakewhendamaged=1
	slow=40
	bonuswizardspells=42
	doublespellsoflevelorlower=0
	level1=1
	level2=2
	level3=4
	level4=8
	level5=16
	level6=32
	level7=64
	level8=128
	level9=256
	doublespellsoflevel=512
	modifystrength=44
	stun=45
	curestun=46
	curestunning=46
	removestun=46
	removestunning=46
	removeinvisibility1=47
	modifywisdom=49
	colorpulse=50
	modifyanimation=53
	changeanimation=53
	animationchange=53
	modifybasethac0=54
	slay=55
	dispeleffects=58
	modifymovesilently=59
	castingfailure=60
	spellfailure=60
	modifyspellfailure=60
	bonuspriestspells=62
	infravision=63
	blur=65
	translucency=66
	summoncreature=67
	createcreature=67
	nondetection=69
	changeaitype=72
	changecreaturetype=72
	modifycreaturetype=72
	modifydamage=73
	modifyattackdamage=73
	blindness=74
	feeblemind=76
	feeblemindedness=76
	disease=78
	deafness=80
	setaiscript=82
	protectionfromprojectile=83
	modifymagicfireresistance=84
	modifymagiccoldresistance=85
	modifyslashingresistance=86
	modifycrushingresistance=87
	modifypiercingresistance=88
	modifymissileresistance=89
	modifymissilesresistance=89
	modifyopenlocks=90
	modifyfindtraps=91
	modifypickpockets=92
	modifyfatigue=93
	modifyintoxication=94
	modifyexceptionalstrength=97
	regenerate=98
	regeneration=98
	modifyregenerationrate=98
	modifyduration=99
	modifyspellduration=99
	protectionfromcreaturetype=100
	protectionfromopcode=101
	protectionfromspelllevel=102
	removegold=105
	moralebreak=106
	modifymoralebreak=106
	paralyze=109
	createweapon=111
	createmagicalweapon=111
	magicalweapon=111
	removeitem=112
	detectalignment=115
	removeinvisibility2=116
	clairvoyance=117
	mirrorimagebasedonlevel=119
	mirrorimage1=119
	protectionfromweapons=120
	enchanted=0
	magical=1
	nonmagical=2
	nonsilver=4
	noncoldiron=11
	createitem=122
	teleport=124
	switchwithtarget=3
	modifymovementrate1=126
	summonmonsters=127
	summonmonsters1=127
	confusion=128
	aid=129
	bless=130
	chant=131
	positivechant=131
	goodchant=131
	drawuponholymight=132
	lucknoncumulative=133
	petrify=134
	petrification=134
	polymorph=135
	forcevisible=136
	negativechant=137
	badchant=137
	displaystring=139
	playvisualeffectbg1=141
	visualeffectbg1=141
	displayportraiticon=142
	createiteminslot=143
	disablebutton=144
	buttonstealth=0
	buttonthieving=1
	buttonmagic=2
	buttonquickspell1=3
	buttonquickspell2=4
	buttonquickspell3=5
	buttonturnundead=6
	buttontalk=7
	buttonuseitem=8
	buttonquickitem1=9
	buttonbardsong=10
	buttonquickitem2=11
	buttonquickitem3=12
	buttonabilities=13
	buttonfindtraps=14
	buttoninventory=15
	disablespellcasting=145
	castspell=146
	castnormally=0
	castinstantlyatcasterlevel=1
	castinstantlyatspecifiedlevel=2
	learnspell=147
	castspellpoint=148
	castspellatpoint=148
	findtraps=150
	replaceself=151
	removesilently=0
	removeviachunkeddeath=1
	removevianormaldeath=2
	sanctuary=153
	sanctuaryoverlay=153
	entangle=154
	entangleoverlay=154
	minorglobe=155
	minorglobeoverlay=155
	protectionfromnormalmissiles=156
	web=157
	grease=158
	mirrorimage=159
	mirrorimage2=159
	removesanctuary=160
	removefear=161
	cureparalysis=162
	removeparalysis=162
	freeaction=163
	pausetarget=165
	modifymagicresistance=166
	modifymissilethac0=167
	removecreature=168
	disableportraiticon=169
	protectionfromportraiticon=169
	giveability=171
	removeability=172
	modifypoisonresistance=173
	playsound=174
	holdcreature1=175
	modifymovementrate2=176
	useefffile=177
	modifythac0vscreaturetype=178
	thac0vscreaturetype=178
	damagevscreaturetype=179
	useefffilewhileontype=183
	passwall=184
	holdcreature2=185
	movecreaturetonewarea=186
	setlocalvariable=187
	auracleansing=188
	modifycastingtime=189
	modifycastingspeed=189
	modifyspeedfactor=190
	modifycastinglevel=191
	modifycasterlevel=191
	wizard=0
	priest=1
	innate=2
	invisibilitydetection=193
	familiardeatheffect=195
	reflectprojectile=197
	reflectopcode=198
	reflectspelllevel=199
	spellturning=200
	spelldeflection=201
	reflectspellschool=202
	abjuration=1
	conjuration=2
	divination=3
	enchantment=4
	illusion=5
	evocation=6
	necromancy=7
	alteration=8
	reflectspelltype=203
	spellprotections=1
	specificprotections=2
	illusionaryprotections=3
	magicattack=4
	divinationattack=5
	combatprotections=7
	offensivedamage=10
	disabling=11
	protectionfromspellschool=204
	protectionfromspelltype=205
	protectionfromspell=206
	reflectspell=207
	minhp=208
	minimumhp=208
	powerwordkill=209
	powerwordstun=210
	imprisonment=211
	freedom=212
	maze=213
	selectspell=214
	playvisualeffectbg2=215
	visualeffectbg2=215
	leveldrain=216
	powerwordsleep=217
	stoneskin=218
	modifyacvscreaturetype=219
	acvscreaturetype=219
	removespellsofschool=220
	removespellsbyschool=220
	removespellsoftype=221
	removespellsbytype=221
	teleportfield=222
	restoration=224
	removeonespellofschool=229
	removeonespelloftype=230
	timestop=231
	castspelloncondition=232
	targetcaster=0
	targetlasthitby=1
	targetnearestenemy=2
	targetnearest=3
	ifhit=0
	ifseeenemy=1
	ifhplessthan50percent=2
	ifhplessthan25percent=3
	ifhplessthan10percent=4
	ifhelpless=5
	ifpoisoned=6
	ifattacked=7
	ifwithinrange4=8
	ifwithinrange10=9
	iftookdamage=11
	iftakedamage=11
	ifcasterkillssomeone=12
	iftimeofdayisspecial=13
	daytime=0
	dusk=1
	nighttime=2
	morning=3
	ifwithinrangespecial=14
	ifstatespecial=15
	statenormal=0
	ifcasterdies=16
	ifcasterdied=17
	ifhplessthanspecial=19
	ifhplessthanspecialpercent=20
	modifyproficiency=233
	modifyproficiencies=233
	contingency=234
	createcontingency=234
	wingbuffet=235
	awayfromtarget=1
	awayfromsource=2
	towardstarget=3
	towardssource=4
	projectimage=236
	setimagetype=237
	disintegrate=238
	farsight=239
	removeportraiticon=240
	charm2=241
	drainitemcharges=243
	drainwizardspells=244
	attacknearestcreature=247
	meleehiteffect=248
	setmeleeeffect=248
	rangedhiteffect=249
	setrangedeffect=249
	modifyminimumdamage=250
	modifybardsong=251
	settrap=252
	createspellsequencer=257
	spelltrap=259
	restorelostspells=261
	modifyvisionrange=262
	modifyvisualrange=262
	modifybackstabmultiplier=263
	setglobalvariable=265
	modifyglobalvariable=265
	modifyglobal=265
	disablestring=267
	disabledisplaystring=267
	protectionfromstring=267
	clearfogofwar=268
	wizardeye=268
	shakescreen=269
	applyrepeatingeff=272
	valuepersecond=2
	oncepervalueseconds=3
	zoneofsweetair=273
	phase=274
	modifyhideinshadows=275
	modifydetectillusion=276
	modifydetectillusions=276
	modifysettraps=277
	modifythac0=278
	enablebutton=279
	wildsurge=280
	modifywildsurge=281
	wildsurgebonus=281
	useefffileascurse=283
	modifymeleethac0=284
	modifymeleedamage=285
	modifymissiledamage=286
	removecircle=287
	removefeetcircle=287
	modifyfistthac0=288
	modifyfistdamage=289
	disablevisualeffects=291
	protectionfrombackstab=292
	offscreenai=293
	setpersistentai=293
	disablepermanentdeath=295
	protectionfromanimation=296
	protectionfromturnundead=297
	npcbump=300
	criticalhitbonus=301
	modifycriticalhitchance=301
	withbothweapons=0
	withthisweapon=1
	thisweapononly=1
	allweapons=0
	meleeweapons=1
	missileweapons=2
	useanyitem=302
	canuseanyitem=302
	backstabeveryhit=303
	backstabeachhit=303
	backstaboneveryhit=303
	massraisedead=304
	modifyoffhandthac0=305
	modifymainhandthac0=306
	setlocalvariable=309
	modifylocalvariable=309
	protectionfromtimestop=310
	rest=316
	haste2=317
	protectionfromspell2=318
	removeeffectsbyresource=321
	modifyturnundeadlevel=323
	protectionfromspell3=324
	immunitytospellandmessage=324
	modifyallsavingthrows=325
	modifyallsaves=325
	applyeffectslist=326
	playvisualeffectiwd=327
	visualeffectiwd=327
	setstate=328
	setspellstate=328
	damagetypebonus=332
	bonusall=0
	bonusfire=1
	bonuscold=2
	bonuselec=3
	bonuselectricity=3
	bonusacid=4
	bonusmagic=5
	bonuspoison=6
	bonusslashing=7
	bonuspiercing=8
	bonuscrushing=9
	bonusmissile=10
	removeeffect=337
	removeopcode=337
	removeeffectsbyopcode=337
	castspellonbackstab=340
	backstabhiteffect=340
	castspelloncriticalhit=341
	criticalhiteffect=341
	overridecreaturedata=342
	hpswap=343
	swaphp=343
	enchantmentvscreaturetype=344
	modifyenchantment=345
	modifysavevsschool=346
	modifysavingthrowvsschool=346
	makeunselectable=365
	castspelloncriticalmiss=361
	criticalmissbonus=362
	modifycriticalmisschance=362
	castspellonmovement=366
	applyspellonmovement=366
	eeexsettemporaryaiscript=400
	eeexsetextendedstat=401
	eeexinvokelua=402
	eeexscreeneffects=403
	gulp=16233
	spellineffective=24534
	stringpanic=25818
	stringstunned=26050
	stringblinded=31786

	class_spell_list_stored=0
END

/**
 * Patch function. Converts any decimal number into a hexadecimal number.
 * INT_VAR value      The decimal number to convert.
 * INT_VAR minDigits  Minimum number of digits for the returned hex value. (default: 1)
 * INT_VAR prefix     A flag that indicates whether the returned number will be prefixed with "0x". (default: 0)
 * RET hexNumber      The converted hexadecimal number as string.
 */
DEFINE_PATCH_FUNCTION TO_HEX_NUMBER
INT_VAR
  value     = 0
  minDigits = 1
  prefix    = 0
RET
  hexNumber
BEGIN
  SET minDigits = (minDigits < 1) ? 1 : minDigits
  SET minDigits = (minDigits > 8) ? 8 : minDigits
  TEXT_SPRINT hexNumber ~~
  PATCH_DEFINE_ARRAY digit BEGIN ~0~ ~1~ ~2~ ~3~ ~4~ ~5~ ~6~ ~7~ ~8~ ~9~ ~a~ ~b~ ~c~ ~d~ ~e~ ~f~ END

  PATCH_IF (value < 0) BEGIN
    SET signed = 1
    SET value = 0 - value
  END ELSE BEGIN
    SET signed = 0
  END

  WHILE (value != 0) BEGIN
    SET curDigit = value BAND 0xf
    SET value = value BLSR 4
    TEXT_SPRINT hexDigit $EVAL digit(~%curDigit%~)
    TEXT_SPRINT hexNumber ~%hexDigit%%hexNumber%~
  END

  WHILE (STRING_LENGTH ~%hexNumber%~ < minDigits) BEGIN
    TEXT_SPRINT hexNumber ~0%hexNumber%~
  END

  PATCH_IF (prefix) BEGIN
    TEXT_SPRINT hexNumber ~0x%hexNumber%~
  END

  PATCH_IF (signed) BEGIN
    TEXT_SPRINT hexNumber ~-%hexNumber%~
  END
END

// Action version of TO_HEX_NUMBER
DEFINE_ACTION_FUNCTION TO_HEX_NUMBER
INT_VAR
  value     = 0
  minDigits = 1
  prefix    = 0
RET
  hexNumber
BEGIN
  OUTER_PATCH ~~ BEGIN
    LPF TO_HEX_NUMBER INT_VAR value = value minDigits = minDigits prefix = prefix RET hexNumber END
  END
END

// Internally used: Animation slots reserved by vanilla or mod-added game creatures (in hexadecimal format)
// Mods with fixed animation slots that are currently considered:
// - Bearwalker + extended Werebear animation
// - Pack Mule
OUTER_TEXT_SPRINT animationSlots ~"0410" "1000" "1003" "1004" "1100" "1101" "1102" "1103" "1104" "1105" "1200" "1201" "1202" "1203" "1204" "1205" "1206" "1207" "1208" "1300" "2000" "2100" "2200" "2300" "3000" "3001" "4000" "4001" "4002" "4010" "4012" "4100" "4101" "4102" "4110" "4112" "4200" "4300" "4400" "4410" "4500" "4600" "4700" "4710" "4800" "5000" "5001" "5002" "5003" "5010" "5011" "5012" "5013" "5100" "5101" "5102" "5103" "5110" "5111" "5112" "5113" "5200" "5201" "5202" "5210" "5211" "5212" "5300" "5301" "5302" "5303" "5310" "5311" "5312" "5313" "6000" "6001" "6002" "6003" "6004" "6005" "6010" "6011" "6012" "6013" "6014" "6015" "6100" "6101" "6102" "6103" "6104" "6105" "6110" "6111" "6112" "6113" "6114" "6115" "6200" "6201" "6202" "6204" "6205" "6210" "6211" "6212" "6214" "6215" "6300" "6301" "6302" "6303" "6304" "6305" "6310" "6311" "6312" "6313" "6314" "6315" "6400" "6401" "6402" "6403" "6404" "6405" "6406" "6500" "6510" "6621" "7000" "7001" "7100" "7101" "7200" "7201" "7202" "7203" "7300" "7301" "7302" "7310" "7311" "7312" "7313" "7314" "7320" "7321" "7400" "7401" "7402" "7500" "7501" "7600" "7601" "7602" "7603" "7604" "7700" "7701" "7702" "7703" "7800" "7801" "7802" "7900" "7901" "7902" "7903" "7904" "7a00" "7a01" "7a02" "7a03" "7a04" "7b00" "7b01" "7b02" "7b03" "7b04" "7b05" "7b06" "7c00" "7c01" "7d00" "7d01" "7d02" "7d03" "7d04" "7d05" "7d06" "7d07" "7d08" "7e00" "7e01" "7f00" "7f01" "7f02" "7f03" "7f04" "7f05" "7f06" "7f07" "7f08" "7f09" "7f0a" "7f0b" "7f0c" "7f0d" "7f0e" "7f0f" "7f10" "7f11" "7f12" "7f13" "7f14" "7f15" "7f16" "7f17" "7f18" "7f19" "7f20" "7f21" "7f22" "7f23" "7f24" "7f27" "7f28" "7f29" "7f2a" "7f2b" "7f2c" "7f2d" "7f2e" "7f2f" "7f30" "7f31" "7f32" "7f33" "7f34" "7f35" "7f36" "7f37" "7f38" "7f39" "7f3a" "7f3b" "7f3c" "7f3d" "7f3e" "7f3f" "7f40" "7f41" "7f42" "7f43" "7f44" "7f45" "7f46" "7f47" "7f48" "7f49" "7f4a" "7f4b" "7f4c" "7f4d" "7f4e" "7f4f" "7f50" "7f51" "7f52" "7f53" "7f54" "7f55" "7f56" "7f57" "7f58" "7f59" "7f5a" "7f5b" "7f5c" "7f5d" "7f5e" "7f5f" "7f60" "7f61" "7f62" "8000" "8100" "8200" "9000" "a000" "a100" "a200" "a201" "a202" "b000" "b100" "b200" "b210" "b300" "b310" "b400" "b410" "b500" "b510" "b600" "b610" "b700" "c000" "c100" "c200" "c300" "c400" "c500" "c600" "c610" "c700" "c710" "c800" "c810" "c900" "c910" "ca00" "ca10" "cb00" "cc00" "cc01" "cc02" "cc04" "d000" "d100" "d200" "d300" "d400" "e000" "e010" "e020" "e040" "e050" "e060" "e070" "e080" "e090" "e0a0" "e0b0" "e0c0" "e0d0" "e0e0" "e0f0" "e0f1" "e0f2" "e200" "e210" "e220" "e230" "e240" "e241" "e242" "e243" "e244" "e245" "e246" "e247" "e248" "e249" "e24a" "e24b" "e24c" "e24d" "e24e" "e24f" "e250" "e251" "e252" "e253" "e254" "e255" "e256" "e257" "e258" "e259" "e25a" "e25b" "e25c" "e25d" "e25e" "e25f" "e260" "e261" "e262" "e263" "e264" "e265" "e266" "e267" "e26a" "e26b" "e26d" "e26e" "e26f" "e270" "e271" "e272" "e273" "e274" "e276" "e279" "e27d" "e27e" "e27f" "e280" "e281" "e282" "e283" "e288" "e289" "e28a" "e28b" "e28c" "e28d" "e28e" "e28f" "e290" "e291" "e292" "e293" "e294" "e300" "e310" "e320" "e330" "e400" "e410" "e420" "e430" "e440" "e441" "e442" "e443" "e444" "e500" "e510" "e520" "e600" "e610" "e6fe" "e700" "e710" "e720" "e800" "e810" "e820" "e830" "e840" "e900" "e910" "ea00" "ea10" "ea20" "eb00" "eb10" "eb20" "ec00" "ec10" "ec20" "ed00" "ed10" "ed20" "ee00" "ee10" "ef10" "f000" "f001" "f002" "f003" "f004" "f005" "f006" "f007" "f008" "f009" "f00a" "f00b" "f00c" "f00d" "f00e" "f00f" "f010" "f011" "f012" "f013" "f014" "f015" "f016" "f017" "f018" "f019" "f01a" "f01b" "f01c" "f01d" "f01e" "f01f" "f020" "f021" "f022" "f023" "f024" "f025" "f026" "f027" "f028" "f029" "f02a" "f02b" "f02c" "f02d" "f02e" "f02f" "f030" "f031" "f032" "f033" "f034" "f035" "f036" "f037" "f038" "f039" "f03a" "f03b" "f03c" "f03d" "f03e" "f03f" "f040" "f041" "f042" "f043" "f044" "f045" "f046" "f047" "f048" "f049" "f04a" "f04b" "f04c" "f04d" "f04e" "f04f" "f050" "f051" "f052" "f053" "f054" "f055" "f056" "f057" "f058" "f059" "f05a" "f05b" "f05c" "f05d" "f05e" "f05f" "f060" "f061" "f062" "f100" "f101" "f22e" "f80e"~

/**
 * Patch function. Returns the first free creature animation slot in the range defined by slotMin and slotMax.
 * INT_VAR slotMin    Lowest available creature animation slot for the animation, inclusive. (Default: 0)
 * INT_VAR slotMax    Highest available creature animation slot for the animation, exclusive.
 *                    (Default: highest value for slot type indicated by "slotMin")
 * INT_VAR slotSteps  How many slots to skip after each iteration, starting from slotMin.
 *                    Setting this parameter is useful if compatible animation slots are always 
 *                    a fixed distance apart (e.g. at a distance of 0x10 each). (Default: 1)
 * RET slot           A free animation slot. Returns -1 if none are found in the given range.
 */
DEFINE_PATCH_FUNCTION FIND_FREE_ANIM_SLOT
INT_VAR
  slotMin   = 0
  slotMax   = (slotMin BAND 0xf000) + 0x1000
  slotSteps = 1
RET
  slot
BEGIN
  SET slot = "-1"
  SET slotSteps = (slotSteps < 1) ? 1 : slotSteps
  SET slotMin = (slotMin < 0) ? 0 : slotMin
  SET slotMax = (slotMax < 0) ? 0 : slotMax
  PATCH_IF (slotMax < slotMin) BEGIN
    SET tmp = slotMin
    SET slotMin = slotMax
    SET slotMax = tmp
  END

  INNER_PATCH ~%animationSlots%~ BEGIN
    FOR (idx = slotMin; idx < slotMax; idx += slotSteps) BEGIN
      LOOKUP_IDS_SYMBOL_OF_INT name ~animate~ idx
      PATCH_IF (~%name%~ STR_EQ ~%idx%~) BEGIN
        LPF TO_HEX_NUMBER INT_VAR value = idx minDigits = 4 RET hexNumber END
        PATCH_IF (NOT FILE_EXISTS_IN_GAME ~%hexNumber%.ini~ AND
                  ~%slotList%~ STRING_CONTAINS_REGEXP ~"%hexNumber%"~ != 0) BEGIN
          SET slot = idx
          SET idx = slotMax
        END
      END
    END
  END
END

// Action version of FIND_FREE_ANIM_SLOT
DEFINE_ACTION_FUNCTION FIND_FREE_ANIM_SLOT
INT_VAR
  slotMin   = 0
  slotMax   = (slotMin BAND 0xf000) + 0x1000
  slotSteps = 1
RET
  slot
BEGIN
  OUTER_PATCH ~~ BEGIN
    LPF FIND_FREE_ANIM_SLOT
    INT_VAR
      slotMin = slotMin
      slotMax = slotMax
      slotSteps = slotSteps
    RET
      slot
    END
  END
END

DEFINE_PATCH_FUNCTION ~GIVE_CORRECT_SPELL_SLOTS~
BEGIN
		PATCH_SILENT
		READ_BYTE class theclass
		PATCH_IF theclass = 3 OR theclass = 6 OR theclass = 8 OR theclass = 11 OR theclass = 12 OR theclass = 14 OR theclass = 15 OR theclass = 16 OR theclass = 17 OR theclass = 18 OR theclass = 21 BEGIN
			thelevel = 0
			PATCH_IF theclass = 3 OR theclass = 6 OR theclass = 11 OR theclass = 12 OR theclass = 14 OR theclass = 15 OR theclass = 18 OR theclass = 21 BEGIN
				READ_BYTE levelfirstclass thelevel
			END ELSE PATCH_IF theclass = 8 OR theclass = 16 BEGIN
				READ_BYTE levelsecondclass thelevel
			END ELSE PATCH_IF theclass = 17 BEGIN
				READ_BYTE levelthirdclass thelevel
			END
			TEXT_SPRINT themaxspelllevelfile ~~
			PATCH_IF theclass = 3 OR theclass = 8 OR theclass = 14 OR theclass = 15 OR theclass = 17 OR theclass = 18 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxsplprs~
			END ELSE PATCH_IF theclass = 11 OR theclass = 16 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxspldru~
			END ELSE PATCH_IF theclass = 6 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxsplpal~
			END ELSE PATCH_IF theclass = 12 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxsplran~
			END ELSE PATCH_IF theclass = 21 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxsplshm~
			END
			thenumspellslevel1 = 0
			thenumspellslevel2 = 0
			thenumspellslevel3 = 0
			thenumspellslevel4 = 0
			thenumspellslevel5 = 0
			thenumspellslevel6 = 0
			thenumspellslevel7 = 0
			INNER_ACTION BEGIN
				COPY_EXISTING ~%themaxspelllevelfile%.2da~ ~override~
					COUNT_2DA_COLS numcolumns
					COUNT_2DA_ROWS numcolumns numrows
					READ_2DA_ENTRY 0 0 numcolumns thefirstlevel
					PATCH_IF thelevel >= thefirstlevel AND (thelevel - thefirstlevel) < numrows BEGIN
						READ_2DA_ENTRY (thelevel - thefirstlevel) 1 numcolumns thenumspellslevel1
						READ_2DA_ENTRY (thelevel - thefirstlevel) 2 numcolumns thenumspellslevel2
						READ_2DA_ENTRY (thelevel - thefirstlevel) 3 numcolumns thenumspellslevel3
						PATCH_IF numcolumns >= 5 BEGIN
							READ_2DA_ENTRY (thelevel - thefirstlevel) 4 numcolumns thenumspellslevel4
						END
						PATCH_IF numcolumns >= 6 BEGIN
							READ_2DA_ENTRY (thelevel - thefirstlevel) 5 numcolumns thenumspellslevel5
						END
						PATCH_IF numcolumns >= 7 BEGIN
							READ_2DA_ENTRY (thelevel - thefirstlevel) 6 numcolumns thenumspellslevel6
						END
						PATCH_IF numcolumns >= 8 BEGIN
							READ_2DA_ENTRY (thelevel - thefirstlevel) 7 numcolumns thenumspellslevel7
						END
					END
					IF_EXISTS
					BUT_ONLY_IF_IT_CHANGES
			END
			READ_LONG 0x2A8 memorizationinfooffset
			WRITE_SHORT (memorizationinfooffset + 0x2) thenumspellslevel1
			WRITE_SHORT (memorizationinfooffset + 0x4) thenumspellslevel1
			WRITE_SHORT (memorizationinfooffset + 0x12) thenumspellslevel2
			WRITE_SHORT (memorizationinfooffset + 0x14) thenumspellslevel2
			WRITE_SHORT (memorizationinfooffset + 0x22) thenumspellslevel3
			WRITE_SHORT (memorizationinfooffset + 0x24) thenumspellslevel3
			WRITE_SHORT (memorizationinfooffset + 0x32) thenumspellslevel4
			WRITE_SHORT (memorizationinfooffset + 0x34) thenumspellslevel4
			WRITE_SHORT (memorizationinfooffset + 0x42) thenumspellslevel5
			WRITE_SHORT (memorizationinfooffset + 0x44) thenumspellslevel5
			WRITE_SHORT (memorizationinfooffset + 0x52) thenumspellslevel6
			WRITE_SHORT (memorizationinfooffset + 0x54) thenumspellslevel6
			WRITE_SHORT (memorizationinfooffset + 0x62) thenumspellslevel7
			WRITE_SHORT (memorizationinfooffset + 0x64) thenumspellslevel7
		END

		PATCH_IF theclass = 1 OR theclass = 5 OR theclass = 7 OR theclass = 10 OR theclass = 13 OR theclass = 14 OR theclass = 17 OR theclass = 19 BEGIN
			thelevel = 0
			PATCH_IF theclass = 1 OR theclass = 5 OR theclass = 13 OR theclass = 19 BEGIN
				READ_BYTE levelfirstclass thelevel
			END ELSE PATCH_IF theclass = 7 OR theclass = 10 OR theclass = 14 OR theclass = 17 BEGIN
				READ_BYTE levelsecondclass thelevel
			END
			TEXT_SPRINT themaxspelllevelfile ~~
			PATCH_IF theclass = 1 OR theclass = 7 OR theclass = 10 OR theclass = 13 OR theclass = 14 OR theclass = 17 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxsplwiz~
			END ELSE PATCH_IF theclass = 5 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxsplbrd~
			END ELSE PATCH_IF theclass = 19 BEGIN
				TEXT_SPRINT themaxspelllevelfile ~mxsplsrc~
			END
			thenumspellslevel1 = 0
			thenumspellslevel2 = 0
			thenumspellslevel3 = 0
			thenumspellslevel4 = 0
			thenumspellslevel5 = 0
			thenumspellslevel6 = 0
			thenumspellslevel7 = 0
			thenumspellslevel8 = 0
			thenumspellslevel9 = 0
			INNER_ACTION BEGIN
				COPY_EXISTING ~%themaxspelllevelfile%.2da~ ~override~
					COUNT_2DA_COLS numcolumns
					COUNT_2DA_ROWS numcolumns numrows
					READ_2DA_ENTRY 0 0 numcolumns thefirstlevel
					PATCH_IF thelevel >= thefirstlevel AND (thelevel - thefirstlevel) < numrows BEGIN
						READ_2DA_ENTRY (thelevel - thefirstlevel) 1 numcolumns thenumspellslevel1
						READ_2DA_ENTRY (thelevel - thefirstlevel) 2 numcolumns thenumspellslevel2
						READ_2DA_ENTRY (thelevel - thefirstlevel) 3 numcolumns thenumspellslevel3
						READ_2DA_ENTRY (thelevel - thefirstlevel) 4 numcolumns thenumspellslevel4
						READ_2DA_ENTRY (thelevel - thefirstlevel) 5 numcolumns thenumspellslevel5
						READ_2DA_ENTRY (thelevel - thefirstlevel) 6 numcolumns thenumspellslevel6
						PATCH_IF numcolumns >= 8 BEGIN
							READ_2DA_ENTRY (thelevel - thefirstlevel) 7 numcolumns thenumspellslevel7
						END
						PATCH_IF numcolumns >= 9 BEGIN
							READ_2DA_ENTRY (thelevel - thefirstlevel) 7 numcolumns thenumspellslevel8
						END
						PATCH_IF numcolumns >= 10 BEGIN
							READ_2DA_ENTRY (thelevel - thefirstlevel) 7 numcolumns thenumspellslevel9
						END
					END
					IF_EXISTS
					BUT_ONLY_IF_IT_CHANGES
			END
			READ_SHORT kit thekit
			PATCH_IF thekit = kitdragondisciple BEGIN
				PATCH_IF thenumspellslevel1 > 0 BEGIN
					thenumspellslevel1 -= 1
				END
				PATCH_IF thenumspellslevel2 > 0 BEGIN
					thenumspellslevel2 -= 1
				END
				PATCH_IF thenumspellslevel3 > 0 BEGIN
					thenumspellslevel3 -= 1
				END
				PATCH_IF thenumspellslevel4 > 0 BEGIN
					thenumspellslevel4 -= 1
				END
				PATCH_IF thenumspellslevel5 > 0 BEGIN
					thenumspellslevel5 -= 1
				END
				PATCH_IF thenumspellslevel6 > 0 BEGIN
					thenumspellslevel6 -= 1
				END
				PATCH_IF thenumspellslevel7 > 0 BEGIN
					thenumspellslevel7 -= 1
				END
				PATCH_IF thenumspellslevel8 > 0 BEGIN
					thenumspellslevel8 -= 1
				END
				PATCH_IF thenumspellslevel9 > 0 BEGIN
					thenumspellslevel9 -= 1
				END
			END ELSE PATCH_IF (~%themaxspelllevelfile%~ STRING_EQUAL_CASE ~mxsplwiz~) AND thekit != 0 AND thekit != 0x4000 BEGIN
				PATCH_IF thenumspellslevel1 > 0 BEGIN
					thenumspellslevel1 += 1
				END
				PATCH_IF thenumspellslevel2 > 0 BEGIN
					thenumspellslevel2 += 1
				END
				PATCH_IF thenumspellslevel3 > 0 BEGIN
					thenumspellslevel3 += 1
				END
				PATCH_IF thenumspellslevel4 > 0 BEGIN
					thenumspellslevel4 += 1
				END
				PATCH_IF thenumspellslevel5 > 0 BEGIN
					thenumspellslevel5 += 1
				END
				PATCH_IF thenumspellslevel6 > 0 BEGIN
					thenumspellslevel6 += 1
				END
				PATCH_IF thenumspellslevel7 > 0 BEGIN
					thenumspellslevel7 += 1
				END
				PATCH_IF thenumspellslevel8 > 0 BEGIN
					thenumspellslevel8 += 1
				END
				PATCH_IF thenumspellslevel9 > 0 BEGIN
					thenumspellslevel9 += 1
				END
			END
			READ_LONG 0x2A8 memorizationinfooffset
			WRITE_SHORT (memorizationinfooffset + 0x72) thenumspellslevel1
			WRITE_SHORT (memorizationinfooffset + 0x74) thenumspellslevel1
			WRITE_SHORT (memorizationinfooffset + 0x82) thenumspellslevel2
			WRITE_SHORT (memorizationinfooffset + 0x84) thenumspellslevel2
			WRITE_SHORT (memorizationinfooffset + 0x92) thenumspellslevel3
			WRITE_SHORT (memorizationinfooffset + 0x94) thenumspellslevel3
			WRITE_SHORT (memorizationinfooffset + 0xA2) thenumspellslevel4
			WRITE_SHORT (memorizationinfooffset + 0xA4) thenumspellslevel4
			WRITE_SHORT (memorizationinfooffset + 0xB2) thenumspellslevel5
			WRITE_SHORT (memorizationinfooffset + 0xB4) thenumspellslevel5
			WRITE_SHORT (memorizationinfooffset + 0xC2) thenumspellslevel6
			WRITE_SHORT (memorizationinfooffset + 0xC4) thenumspellslevel6
			WRITE_SHORT (memorizationinfooffset + 0xD2) thenumspellslevel7
			WRITE_SHORT (memorizationinfooffset + 0xD4) thenumspellslevel7
			WRITE_SHORT (memorizationinfooffset + 0xE2) thenumspellslevel8
			WRITE_SHORT (memorizationinfooffset + 0xE4) thenumspellslevel8
			WRITE_SHORT (memorizationinfooffset + 0xF2) thenumspellslevel9
			WRITE_SHORT (memorizationinfooffset + 0xF4) thenumspellslevel9
		END
		PATCH_VERBOSE

END

DEFINE_PATCH_FUNCTION ~GIVE_CORRECT_PRIEST_SPELLS~
BEGIN
		PATCH_SILENT
		READ_BYTE class theclass
		thelevel = 0
		PATCH_IF theclass = 3 OR theclass = 6 OR theclass = 11 OR theclass = 12 OR theclass = 14 OR theclass = 15 OR theclass = 18 OR theclass = 21 BEGIN
			READ_BYTE levelfirstclass thelevel
		END ELSE PATCH_IF theclass = 8 OR theclass = 16 BEGIN
			READ_BYTE levelsecondclass thelevel
		END ELSE PATCH_IF theclass = 17 BEGIN
			READ_BYTE levelthirdclass thelevel
		END
		TEXT_SPRINT themaxspelllevelfile ~~
		PATCH_IF theclass = 3 OR theclass = 8 OR theclass = 14 OR theclass = 15 OR theclass = 17 OR theclass = 18 BEGIN
			TEXT_SPRINT themaxspelllevelfile ~mxsplprs~
		END ELSE PATCH_IF theclass = 11 OR theclass = 16 BEGIN
			TEXT_SPRINT themaxspelllevelfile ~mxspldru~
		END ELSE PATCH_IF theclass = 6 BEGIN
			TEXT_SPRINT themaxspelllevelfile ~mxsplpal~
		END ELSE PATCH_IF theclass = 12 BEGIN
			TEXT_SPRINT themaxspelllevelfile ~mxsplran~
		END ELSE PATCH_IF theclass = 21 BEGIN
			TEXT_SPRINT themaxspelllevelfile ~mxsplshm~
		END
		themaxspelllevel = 0
		INNER_ACTION BEGIN
			COPY_EXISTING ~%themaxspelllevelfile%.2da~ ~override~
				COUNT_2DA_COLS numcolumns
				COUNT_2DA_ROWS numcolumns numrows
				READ_2DA_ENTRY 0 0 numcolumns thefirstlevel
					PATCH_IF thelevel >= thefirstlevel AND (thelevel - thefirstlevel) < numrows BEGIN
					FOR (i = 1; i < numcolumns; ++i) BEGIN
						READ_2DA_ENTRY (thelevel - thefirstlevel) i numcolumns thenumspellsleveli
						PATCH_IF thenumspellsleveli > 0 BEGIN
							themaxspelllevel += 1
						END
					END
				END
				IF_EXISTS
				BUT_ONLY_IF_IT_CHANGES
		END
		PATCH_IF theclass = 3 OR theclass = 6 OR theclass = 8 OR theclass = 14 OR theclass = 15 OR theclass = 17 OR theclass = 18 BEGIN
			READ_BYTE alignment thealignment
			PATCH_IF thealignment = 17 OR thealignment = 33 OR thealignment = 49 BEGIN
				PHP_EACH good_cleric_spell_list AS thelistspellname => thelistspelllevel BEGIN
					PATCH_IF themaxspelllevel >= thelistspelllevel BEGIN
						PATCH_IF thelistspelllevel = 1 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #0 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 2 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #1 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 3 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #2 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 4 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #3 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 5 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #4 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 6 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #5 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 7 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #6 ~priest~
						END
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%thelistspellname%~
					END
				END
			END ELSE PATCH_IF thealignment = 18 OR thealignment = 34 OR thealignment = 50 BEGIN
				PHP_EACH neutral_cleric_spell_list AS thelistspellname => thelistspelllevel BEGIN
					PATCH_IF themaxspelllevel >= thelistspelllevel BEGIN
						PATCH_IF thelistspelllevel = 1 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #0 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 2 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #1 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 3 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #2 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 4 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #3 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 5 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #4 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 6 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #5 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 7 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #6 ~priest~
						END
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%thelistspellname%~
					END
				END
			END ELSE PATCH_IF thealignment = 19 OR thealignment = 35 OR thealignment = 51 BEGIN
				PHP_EACH evil_cleric_spell_list AS thelistspellname => thelistspelllevel BEGIN
					PATCH_IF themaxspelllevel >= thelistspelllevel BEGIN
						PATCH_IF thelistspelllevel = 1 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #0 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 2 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #1 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 3 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #2 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 4 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #3 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 5 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #4 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 6 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #5 ~priest~
						END ELSE PATCH_IF thelistspelllevel = 7 BEGIN
							ADD_KNOWN_SPELL ~MEPHSPL~ #6 ~priest~
						END
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%thelistspellname%~
					END
				END
			END
			REMOVE_MEMORIZED_SPELL ~sppr110~ ~sppr202~ ~sppr206~ ~sppr210~ ~sppr306~ ~sppr402~ ~sppr501~ ~sppr602~ ~sppr604~
			REMOVE_KNOWN_SPELL ~sppr110~ ~sppr202~ ~sppr206~ ~sppr210~ ~sppr306~ ~sppr402~ ~sppr501~ ~sppr602~ ~sppr604~
/*
			PATCH_IF thealignment = 17 OR thealignment = 33 OR thealignment = 49 BEGIN
				REMOVE_MEMORIZED_SPELL ~sppr314~
				REMOVE_KNOWN_SPELL ~sppr314~
				REMOVE_MEMORIZED_SPELL ~sppr320~
				REMOVE_KNOWN_SPELL ~sppr320~
				REMOVE_MEMORIZED_SPELL ~sppr323~
				REMOVE_KNOWN_SPELL ~sppr323~
				REMOVE_MEMORIZED_SPELL ~sppr423~
				REMOVE_KNOWN_SPELL ~sppr423~
			END ELSE PATCH_IF thealignment = 18 OR thealignment = 34 OR thealignment = 50 BEGIN
				REMOVE_MEMORIZED_SPELL ~sppr314~
				REMOVE_KNOWN_SPELL ~sppr314~
			END ELSE PATCH_IF thealignment = 19 OR thealignment = 35 OR thealignment = 51 BEGIN
				REMOVE_MEMORIZED_SPELL ~sppr520~
				REMOVE_KNOWN_SPELL ~sppr520~
			END
*/
		END ELSE PATCH_IF theclass = 11 OR theclass = 12 OR theclass = 16 OR theclass = 21 BEGIN
			PHP_EACH druid_spell_list AS thelistspellname => thelistspelllevel BEGIN
				PATCH_IF themaxspelllevel >= thelistspelllevel BEGIN
					PATCH_IF thelistspelllevel = 1 BEGIN
						ADD_KNOWN_SPELL ~MEPHSPL~ #0 ~priest~
					END ELSE PATCH_IF thelistspelllevel = 2 BEGIN
						ADD_KNOWN_SPELL ~MEPHSPL~ #1 ~priest~
					END ELSE PATCH_IF thelistspelllevel = 3 BEGIN
						ADD_KNOWN_SPELL ~MEPHSPL~ #2 ~priest~
					END ELSE PATCH_IF thelistspelllevel = 4 BEGIN
						ADD_KNOWN_SPELL ~MEPHSPL~ #3 ~priest~
					END ELSE PATCH_IF thelistspelllevel = 5 BEGIN
						ADD_KNOWN_SPELL ~MEPHSPL~ #4 ~priest~
					END ELSE PATCH_IF thelistspelllevel = 6 BEGIN
						ADD_KNOWN_SPELL ~MEPHSPL~ #5 ~priest~
					END ELSE PATCH_IF thelistspelllevel = 7 BEGIN
						ADD_KNOWN_SPELL ~MEPHSPL~ #6 ~priest~
					END
					REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%thelistspellname%~
				END
			END
			REMOVE_MEMORIZED_SPELL ~sppr101~ ~sppr104~ ~sppr111~ ~sppr310~ ~sppr311~ ~sppr312~
			REMOVE_KNOWN_SPELL ~sppr101~ ~sppr104~ ~sppr111~ ~sppr310~ ~sppr311~ ~sppr312~
		END
		PATCH_VERBOSE
END

DEFINE_PATCH_FUNCTION ~ALTER_ACTOR_AT_POINT~
	INT_VAR
		match_x_coord=0xDEFA
		match_y_coord=0xDEFA
		x_coord=0xDEFA
		y_coord=0xDEFA
		orientation=0xDEFA
		schedule=0xDEFA
	STR_VAR
		actor_name=~DEFA~
		script_override=~DEFA~
		script_specifics=~DEFA~
		script_class=~DEFA~
		script_race=~DEFA~
		script_general=~DEFA~
		script_default=~DEFA~
		cre_file=~DEFA~
	BEGIN
		READ_LONG 0x54 actoroffset
		READ_SHORT 0x58 actornumber
		FOR (i = 0; i < actornumber; ++i) BEGIN
			SET offset = actoroffset + (i * 0x110)
			READ_SHORT (offset + 0x20) xpos
			READ_SHORT (offset + 0x22) ypos
			PATCH_IF (xpos = match_x_coord AND ypos = match_y_coord) BEGIN
				PATCH_IF (schedule != 0xDEFA) BEGIN
					WRITE_LONG (offset + 0x40) schedule
				END
				PATCH_IF (x_coord != 0xDEFA AND y_coord != 0xDEFA) BEGIN
					WRITE_SHORT (offset + 0x20) x_coord
					WRITE_SHORT (offset + 0x22) y_coord
					WRITE_SHORT (offset + 0x24) x_coord
					WRITE_SHORT (offset + 0x26) y_coord
				END
				PATCH_IF (orientation != 0xDEFA) BEGIN
					WRITE_SHORT (offset + 0x34) orientation
				END
				PATCH_IF (~%actor_name%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE offset ~%actor_name%~ #32
				END
				PATCH_IF (~%script_override%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE (offset + 0x50) ~%script_override%~ #8
				END
				PATCH_IF (~%script_general%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE (offset + 0x58) ~%script_general%~ #8
				END
				PATCH_IF (~%script_class%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE (offset + 0x60) ~%script_class%~ #8
				END
				PATCH_IF (~%script_race%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE (offset + 0x68) ~%script_race%~ #8
				END
				PATCH_IF (~%script_default%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE (offset + 0x70) ~%script_default%~ #8
				END
				PATCH_IF (~%script_specifics%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE (offset + 0x78) ~%script_specifics%~ #8
				END
				PATCH_IF (~%cre_file%~ STRING_EQUAL ~DEFA~)=0 BEGIN
					WRITE_ASCIIE (offset + 0x80) ~%cre_file%~ #8
				END
			END
		END
	END

DEFINE_PATCH_FUNCTION ~ADD_ITEM_HEADER~
  INT_VAR
    type=3
    required_id=0
    location=3
    alt_dicesize=0
    target=1
    target_count=0
    range=0
    projectile_type=0
    alt_dicenumber=0
    speed=0
    alt_damage=0
    thaco=0
    dicesize=0
    school=0
    dicenumber=0
    sectype=0
    damage=0
    damage_type=0
    charges=0
    depletion=0
    flags=0
    projectile=1
    overhand=0
    backhand=0
    thrust=0
    is_bow=0
    is_xbow=0
    is_sling=0

    copy_header=0
    insert_point=~-1~
  STR_VAR
    icon=~~
  RET
    insert_point
BEGIN
  hs=0x38

  READ_LONG 0x64 ho
  READ_SHORT 0x68 hc
  READ_LONG 0x6a eo
  insert_point = (insert_point>hc || insert_point<0) ? hc : insert_point
  copy_header = (copy_header<0) ? 0 : copy_header

  PATCH_IF copy_header>hc BEGIN
    PATCH_WARN ~Unable to copy %copy_header%th header, %SOURCE_FILE% contains only %hc% headers!~
  END ELSE BEGIN
    INSERT_BYTES ho+insert_point*hs hs
    hc+=1
    eo+=hs
    PATCH_IF copy_header BEGIN
      READ_SHORT ho+(copy_header - 1)*hs+0x1e ec
      READ_SHORT ho+(copy_header - 1)*hs+0x20 ei
      READ_ASCII eo+ei*0x30 effs (ec*0x30)
      READ_ASCII ho+(copy_header - 1)*hs copy (hs)
      WRITE_ASCIIE ho+insert_point*hs ~%copy%~ (hs)
    END
    WRITE_SHORT 0x68 hc
    WRITE_LONG 0x6a eo

    READ_SHORT 0x70 ei
    FOR (i=ho;i<ho+hc*hs;i+=hs) BEGIN
      READ_SHORT i+0x1e ec
      WRITE_SHORT i+0x20 ei
      ei+=ec
    END

    PATCH_IF copy_header BEGIN
      READ_SHORT ho+insert_point*hs+0x1e ec
      READ_SHORT ho+insert_point*hs+0x20 ei
      INSERT_BYTES eo+ei*0x30 ec*0x30
      WRITE_ASCIIE eo+ei*0x30 ~%effs%~ (ec*0x30)
    END ELSE BEGIN
      off=ho+insert_point*hs
      WRITE_BYTE off type
      WRITE_BYTE off+0x1 required_id
      WRITE_BYTE off+0x2 location
      WRITE_BYTE off+0x3 alt_dicesize
      WRITE_ASCIIE off+0x4 ~%icon%~ (8)
      WRITE_BYTE off+0xc target
      WRITE_BYTE off+0xd target_count
      WRITE_SHORT off+0xe range
      WRITE_BYTE off+0x10 projectile_type
      WRITE_BYTE off+0x11 alt_dicenumber
      WRITE_BYTE off+0x12 speed
      WRITE_BYTE off+0x13 alt_damage
      WRITE_SHORT off+0x14 thaco
      WRITE_BYTE off+0x16 dicesize
      WRITE_BYTE off+0x17 school
      WRITE_BYTE off+0x18 dicenumber
      WRITE_BYTE off+0x19 sectype
      WRITE_SHORT off+0x1a damage
      WRITE_SHORT off+0x1c damage_type
      WRITE_SHORT off+0x22 charges
      WRITE_SHORT off+0x24 depletion
      WRITE_LONG off+0x26 flags
      WRITE_SHORT off+0x2a projectile
      WRITE_SHORT off+0x2c overhand
      WRITE_SHORT off+0x2e backhand
      WRITE_SHORT off+0x30 thrust
      WRITE_SHORT off+0x32 is_bow
      WRITE_SHORT off+0x34 is_xbow
      WRITE_SHORT off+0x36 is_sling
    END
  END
END

DEFINE_PATCH_FUNCTION ~ADD_SPELL_HEADER~
	INT_VAR
		type=1
		location=4
		target=1
		target_count=0
		range=0
		required_level=1
		speed=0
		projectile=1

		copy_header=0
		insert_point=~-1~
	STR_VAR
		icon=~~
	RET
		insert_point
BEGIN
  hs=0x28

  READ_LONG 0x64 ho
  READ_SHORT 0x68 hc
  READ_LONG 0x6a eo
  insert_point = (insert_point>hc || insert_point<0) ? hc : insert_point
  copy_header = (copy_header<0) ? 0 : copy_header

  PATCH_IF copy_header>hc BEGIN
    PATCH_WARN ~Unable to copy %copy_header%th header, %SOURCE_FILE% contains only %hc% headers!~
  END ELSE BEGIN
    INSERT_BYTES ho+insert_point*hs hs
    hc+=1
    eo+=hs
    PATCH_IF copy_header BEGIN
      READ_SHORT ho+(copy_header - 1)*hs+0x1e ec
      READ_SHORT ho+(copy_header - 1)*hs+0x20 ei
      READ_ASCII eo+ei*0x30 effs (ec*0x30)
      READ_ASCII ho+(copy_header - 1)*hs copy (hs)
      WRITE_ASCIIE ho+insert_point*hs ~%copy%~ (hs)
    END
    WRITE_SHORT 0x68 hc
    WRITE_LONG 0x6a eo

    READ_SHORT 0x70 ei
    FOR (i=ho;i<ho+hc*hs;i+=hs) BEGIN
      READ_SHORT i+0x1e ec
      WRITE_SHORT i+0x20 ei
      ei+=ec
    END

    PATCH_IF copy_header BEGIN
      READ_SHORT ho+insert_point*hs+0x1e ec
      READ_SHORT ho+insert_point*hs+0x20 ei
      INSERT_BYTES eo+ei*0x30 ec*0x30
      WRITE_ASCIIE eo+ei*0x30 ~%effs%~ (ec*0x30)
    END ELSE BEGIN
      off=ho+insert_point*hs
      WRITE_BYTE off type
      WRITE_BYTE off+0x2 location
      WRITE_ASCIIE off+0x4 ~%icon%~ (8)
      WRITE_BYTE off+0xc target
      WRITE_BYTE off+0xd target_count
      WRITE_SHORT off+0xe range
      WRITE_SHORT off+0x10 required_level
      WRITE_LONG off+0x12 speed
      WRITE_SHORT off+0x26 projectile
    END
  END
END

DEFINE_ACTION_FUNCTION ADD_ANIMATION
	INT_VAR
		minSlot=0
		start_animate=1
		start_anisnd=0
	STR_VAR
		ini=~~
		directory=~~
	RET
		end_animate
		end_anisnd
		slotDecimal
		slotHex
BEGIN
	LAF FIND_FREE_ANIM_SLOT INT_VAR slotMin=minSlot RET slotDecimal=slot END
	LAF TO_HEX_NUMBER INT_VAR value=slotDecimal RET hexNumber END
	OUTER_TEXT_SPRINT slotHex ~%hexNumber%~
	ACTION_TO_UPPER %slotHex%
	ACTION_IF (~%directory%~ STRING_EQUAL_CASE ~~) BEGIN
		COPY_EXISTING ~%ini%.ini~ ~override/%slotHex%.ini~
			READ_2DA_ENTRY 0 1 3 animationprefix
			READ_2DA_ENTRY 0 2 3 animationname
	END ELSE BEGIN
		COPY ~%directory%/%ini%.ini~ ~override/%slotHex%.ini~
			READ_2DA_ENTRY 0 1 3 animationprefix
			READ_2DA_ENTRY 0 2 3 animationname
	END
	ACTION_TO_UPPER %animationname%

	COPY_EXISTING ~animate.ids~ ~override~
		FOR (i = start_animate; i < 0xFFFF; ++i) BEGIN
			READ_2DA_ENTRY i 0 2 current
			PATCH_IF (current > slotDecimal) BEGIN
				INSERT_2DA_ROW i 2 ~0x%slotHex% %animationname%~
				end_animate=i
				i=0xFFFF
			END
		END
	
	COPY_EXISTING ~anisnd.ids~ ~override~
		FOR (i = start_anisnd; i < 0xFFFF; ++i) BEGIN
			READ_2DA_ENTRY i 0 3 current
			PATCH_IF (current > slotDecimal) BEGIN
				INSERT_2DA_ROW i 3 ~0x%slotHex% %animationprefix%    CGAMEANIMATIONTYPE_%animationname%~
				end_anisnd=i
				i=0xFFFF
			END
		END
END



DEFINE_ACTION_FUNCTION ~GET_UNIQUE_SPELL_NAME~
	STR_VAR
		prefix=~DEFA~
	RET
		filename
	BEGIN
		OUTER_FOR(i=0; i<10; ++i) BEGIN
			OUTER_FOR(j=0; j<10; ++j) BEGIN
				ACTION_IF (NOT FILE_EXISTS_IN_GAME ~%prefix%%i%%j%.spl~ AND NOT (i=0 AND j=0)) BEGIN
					OUTER_TEXT_SPRINT filename ~%prefix%%i%%j%~
					OUTER_SET i = 10
					OUTER_SET j = 10
				END
			END
		END
	END

DEFINE_ACTION_FUNCTION ADD_SPLPROT_CONDITION
	STR_VAR
		splprot_stat=~*~
		splprot_value=~*~
		splprot_relation=~*~
	RET
		splprot_slot
BEGIN
	COPY_EXISTING ~splprot.2da~ ~override~
		COUNT_2DA_ROWS 4 numrows
		INSERT_2DA_ROW numrows 4 ~%numrows%        %splprot_stat%         %splprot_value%        %splprot_relation%~
		splprot_slot=numrows
END

DEFINE_ACTION_FUNCTION ~ADD_AREA_ACTORS_2DA~
	INT_VAR
		addthroughscript=1
	STR_VAR
		variablename=~ME_Add_Creatures~
		the2da=~~
BEGIN
	SILENT
	COPY_EXISTING ~%the2da%.2da~ ~override~
		COUNT_2DA_COLS numcolumns
		COUNT_2DA_ROWS numcolumns numrows		
		TEXT_SPRINT previousarea ~DEFA~
		PATCH_IF addthroughscript=1 BEGIN
			FOR (i = 0; i < numrows; ++i) BEGIN
				READ_2DA_ENTRY i 0 numcolumns thearea
				READ_2DA_ENTRY i 1 numcolumns thex
				READ_2DA_ENTRY i 2 numcolumns they
				READ_2DA_ENTRY i 4 numcolumns thefile
				READ_2DA_ENTRY i 5 numcolumns theorientation
				PATCH_IF !(FILE_EXISTS_IN_GAME ~%thearea%.bcs~) BEGIN
					INNER_ACTION BEGIN
<<<<<<<< .../%thearea%.baf
>>>>>>>>
COMPILE ~.../%thearea%.baf~ EVAL
					END
				END
				PATCH_IF !(~%thearea%~ STRING_EQUAL_CASE ~%previousarea%~) BEGIN
					INNER_ACTION BEGIN
<<<<<<<< .../script.baf
	
IF
	Global("%variablename%","MYAREA",0)
THEN
	RESPONSE #100
		SetGlobal("%variablename%","MYAREA",1)
END
	
>>>>>>>>
	
EXTEND_TOP ~%thearea%.bcs~ ~.../script.baf~ EVAL
					END
				END
				INNER_ACTION BEGIN
					COPY_EXISTING ~%thearea%.bcs~ ~override~
						DECOMPILE_BCS_TO_BAF
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~SetGlobal(\"%variablename%\",\"MYAREA\",1)~ ~SetGlobal("%variablename%","MYAREA",1)
	CreateCreatureImpassable("%thefile%",[%thex%.%they%],%theorientation%)~
						COMPILE_BAF_TO_BCS
				END
				TEXT_SPRINT previousarea ~%thearea%~
			END
		END
		ELSE BEGIN
			FOR (i = 0; i < numrows; ++i) BEGIN
				READ_2DA_ENTRY i 0 numcolumns thearea
				READ_2DA_ENTRY i 1 numcolumns thex
				READ_2DA_ENTRY i 2 numcolumns they
				READ_2DA_ENTRY i 3 numcolumns thename
				READ_2DA_ENTRY i 4 numcolumns thefile
				READ_2DA_ENTRY i 5 numcolumns theorientation
				INNER_ACTION BEGIN
					COPY_EXISTING ~%thearea%.are~ ~override~
						LPF fj_are_structure INT_VAR fj_loc_x=thex fj_loc_y=they fj_orientation=theorientation STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~%thename%~ fj_cre_resref= EVAL ~%thefile%~ END
				END
				TEXT_SPRINT previousarea ~%thearea%~
			END
		END
		BUT_ONLY_IF_IT_CHANGES
	VERBOSE
END

DEFINE_PATCH_FUNCTION ~GET_2DA_ROW~
	INT_VAR
		numcolumns=0
		match_column=0
		found_it=0
	STR_VAR
		match=~DEFA~
	RET
		numcols
		matched
BEGIN
		matched=~-1~
		COUNT_2DA_ROWS numcolumns numrows
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i match_column numcolumns string_to_match
			PATCH_IF (~%string_to_match%~ STRING_EQUAL_CASE ~%match%~) BEGIN
				matched = i
				found_it = 1
				i = numrows
			END
		END
		numcols = numcolumns
		PATCH_IF (found_it = 0) BEGIN
			PATCH_WARN ~GET_2DA_ROW: Could not find a row that contains %match% in column %match_column%.~
		END
END

DEFINE_ACTION_FUNCTION ~GET_KIT_ID~
	STR_VAR
		kit=~~
	RET
		id
BEGIN
		COPY_EXISTING ~kitlist.2da~ ~override~
			id=~-1~
			COUNT_2DA_ROWS 10 numrows
			FOR (i = 1; i < numrows; ++i) BEGIN
				READ_2DA_ENTRY i 1 10 kitname
				PATCH_IF (~%kitname%~ STRING_EQUAL_CASE ~%kit%~) BEGIN
					READ_2DA_ENTRY i 9 10 id
					i = numrows
				END
			END

END

DEFINE_PATCH_FUNCTION ~REPLACE_IN_SPELL_DESCRIPTION~
	INT_VAR
		match_case=0
		new_string=0
	STR_VAR
		match=~DEFA~
		replace_with=~~
BEGIN

	READ_LONG UNIDENTIFIED_DESC description_ref
	GET_STRREF description_ref description_old
	INNER_PATCH_SAVE description_new ~%description_old%~ BEGIN
		PATCH_IF match_case = 0 BEGIN
			REPLACE_TEXTUALLY CASE_INSENSITIVE ~%match%~ ~%replace_with%~
		END
		ELSE BEGIN
			REPLACE_TEXTUALLY CASE_SENSITIVE ~%match%~ ~%replace_with%~
		END
	END
	PATCH_IF new_string = 0 BEGIN
		INNER_ACTION BEGIN
			STRING_SET_EVALUATE description_ref ~%description_new%~
		END
	END
	ELSE BEGIN
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	END
END

DEFINE_ACTION_FUNCTION ~ACTION_APPEND_TO_STRING~
	INT_VAR
		strref=(0 - 1)
		new_string=0
	STR_VAR
		newtext=~~
	RET
		new_strref
		description_new
BEGIN
	ACTION_GET_STRREF strref description_old
	OUTER_SPRINT description_new ~%description_old%~ ^ ~%newtext%~
	ACTION_IF new_string = 0 BEGIN
		STRING_SET_EVALUATE strref ~%description_new%~
	END
	OUTER_SET new_strref = RESOLVE_STR_REF(~%description_new%~)
END

DEFINE_PATCH_FUNCTION ~PATCH_APPEND_TO_STRING~
	INT_VAR
		strref=(0 - 1)
		new_string=0
	STR_VAR
		newtext=~~
	RET
		new_strref
		description_new
BEGIN
	GET_STRREF strref description_old
	SPRINT description_new ~%description_old%~ ^ ~%newtext%~
	PATCH_IF new_string = 0 BEGIN
		INNER_ACTION BEGIN
			STRING_SET_EVALUATE strref ~%description_new%~
		END
	END
	new_strref = RESOLVE_STR_REF(~%description_new%~)
END

DEFINE_ACTION_FUNCTION ~ACTION_REPLACE_IN_STRING~
	INT_VAR
		strref=(0 - 1)
		match_case=0
		new_string=0
	STR_VAR
		match=~DEFA~
		replace_with=~~
	RET
		new_strref
		description_new
BEGIN
	ACTION_GET_STRREF strref description_old
	OUTER_PATCH_SAVE description_new ~%description_old%~ BEGIN
		PATCH_IF match_case = 0 BEGIN
			REPLACE_TEXTUALLY CASE_INSENSITIVE ~%match%~ ~%replace_with%~
		END
		ELSE BEGIN
			REPLACE_TEXTUALLY CASE_SENSITIVE ~%match%~ ~%replace_with%~
		END
	END
	ACTION_IF new_string = 0 BEGIN
		STRING_SET_EVALUATE strref ~%description_new%~
	END
	OUTER_SET new_strref = RESOLVE_STR_REF(~%description_new%~)
END

DEFINE_PATCH_FUNCTION ~PATCH_REPLACE_IN_STRING~
	INT_VAR
		strref=(0 - 1)
		match_case=0
		new_string=0
	STR_VAR
		match=~DEFA~
		replace_with=~~
	RET
		new_strref
		description_new
BEGIN
	GET_STRREF strref description_old
	INNER_PATCH_SAVE description_new ~%description_old%~ BEGIN
		PATCH_IF match_case = 0 BEGIN
			REPLACE_TEXTUALLY CASE_INSENSITIVE ~%match%~ ~%replace_with%~
		END
		ELSE BEGIN
			REPLACE_TEXTUALLY CASE_SENSITIVE ~%match%~ ~%replace_with%~
		END
	END
	PATCH_IF new_string = 0 BEGIN
		INNER_ACTION BEGIN
			STRING_SET_EVALUATE strref ~%description_new%~
		END
	END
	new_strref = RESOLVE_STR_REF(~%description_new%~)
END

DEFINE_ACTION_FUNCTION ~ADD_CONTINGENCY~
	INT_VAR
		description=0
		new_title=1
		new_action=0
	STR_VAR
		resource=~~
		title=~~
		title_name=~~
		action=~~
		action_name=~~
BEGIN

ACTION_IF new_title = 1 BEGIN
	COPY_EXISTING ~l_en_us.lua~ ~override~
		REPLACE_TEXTUALLY EXACT_MATCH ~uiStrings = {~ ~uiStrings = {
	%title% = "%title_name%",~
END

ACTION_IF new_action = 1 BEGIN
	COPY_EXISTING ~l_en_us.lua~ ~override~
		REPLACE_TEXTUALLY EXACT_MATCH ~uiStrings = {~ ~uiStrings = {
	%action% = "%action_name%",~
END

COPY_EXISTING ~bgee.lua~ ~override~
	REPLACE_TEXTUALLY EXACT_MATCH ~mageBookStrings = {~ ~mageBookStrings = {
	%resource% = {tip = %description%, title = '%title%', action = "%action%"},~
END

DEFINE_ACTION_FUNCTION ~EXCLUDE_SPELL_FROM_CONTINGENCY~
	INT_VAR
		level=~-1~
	STR_VAR
		resource=~~
BEGIN
	COPY_EXISTING ~%resource%.spl~ ~override~
		PATCH_IF level = ~-1~ BEGIN
			READ_LONG spelllevel level
		END
		IF_EXISTS

	COPY_EXISTING ~contingx.2da~ ~override~
		COUNT_2DA_COLS numcolumns
		COUNT_2DA_ROWS numcolumns numrows
		found_it = 0
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i level numcolumns empty_slot
			PATCH_IF found_it = 0 AND (~%empty_slot%~ STRING_EQUAL_CASE ~****~) BEGIN
				found_it = 1
				SET_2DA_ENTRY i level numcolumns ~%resource%~
			END
		END
		newrow = numrows + 1
		PATCH_IF found_it = 0 BEGIN
			INSERT_2DA_ROW numrows numcolumns ~%newrow%          ****       ****       ****       ****       ****       ****       ****       ****       ****       ~
			SET_2DA_ENTRY numrows level numcolumns ~%resource%~
		END
		IF_EXISTS
END

DEFINE_ACTION_FUNCTION ~ME_GET_SPELL_LEVEL_CLASS_LEVEL~
	INT_VAR
		spell_level=1
	STR_VAR
		table=~~
	RET
		class_level
BEGIN
	OUTER_SET class_level = 0
	COPY_EXISTING ~%table%.2da~ ~override~
		COUNT_2DA_COLS numcolumns
		COUNT_2DA_ROWS numcolumns numrows
		PATCH_IF numcolumns > spell_level BEGIN
			FOR (i = 0; i < numrows; ++i) BEGIN
				READ_2DA_ENTRY i spell_level numcolumns num_spells
				PATCH_IF num_spells > 0 BEGIN
					READ_2DA_ENTRY i 0 numcolumns class_level
					i = numrows
				END
			END
		END
		BUT_ONLY_IF_IT_CHANGES

END

DEFINE_PATCH_FUNCTION ADD_HLA
	STR_VAR
		ability=~*~
		icon=~*~
		strref=~*~
		min_lev=~*~
		max_lev=~*~
		num_allowed=~*~
		prerequisite=~*~
		excluded_by=~*~
		alignment_restrict=~*~
BEGIN
	LPF GET_2DA_ROW INT_VAR found_it=1 numcolumns=7 match_column=1 STR_VAR match=~*~ RET numcolumns=numcols row=matched END
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF row < 0 BEGIN
		row = numrows
	END
	PATCH_IF row < numrows BEGIN
//		PATCH_PRINT ~%row% %numrows%~
		SET_2DA_ENTRY row 1 numcolumns ~%ability%~
		SET_2DA_ENTRY row 2 numcolumns ~%icon%~
		SET_2DA_ENTRY row 3 numcolumns ~%strref%~
		SET_2DA_ENTRY row 4 numcolumns ~%min_lev%~
		SET_2DA_ENTRY row 5 numcolumns ~%max_lev%~
		SET_2DA_ENTRY row 6 numcolumns ~%num_allowed%~
		SET_2DA_ENTRY row 7 numcolumns ~%prerequisite%~
		SET_2DA_ENTRY row 8 numcolumns ~%excluded_by%~
		COUNT_2DA_COLS totalcolumns
		PATCH_IF totalcolumns > 9 BEGIN
			SET_2DA_ENTRY row 9 numcolumns ~%alignment_restrict%~
		END
	END
	ELSE BEGIN
		//numrows = numrows - 1
		READ_2DA_ENTRY (numrows - 1) 0 numcolumns previousnumber
		previousnumber = previousnumber + 1
		COUNT_2DA_COLS totalcolumns
		PATCH_IF totalcolumns > 9 BEGIN
			INSERT_2DA_ROW numrows numcolumns ~%previousnumber%         %ability%           %icon%          %strref%         %min_lev%         %max_lev%          %num_allowed%            %prerequisite%            %excluded_by%             %alignment_restrict%~
		END
		ELSE BEGIN
			INSERT_2DA_ROW numrows numcolumns ~%previousnumber%         %ability%           %icon%          %strref%         %min_lev%         %max_lev%          %num_allowed%            %prerequisite%            %excluded_by%~
		END
	END

END

DEFINE_ACTION_FUNCTION ~ADD_ICON~
	INT_VAR
		strref=0
	STR_VAR
		icon=~*~
	RET
		icon_index
BEGIN
	COPY_EXISTING ~statdesc.2da~ ~override~
		COUNT_2DA_ROWS 3 numrows
		icon_index = numrows + 1
		INSERT_2DA_ROW numrows 3 ~%icon_index% %strref% %icon%~
		IF_EXISTS

END

DEFINE_ACTION_FUNCTION ~ADD_CLASS_ABILITY~
	INT_VAR
		level=1
	STR_VAR
		clab=~~
		prefix=~~
		ability=~~
BEGIN
	COPY_EXISTING ~%clab%.2da~ ~override~
		numcolumns = level + 1
		COUNT_2DA_ROWS numcolumns numrows
		found_it = 0
		FOR (i = 1; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i level numcolumns empty_slot
			PATCH_IF found_it = 0 AND (~%empty_slot%~ STRING_EQUAL_CASE ~****~) BEGIN
				found_it = 1
				SET_2DA_ENTRY i level numcolumns ~%ability%~
			END
		END
		newrow = numrows + 1
		PATCH_IF found_it = 0 BEGIN
			INSERT_2DA_ROW numrows numcolumns ~%ability%   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ~
			SET_2DA_ENTRY numrows level numcolumns ~%ability%~
		END
		IF_EXISTS

END

DEFINE_ACTION_FUNCTION ~ADD_MOD_KIT_ABILITIES~
	INT_VAR
		ability_string=0
	STR_VAR
		kit_name=~~
		ability_resource=~~
BEGIN

COPY_EXISTING ~clastext.2da~ ~override~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match= EVAL ~%kit_name%~ RET therow=matched END
	GET_STRREF ability_string me_class_abilities
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ RET me_new_strref=new_strref END
	SET_2DA_ENTRY therow 4 9 ~%me_new_strref%~

COPY_EXISTING ~kitlist.2da~ ~override~
	LPF GET_2DA_ROW INT_VAR found_it=1 numcolumns=10 match_column=1 STR_VAR match= EVAL ~%kit_name%~ RET therow=matched END
	PATCH_IF therow > ~-1~ BEGIN
		SET_2DA_ENTRY therow 4 10 ~%me_new_strref%~
	END

<<<<<<<< .../script.baf
	
IF
	!CheckSpellState(Player1,ME_SPECIAL_ABILITIES_GAINED)
	Exists(Player1)
	Kit(Player1,%kit_name%)
THEN
	RESPONSE #100
		ReallyForceSpellRES("%ability_resource%",Player1)  // No such index
		SmallWait(5)
END

>>>>>>>>
	
EXTEND_TOP ~meabilp1.bcs~ ~.../script.baf~ EVAL

END

DEFINE_ACTION_MACRO ~MASS_ADD_STRINGS~
BEGIN
	COPY ~%MOD_FOLDER%/dynamic/MEDynamic.tph~ ~%MOD_FOLDER%/MEDynamic.tph~
		FOR (i = me_start; i < me_start + me_length; ++i) BEGIN
			INSERT_2DA_ROW 0 1 ~OUTER_SPRINT me_string_%i% @%i%~
			INSERT_2DA_ROW 1 1 ~OUTER_SET me_strref_%i% = RESOLVE_STR_REF(@%i%)~
//			INSERT_2DA_ROW 2 1 ~~~~~APPEND ~%me_lua_file%.lua~ ~me_string_%i% = '\%me_string_%i%\%' ~~~~~
//			INSERT_2DA_ROW 3 1 ~~~~~me_strref_%i% = \%me_strref_%i%\%~ ~~~~~
		END

	ACTION_REINCLUDE ~%MOD_FOLDER%/MEDynamic.tph~
END

END

LANGUAGE
"English"
ENGLISH
 ~HighPower/tra/english/english.tra~
/*
BEGIN ~More Assassins~

BEGIN ~Creature Revisions~
INCLUDE ~HighPower/Components/CreatureEnhancements.tpa~
*/
BEGIN @1 REQUIRE_COMPONENT ~EEex.tp2~ ~0~ @271 //High Power Baldur's Gate

PRINT @100
COPY ~HighPower/Allfiles~ ~override~

ACTION_IF !(FILE_EXISTS_IN_GAME ~M_MECEIL.lua~) BEGIN
	ACTION_IF GAME_IS ~bgee~ BEGIN
		COPY ~HighPower/no_overwrite/M_MECBG1.lua~ ~override/M_MECEIL.lua~
	END ELSE ACTION_IF GAME_IS ~eet~ BEGIN
		COPY ~HighPower/no_overwrite/M_MECEET.lua~ ~override/M_MECEIL.lua~
	END
END

ACTION_IF !(FILE_EXISTS_IN_GAME ~M_MEFLYA.lua~) BEGIN
	COPY ~HighPower/lua/M_MEFLYA.lua~ ~override~
END

ACTION_IF !(FILE_EXISTS_IN_GAME ~M_MESTR1.lua~) BEGIN
	COPY ~HighPower/lua/M_MESTR1.lua~ ~override~
END


INCLUDE ~HighPower/ClassSpellTool.tpa~

ADD_PROJECTILE ~override/mearal60.pro~ //Instant area 60 ft. radius
ADD_PROJECTILE ~override/meconeco.pro~ //Large cone of cold
ADD_PROJECTILE ~override/medagglg.pro~ //Throwing sword
ADD_PROJECTILE ~override/meschlum.pro~ //Slow green fireball
ADD_PROJECTILE ~override/meconeki.pro~ //Killing Wave cone
ADD_PROJECTILE ~override/mefblred.pro~ //Purple/red fireball
ADD_PROJECTILE ~override/mewolfwi.pro~ //Winter Wolf frostball, very slow
ADD_PROJECTILE ~override/mekaldra.pro~ //Kaldran frostball, slightly faster than winter wolf's
ADD_PROJECTILE ~override/mewhirlw.pro~ //Immobile whirlwind
ADD_PROJECTILE ~override/medetect.pro~ //Instant area 150 ft. radius
ADD_PROJECTILE ~override/mepurge.pro~ //Instant area 235 ft. radius ignore center
ADD_PROJECTILE ~override/mebrthre.pro~ //Red dragon breath
ADD_PROJECTILE ~override/mebrthgr.pro~ //Green dragon breath
ADD_PROJECTILE ~override/mestormv.pro~ //Storm of Vengeance
ADD_PROJECTILE ~override/meskulls.pro~ //Purple slow skull
ADD_PROJECTILE ~override/meareans.pro~ //Non-sprite area 75 ft. radius
ADD_PROJECTILE ~override/meconere.pro~ //Fire cone
ADD_PROJECTILE ~override/meconeel.pro~ //Lightning Bolt cone
ADD_PROJECTILE ~override/mesunfbl.pro~ //Blue sunfire 120 ft. radius
ADD_PROJECTILE ~override/mesunfre.pro~ //Red sunfire 120 ft. radius
ADD_PROJECTILE ~override/meghastc.pro~ //Weaker Stinking Cloud
ADD_PROJECTILE ~override/meblade1.pro~ //Energy Blades
ADD_PROJECTILE ~override/meblade2.pro~ //Orange Energy Blades
ADD_PROJECTILE ~override/meshout.pro~ //Great Shout cone
ADD_PROJECTILE ~override/mefstorm.pro~ //Fire pillar storm
ADD_PROJECTILE ~override/mearen09.pro~ //Instant area 9 ft. radius not party
ADD_PROJECTILE ~override/mebigare.pro~ //Instant area 235 ft. radius party only
ADD_PROJECTILE ~override/mearpa90.pro~ //Instant area 90 ft. radius party only
ADD_PROJECTILE ~override/mearal09.pro~ //Instant area 9 ft. radius
ADD_PROJECTILE ~override/meg2fire.pro~ //Fireball 60 ft. radius
ADD_PROJECTILE ~override/meg3fire.pro~ //Fireball 90 ft. radius
ADD_PROJECTILE ~override/meg4fire.pro~ //Fireball 120 ft. radius
ADD_PROJECTILE ~override/meg5fire.pro~ //Fireball 150 ft. radius
ADD_PROJECTILE ~override/meg2fir2.pro~ //Fireball 60 ft. radius not party
ADD_PROJECTILE ~override/megaze2.pro~ //Gaze that ignores gaze reflection
ADD_PROJECTILE ~override/meconefi.pro~ //Cone of fists
ADD_PROJECTILE ~override/meconer2.pro~ //Cone of fire, fast long and narrow
ADD_PROJECTILE ~override/mecomet.pro~ //Comet
ADD_PROJECTILE ~override/mebrassb.pro~ //Brass dragon breath
ADD_PROJECTILE ~override/mebrassh.pro~ //Brass dragon hit
ADD_PROJECTILE ~override/meligcha.pro~ //Lightning bolt area of effect
ADD_PROJECTILE ~override/mewyverd.pro~ //Swooping wyvern
ADD_PROJECTILE ~override/mewyvand.pro~ //Swooping ancient wyvern
ADD_PROJECTILE ~override/mewyvbad.pro~ //Swooping baby wyvern
ADD_PROJECTILE ~override/mearosol.pro~ //Solar arrow
ADD_PROJECTILE ~override/meloop01.pro~ //Super electric loop 1
ADD_PROJECTILE ~override/meloop02.pro~ //Super electric loop 2
ADD_PROJECTILE ~override/meloop03.pro~ //Super electric loop 3
ADD_PROJECTILE ~override/meloop04.pro~ //Super electric loop 4
ADD_PROJECTILE ~override/meloop05.pro~ //Super electric loop 5
ADD_PROJECTILE ~override/meloop06.pro~ //Super electric loop 6
ADD_PROJECTILE ~override/meloop07.pro~ //Super electric loop 7
ADD_PROJECTILE ~override/meloop08.pro~ //Super electric loop 8
ADD_PROJECTILE ~override/meintrv1.pro~ //Invisible traveling 1
ADD_PROJECTILE ~override/megaznew.pro~ //Cone gaze projectile
ADD_PROJECTILE ~override/megazneb.pro~ //Cone gaze secondary projectile
ADD_PROJECTILE ~override/mecircrp.pro~ //Circle of Repulsion
ADD_PROJECTILE ~override/meintrv2.pro~ //Invisible traveling 2
ADD_PROJECTILE ~override/mesalaur.pro~ //Salamander aura ignore center
ADD_PROJECTILE ~override/mearrowp.pro~ //Piercing arrow
ADD_PROJECTILE ~override/meglobal.pro~ //Instant, entire area
ADD_PROJECTILE ~override/megloben.pro~ //Instant, entire area, not party
ADD_PROJECTILE ~override/meglobpa.pro~ //Instant, entire area, party only
ADD_PROJECTILE ~override/megaze.pro~ //AoE gaze
ADD_PROJECTILE ~override/mecswarx.pro~ //Greater Meteor Swarm
ADD_PROJECTILE ~override/idpro25.pro~ //IWD Cone of Cold
ADD_PROJECTILE ~override/mechali3.pro~ //New Chain Lightning
ADD_PROJECTILE ~override/meelair1.pro~ //Small elemental whirlwind attack
ADD_PROJECTILE ~override/mearen60.pro~ //Instant area 60 ft. radius not party
ADD_PROJECTILE ~override/mecomsml.pro~ //Comet small


COPY_EXISTING ~megaznew.pro~ ~override~
	WRITE_SHORT 0x214 (megazneb - 1)

COPY_EXISTING ~ar0102.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"Entar\",EscapeArea())~ ~~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"Brilla\",EscapeArea())~ ~~
	END

COPY_EXISTING ~ar0516.bcs~ ~override~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~AC
60OB
0 0 0 0 0 0 0 0 0 0 0 0 \"DeathK\"OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 \"\"OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 ""OB
0 0 0 0 0\"KillGood\" \"\" AC
~ ~~

COPY_EXISTING ~cutne2a.bcs~ ~override~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~AC
146OB
0 0 0 0 0 0 0 0 0 0 0 0 \"NEMEKLIN\"OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 \"\"OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 \"\"OB
32529 0 0 0 0\"\" \"\" AC~ ~AC
160OB
0 0 0 0 0 0 0 0 0 0 0 0 "NEMEKLIN"OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 "NEMEKLIN"OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 ""OB
0 0 0 0 0"MENEUMCH" "" AC~

COPY_EXISTING ~ar0516.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature.*DUPLICA1.*~ ~ReallyForceSpellRES("MEMS407",Player1)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature.*DUPLICA2.*~ ~ReallyForceSpellRES("MEMS407",Player2)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature.*DUPLICA3.*~ ~ReallyForceSpellRES("MEMS407",Player3)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature.*DUPLICA4.*~ ~ReallyForceSpellRES("MEMS407",Player4)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature.*DUPLICA5.*~ ~ReallyForceSpellRES("MEMS407",Player5)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature.*DUPLICA6.*~ ~ReallyForceSpellRES("MEMS407",Player6)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"Brilla\",EscapeArea())~ ~~
	END

COPY_EXISTING ~narcut.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature(\"Narlen\",\[744.220\],W)~ ~CreateCreatureImpassable("Narlen",[1061.56],W)
ActionOverride("Narlen",ReallyForceSpellPointRES("MEMS162",[744.220]))
Wait(2)~
	END
/*
COPY_EXISTING ~narcut01.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~MoveToPoint(\[303\.2296\])~ ~MoveToPointNoInterrupt([557.2628])
Face(NW)
ForceSpellRES("MEMS161",Myself)
MoveToPoint([391.2502])
Face(NW)
Wait(2)~
	END
*/
COPY_EXISTING ~narlen.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~Global(\"NarlenMove\",\"GLOBAL\",10)~ ~Global("HostileWatch","GLOBAL",0)
Global("NarlenMove","GLOBAL",10)~
	END

COPY_EXISTING ~shoutdlg.bcs~ ~override~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~AC
198OB
0 0 0 0 0 0 0 0 0 0 0 0 \"\"OB
OB
2 0 0 0 0 0 0 0 0 0 0 0 \"\"OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 \"\"OB
0 0 0 0 0\"\" \"\" AC~ ~AC
132OB
0 0 0 0 0 0 0 0 0 0 0 0 ""OB
OB
0 0 0 0 0 0 0 1 0 0 0 0 ""OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 ""OB
0 0 0 0 0"" "" AC
AC
198OB
0 0 0 0 0 0 0 0 0 0 0 0 ""OB
OB
2 0 0 0 0 0 0 0 0 0 0 0 ""OB
OB
0 0 0 0 0 0 0 0 0 0 0 0 ""OB
0 0 0 0 0"" "" AC~

<<<<<<<< .../meelarag.baf
IF
	Detect([PC])
	Global("Display","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobal("Display","LOCALS",1)
		DisplayStringHead(Myself,%who_calls_imix%)
END
>>>>>>>>

OUTER_SET who_calls_imix = RESOLVE_STR_REF(@401)
EXTEND_TOP ~meelarag.bcs~ ~.../meelarag.baf~ EVAL

<<<<<<<< .../meelogre.baf
IF
	Detect([PC])
	Global("Display","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobal("Display","LOCALS",1)
		DisplayStringHead(Myself,%who_calls_ogre%)
END
>>>>>>>>

OUTER_SET who_calls_ogre = RESOLVE_STR_REF(@402)
EXTEND_TOP ~meelogre.bcs~ ~.../meelogre.baf~ EVAL


<<<<<<<< .../mejelldp.baf
IF
	HitBy([ANYONE],FIRE)
THEN
	RESPONSE #100
		DisplayStringHeadDead(Myself,%fire_split%)
		CreateCreatureObjectEffect("MEJELLDP","TRGOOYAA",Myself)
END

IF
	HitBy([ANYONE],ELECTRICITY)
THEN
	RESPONSE #100
		DisplayStringHeadDead(Myself,%electricity_split%)
		CreateCreatureObjectEffect("MEJELLDP","TRGOOYAA",Myself)
END
>>>>>>>>

OUTER_SET fire_split = RESOLVE_STR_REF(@404)
OUTER_SET electricity_split = RESOLVE_STR_REF(@405)
COMPILE ~.../mejelldp.baf~ EVAL

<<<<<<<< .../script.baf
IF
	See(Protagonist)
	Global("Isserol_String","LOCALS",0)
	Allegiance(Myself,NEUTRAL)
THEN
	RESPONSE #100
		SetGlobal("Isserol_String","LOCALS",1)
		DisplayStringHead(Protagonist,%isserol_is_watching_you%)
END

>>>>>>>>

OUTER_SET isserol_is_watching_you = RESOLVE_STR_REF(@406)
EXTEND_TOP ~meisser.bcs~ ~.../script.baf~ EVAL

<<<<<<<< .../script.baf
IF
	AreaCheck("OH1000")
	HaveSpellRES("MECO056")
	See("SENJACK")
	!InParty(Myself)
	!GlobalTimerNotExpired("ME_Cast","LOCALS")
THEN
	RESPONSE #100
		SpellRES("MECO056","SENJACK")
		SetGlobalTimer("ME_Cast","LOCALS",ONE_ROUND)
END

IF
	AreaCheck("OH1000")
	HaveSpellRES("MECO056")
	See("DOROTEA")
	!InParty(Myself)
	!GlobalTimerNotExpired("ME_Cast","LOCALS")
THEN
	RESPONSE #100
		SpellRES("MECO056","DOROTEA")
		SetGlobalTimer("ME_Cast","LOCALS",ONE_ROUND)
END


>>>>>>>>

EXTEND_TOP ~dorn.bcs~ ~.../script.baf~ EVAL

ACTION_IF NOT MOD_IS_INSTALLED ~Korax_NPC.tp2~ ~0~ BEGIN
<<<<<<<< .../script.baf
IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	!StateCheck(Myself,STATE_INVISIBLE)
THEN
	RESPONSE #100
		ForceSpell(Myself,WIZARD_INVISIBILITY)
END

IF
	OR(3)
		Allegiance(Myself,CHARMED)
		Allegiance(Myself,CONTROLLED)
		Allegiance(Myself,ALLY)
	!See([ENEMY])
	!StateCheck(Myself,STATE_INVISIBLE)
THEN
	RESPONSE #100
		ForceSpell(Myself,WIZARD_INVISIBILITY)
END

>>>>>>>>

EXTEND_TOP ~korax.bcs~ ~.../script.baf~ EVAL

END

<<<<<<<< .../script.baf

IF
	HPPercentLT(Myself,100)
	HaveSpellRES("SPDD03")
	See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SpellRES("SPDD03",NearestEnemyOf(Myself))
END

>>>>>>>>

EXTEND_BOTTOM ~negoblin.bcs~ ~.../script.baf~ EVAL

<<<<<<<< .../script.baf

IF
	Allegiance(Myself,ENEMY)
	See(NearestEnemyOf(Myself))
	!GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
THEN
	RESPONSE #100
		SetGlobalTimer("ME_Attacker_Pursuit","LOCALS",2400)
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	CheckStatGT(Myself,0,640)
	OR(2)
		CheckStat(Myself,1,639)
		AreaType(OUTDOOR)
	Exists(Player1)
	Range(Player1,30)
	Allegiance(Player1,GOODCUTOFF)
	OR(2)
		!StateCheck(Player1,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		AttackReevaluate(Player1,15)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	CheckStatGT(Myself,0,640)
	OR(2)
		CheckStat(Myself,1,639)
		AreaType(OUTDOOR)
	Exists(Player2)
	Range(Player2,30)
	Allegiance(Player2,GOODCUTOFF)
	OR(2)
		!StateCheck(Player2,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		AttackReevaluate(Player2,15)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	CheckStatGT(Myself,0,640)
	OR(2)
		CheckStat(Myself,1,639)
		AreaType(OUTDOOR)
	Exists(Player3)
	Range(Player3,30)
	Allegiance(Player3,GOODCUTOFF)
	OR(2)
		!StateCheck(Player3,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		AttackReevaluate(Player3,15)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	CheckStatGT(Myself,0,640)
	OR(2)
		CheckStat(Myself,1,639)
		AreaType(OUTDOOR)
	Exists(Player4)
	Range(Player4,30)
	Allegiance(Player4,GOODCUTOFF)
	OR(2)
		!StateCheck(Player4,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		AttackReevaluate(Player4,15)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	CheckStatGT(Myself,0,640)
	OR(2)
		CheckStat(Myself,1,639)
		AreaType(OUTDOOR)
	Exists(Player5)
	Range(Player5,30)
	Allegiance(Player5,GOODCUTOFF)
	OR(2)
		!StateCheck(Player5,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		AttackReevaluate(Player5,15)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	CheckStatGT(Myself,0,640)
	OR(2)
		CheckStat(Myself,1,639)
		AreaType(OUTDOOR)
	Exists(Player6)
	Range(Player6,30)
	Allegiance(Player6,GOODCUTOFF)
	OR(2)
		!StateCheck(Player6,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		AttackReevaluate(Player6,15)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	OR(2)
		CheckStat(Myself,0,640)
		!AreaType(OUTDOOR)
	CheckStat(Myself,0,639)
	Exists(Player1)
	Allegiance(Player1,GOODCUTOFF)
	OR(2)
		!StateCheck(Player1,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		MoveToObject(Player1)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	OR(2)
		CheckStat(Myself,0,640)
		!AreaType(OUTDOOR)
	CheckStat(Myself,0,639)
	Exists(Player2)
	Allegiance(Player2,GOODCUTOFF)
	OR(2)
		!StateCheck(Player2,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		MoveToObject(Player2)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	OR(2)
		CheckStat(Myself,0,640)
		!AreaType(OUTDOOR)
	CheckStat(Myself,0,639)
	Exists(Player3)
	Allegiance(Player3,GOODCUTOFF)
	OR(2)
		!StateCheck(Player3,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		MoveToObject(Player3)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	OR(2)
		CheckStat(Myself,0,640)
		!AreaType(OUTDOOR)
	CheckStat(Myself,0,639)
	Exists(Player4)
	Allegiance(Player4,GOODCUTOFF)
	OR(2)
		!StateCheck(Player4,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		MoveToObject(Player4)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	OR(2)
		CheckStat(Myself,0,640)
		!AreaType(OUTDOOR)
	CheckStat(Myself,0,639)
	Exists(Player5)
	Allegiance(Player5,GOODCUTOFF)
	OR(2)
		!StateCheck(Player5,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		MoveToObject(Player5)
END

IF
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	OR(2)
		CheckStat(Myself,0,640)
		!AreaType(OUTDOOR)
	CheckStat(Myself,0,639)
	Exists(Player6)
	Allegiance(Player6,GOODCUTOFF)
	OR(2)
		!StateCheck(Player6,STATE_INVISIBLE)
		CheckStatGT(Myself,0,SEEINVISIBLE)
	OR(2)
		GlobalTimerNotExpired("ME_Attacker_Pursuit","LOCALS")
		Global("MEPURSUE","LOCALS",1)
THEN
	RESPONSE #100
		MoveToObject(Player6)
END

IF
	!See(LastHitter)
	!Detect(LastHitter)
	!See(NearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
THEN
	RESPONSE #100
		MoveToObject(LastHitter)
END

>>>>>>>>

EXTEND_TOP ~wtasight.bcs~ ~.../script.baf~ EVAL
EXTEND_TOP ~wdasight.bcs~ ~.../script.baf~ EVAL
EXTEND_TOP ~wtarsgt.bcs~ ~.../script.baf~ EVAL
EXTEND_TOP ~wdarsgt.bcs~ ~.../script.baf~ EVAL
EXTEND_TOP ~ccrawler.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM ~gnollf.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM ~lbasilsk.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM ~gbasilsk.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM ~kobolda.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM ~koboldal.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM ~koboldf.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM ~koboldfl.bcs~ ~.../script.baf~ EVAL

<<<<<<<< .../script.baf

IF
	PartyHasItem("DAGG03")
	!Dead("REVEN")
	Global("ME_Revenant_Chase","GLOBAL",1)
	!GlobalTimerNotExpired("ME_Revenant_Timer","GLOBAL")
THEN
	RESPONSE #100
		SetGlobalTimer("ME_Revenant_Timer","GLOBAL",7200)
		CreateCreature("REVENT",[562.337],S)
END

>>>>>>>>

EXTEND_BOTTOM_REGEXP ~ar5[6789][01][01]\.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM_REGEXP ~ar6[01][01][01]\.bcs~ ~.../script.baf~ EVAL
EXTEND_BOTTOM_REGEXP ~mear5[6789]00\.bcs~ ~.../script.baf~ EVAL

PRINT @101
/*
		local me_realClass = EEex_GetActorClass(currentID)
		local me_realKit = EEex_GetActorKit(currentID)
		local doAddSpell = false
		local doRemoveSpell = false
		local me_isAlreadyAvailable = false
		local me_isKnown = false
		for k, v in ipairs(me_addSpellChoice) do
			doAddSpell = false
			doRemoveSpell = false
			me_isAlreadyAvailable = false
			if v.level == chargen.currentSpellLevelChoice and v.type == 2 and v.resref ~= '' then
				for k2, v2 in ipairs(v.class_include) do
					if v2 == me_realClass then
						doAddSpell = true
					end
				end
				for k2, v2 in ipairs(v.kit_include) do
					if v2 == me_realKit then
						doAddSpell = true
					end
				end
				if not doAddSpell then
					doRemoveSpell = true
				end
				for k2, v2 in ipairs(v.kit_exclude) do
					if v2 == me_realKit then
						doAddSpell = false
						doRemoveSpell = true
					end
				end
				if doRemoveSpell then
					for k2, v2 in ipairs(chargen.choose_spell) do
						if v2.key == v.resref then
							table.remove(chargen.choose_spell, k2)
						end
					end
				end
			end
			if doAddSpell then
			
				priestSpells[v.level][v.resref] = {['name'] = v.name, ['desc'] = v.description, ['hidden'] = false, ['autopick'] = false, ['known'] = false, ['specialist'] = false, ['resref'] = v.resref, ['icon'] = v.icon, ['groundicon'] = v.groundicon}
				for k2, v2 in ipairs(chargen.choose_spell) do
					if v2.key == v.resref then
						me_isAlreadyAvailable = true
					end
				end
				if not me_isAlreadyAvailable then
					table.insert(characters[currentID]['priestSpells'][v.level], {['name'] = v.name, ['description'] = v.description, ['resref'] = v.resref, ['masterResref'] = '', ['icon'] = v.icon, ['level'] = v.level - 1, ['index'] = #characters[currentID]['priestSpells'][v.level], ['memorizedIndex'] = -1, ['memorizedCount'] = 0, ['castableCount'] = 0,})
					table.insert(chargen.choose_spell, {['count'] = 0, ['enabled'] = false, ['key'] = v.resref})
				end
			end
		end
		if #chargen.choose_spell == 0 then
			priestSpells[chargen.currentSpellLevelChoice]['MEPHSPL'] = {['name'] = 1, ['desc'] = 1, ['hidden'] = false, ['autopick'] = false, ['known'] = false, ['specialist'] = false, ['resref'] = 'MEPHSPL', ['icon'] = 'SPPR101C', ['groundicon'] = 'SPPR101B'}
			table.insert(characters[currentID]['priestSpells'][chargen.currentSpellLevelChoice], {['name'] = 1, ['description'] = 1, ['resref'] = 'MEPHSPL', ['masterResref'] = '', ['icon'] = 'SPPR101C', ['level'] = chargen.currentSpellLevelChoice - 1, ['index'] = #characters[currentID]['priestSpells'][chargen.currentSpellLevelChoice], ['memorizedIndex'] = -1, ['memorizedCount'] = 0, ['castableCount'] = 0,})
			table.insert(chargen.choose_spell, {['count'] = chargen.extraSpells, ['enabled'] = true, ['key'] = 'MEPHSPL'})
			local me_fakeMemorizeCount = chargen.extraSpells
			for i = 1, me_fakeMemorizeCount, 1 do
				createCharScreen:OnMemorizePriestSpellButtonClick(1, 1)
			end
			table.remove(chargen.choose_spell, 1)
		end
*/
OUTER_SET innate_hla = 0

COPY_EXISTING ~spwi920.spl~ ~override~
	READ_SHORT spelltype thespelltype
	PATCH_IF thespelltype = 4 BEGIN
		innate_hla = 1
	END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF !(FILE_EXISTS_IN_GAME ~M_MEALTC.lua~) BEGIN
	COPY ~HighPower/lua/M_MEALTC.lua~ ~override~
END

COPY_EXISTING ~ui.menu~ ~override~
	REPLACE_TEXTUALLY CASE_SENSITIVE ~\"mageBookEnabled == false\"~ ~"mageBookEnabled == false and bookMode == 0"~
	REPLACE_TEXTUALLY CASE_SENSITIVE EXACT_MATCH ~contingencyDescription = mageBookStrings[contingencyResRef].tip~ ~~~~~ -- Fixing contingency crash
if bookMode == 1 and me_alt_contingency[contingencyResRef] ~= nil then
	if me_alt_contingency[contingencyResRef]['conditions'] ~= nil then
		contingencyConditions = me_alt_contingency[contingencyResRef]['conditions']
	end
	if me_alt_contingency[contingencyResRef]['targets'] ~= nil then
		contingencyTargets = me_alt_contingency[contingencyResRef]['targets']
	end
end
if mageBookStrings[contingencyResRef] == nil then
	contingencyDescription = 0
else
	contingencyDescription = mageBookStrings[contingencyResRef].tip
end~~~~~
	REPLACE_TEXTUALLY CASE_SENSITIVE EXACT_MATCH ~return Infinity_FetchString(bookSpells[currentBookSpell].description)~ ~~~~~if bookSpells[currentBookSpell] ~= nil then
					return Infinity_FetchString(bookSpells[currentBookSpell].description)
				else
					return ''
				end~~~~~
	REPLACE_TEXTUALLY CASE_SENSITIVE EXACT_MATCH ~if characters[id].mageSpells[currentSpellLevel][currentBookSpell]~ ~if characters[id].mageSpells[currentSpellLevel]~
	REPLACE_TEXTUALLY CASE_SENSITIVE EXACT_MATCH ~return Infinity_FetchString(characters[id].mageSpells[currentSpellLevel][currentBookSpell].description)~ ~~~~~if characters[id].mageSpells[currentSpellLevel][currentBookSpell] ~= nil then
					return Infinity_FetchString(characters[id].mageSpells[currentSpellLevel][currentBookSpell].description)
				else
					return t('SPELL_MEMORIZATION_HELP')
				end~~~~~
	UNLESS ~Fixing contingency crash~

COPY_EXISTING ~ui.menu~ ~override~
	// Patching to have it display resistances above 127 or below -128 in the stats screen.

	PATCH_IF NOT MOD_IS_INSTALLED ~EEex.tp2~ ~2~ BEGIN
		PATCH_IF MOD_IS_INSTALLED ~dragonspear_ui++.tp2~ ~1~ BEGIN
			REPLACE_TEXTUALLY CASE_INSENSITIVE ~table.insert(listItems, { \'233\', characters\[currentID\]\.proficiencies\.resistances})~ ~characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire: 127", "Magic Fire : 127")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold: 127", "Magic Cold : 127")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Fire: 127", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Cold: 127", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire : 127", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold : 127", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Electricity: 127", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Acid: 127", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Damage: 127", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Poison: 100", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Slashing: 100", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Piercing: 100", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Crushing: 100", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Missile: 100", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire: %-128", "Magic Fire : -128")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold: %-128", "Magic Cold : -128")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Fire: %-128", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Cold: %-128", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire : %-128", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold : %-128", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Electricity: %-128", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Acid: %-128", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Damage: %-128", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Poison: %-128", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Slashing: %-128", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Piercing: %-128", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Crushing: %-128", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Missile: %-128", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))
table.insert(listItems, { '233', characters[currentID].proficiencies.resistances})~
		END ELSE PATCH_IF MOD_IS_INSTALLED ~LeUI.tp2~ ~0~ BEGIN
			REPLACE_TEXTUALLY CASE_INSENSITIVE ~table\.insert(recordInfos, {1,characters\[currentID\]\.proficiencies\.resistances})~ ~characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire: 127", "Magic Fire : 127")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold: 127", "Magic Cold : 127")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Fire: 127", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Cold: 127", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire : 127", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold : 127", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Electricity: 127", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Acid: 127", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Damage: 127", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Poison: 100", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Slashing: 100", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Piercing: 100", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Crushing: 100", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Missile: 100", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire: %-128", "Magic Fire : -128")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold: %-128", "Magic Cold : -128")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Fire: %-128", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Cold: %-128", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire : %-128", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold : %-128", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Electricity: %-128", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Acid: %-128", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Damage: %-128", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Poison: %-128", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Slashing: %-128", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Piercing: %-128", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Crushing: %-128", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Missile: %-128", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))
table.insert(recordInfos, {1,characters[currentID].proficiencies.resistances})~
		END ELSE BEGIN
			REPLACE_TEXTUALLY CASE_INSENSITIVE ~helpTextString = characters\[currentID\]\.proficiencies\.details~ ~helpTextString = characters[currentID].proficiencies.details
helpTextString = string.gsub(helpTextString, "Magic Fire: 127", "Magic Fire : 127")
helpTextString = string.gsub(helpTextString, "Magic Cold: 127", "Magic Cold : 127")
helpTextString = string.gsub(helpTextString, "Fire: 127", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
helpTextString = string.gsub(helpTextString, "Cold: 127", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
helpTextString = string.gsub(helpTextString, "Magic Fire : 127", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
helpTextString = string.gsub(helpTextString, "Magic Cold : 127", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
helpTextString = string.gsub(helpTextString, "Electricity: 127", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
helpTextString = string.gsub(helpTextString, "Acid: 127", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
helpTextString = string.gsub(helpTextString, "Magic Damage: 127", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
helpTextString = string.gsub(helpTextString, "Poison: 100", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
helpTextString = string.gsub(helpTextString, "Slashing: 100", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
helpTextString = string.gsub(helpTextString, "Piercing: 100", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
helpTextString = string.gsub(helpTextString, "Crushing: 100", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
helpTextString = string.gsub(helpTextString, "Missile: 100", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))
helpTextString = string.gsub(helpTextString, "Magic Fire: %-128", "Magic Fire : -128")
helpTextString = string.gsub(helpTextString, "Magic Cold: %-128", "Magic Cold : -128")
helpTextString = string.gsub(helpTextString, "Fire: %-128", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
helpTextString = string.gsub(helpTextString, "Cold: %-128", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
helpTextString = string.gsub(helpTextString, "Magic Fire : %-128", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
helpTextString = string.gsub(helpTextString, "Magic Cold : %-128", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
helpTextString = string.gsub(helpTextString, "Electricity: %-128", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
helpTextString = string.gsub(helpTextString, "Acid: %-128", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
helpTextString = string.gsub(helpTextString, "Magic Damage: %-128", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
helpTextString = string.gsub(helpTextString, "Poison: %-128", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
helpTextString = string.gsub(helpTextString, "Slashing: %-128", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
helpTextString = string.gsub(helpTextString, "Piercing: %-128", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
helpTextString = string.gsub(helpTextString, "Crushing: %-128", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
helpTextString = string.gsub(helpTextString, "Missile: %-128", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))~

			REPLACE_TEXTUALLY CASE_INSENSITIVE ~table.insert(listItems, { \'RESISTANCES_LABEL\', \'\',  characters\[currentID\]\.proficiencies\.resistances })~ ~characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire: 127", "Magic Fire : 127")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold: 127", "Magic Cold : 127")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Fire: 127", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Cold: 127", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire : 127", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold : 127", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Electricity: 127", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Acid: 127", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Damage: 127", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Poison: 100", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Slashing: 100", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Piercing: 100", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Crushing: 100", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Missile: 100", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire: %-128", "Magic Fire : -128")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold: %-128", "Magic Cold : -128")
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Fire: %-128", "Fire: " .. EEex_GetActorFullResistance(currentID, 14))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Cold: %-128", "Cold: " .. EEex_GetActorFullResistance(currentID, 15))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Fire : %-128", "Magic Fire: " .. EEex_GetActorFullResistance(currentID, 19))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Cold : %-128", "Magic Cold: " .. EEex_GetActorFullResistance(currentID, 20))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Electricity: %-128", "Electricity: " .. EEex_GetActorFullResistance(currentID, 16))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Acid: %-128", "Acid: " .. EEex_GetActorFullResistance(currentID, 17))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Magic Damage: %-128", "Magic Damage: " .. EEex_GetActorFullResistance(currentID, 73))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Poison: %-128", "Poison: " .. EEex_GetActorFullResistance(currentID, 74))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Slashing: %-128", "Slashing: " .. EEex_GetActorFullResistance(currentID, 21))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Piercing: %-128", "Piercing: " .. EEex_GetActorFullResistance(currentID, 23))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Crushing: %-128", "Crushing: " .. EEex_GetActorFullResistance(currentID, 22))
characters[currentID].proficiencies.resistances  = string.gsub(characters[currentID].proficiencies.resistances , "Missile: %-128", "Missile: " .. EEex_GetActorFullResistance(currentID, 24))
table.insert(listItems, { 'RESISTANCES_LABEL', '',  characters[currentID].proficiencies.resistances })~
		END
	END

COPY_EXISTING ~m__meext.lua~ ~override~
	me_801_ref = RESOLVE_STR_REF(@801)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~RESOLVE_STR_REF(@801)~ ~%me_801_ref%~
	SPRINT me_802 @802
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"@802\"~ ~"%me_802%"~
	SPRINT me_803 @803
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"@803\"~ ~"%me_803%"~
	SPRINT me_804 @804
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"@804\"~ ~"%me_804%"~
	SPRINT me_805 @805
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"@805\"~ ~"%me_805%"~
	SPRINT me_806 @806
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"@806\"~ ~"%me_806%"~


COPY_EXISTING ~statdesc.2da~ ~override~
	me_19074_ref = RESOLVE_STR_REF(@19074)
	me_19076_ref = RESOLVE_STR_REF(@19076)
	me_19077_ref = RESOLVE_STR_REF(@19077)
	me_19079_ref = RESOLVE_STR_REF(@19079)
	me_19082_ref = RESOLVE_STR_REF(@19082)
	me_19084_ref = RESOLVE_STR_REF(@19084)
	me_19090_ref = RESOLVE_STR_REF(@19090)
	me_19104_ref = RESOLVE_STR_REF(@19104)
	me_19117_ref = RESOLVE_STR_REF(@19117)
	me_19411_ref = RESOLVE_STR_REF(@19411)
	me_19412_ref = RESOLVE_STR_REF(@19412)
	SET_2DA_ENTRY 147 1 3 ~%me_19077_ref%~
	SET_2DA_ENTRY 148 1 3 ~%me_19076_ref%~
	SET_2DA_ENTRY 150 1 3 ~%me_19074_ref%~
	SET_2DA_ENTRY 154 1 3 ~%me_19084_ref%~
	SET_2DA_ENTRY 155 1 3 ~%me_19411_ref%~
	SET_2DA_ENTRY 156 1 3 ~%me_19104_ref%~
	SET_2DA_ENTRY 158 1 3 ~%me_19082_ref%~
	SET_2DA_ENTRY 159 1 3 ~%me_19117_ref%~
	SET_2DA_ENTRY 160 1 3 ~%me_19090_ref%~
	SET_2DA_ENTRY 161 1 3 ~%me_19412_ref%~

COPY_EXISTING ~meabstar.2da~ ~override/abstart.2da~

ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA01.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA01.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA02.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA02.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA03.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA03.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA04.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA04.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA05.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA05.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA06.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA06.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA07.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA07.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA08.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA08.2DA~ ~override~
END
ACTION_IF !(FILE_EXISTS_IN_GAME ~CLABMA09.2DA~) BEGIN
	COPY ~HighPower/no_overwrite/CLABMA09.2DA~ ~override~
END

COPY ~HighPower/QuickSpellProgression~ ~override~

COPY_EXISTING ~clabma01.2da~ ~override~
	COUNT_2DA_COLS numcolumns_2
	COUNT_2DA_ROWS numcolumns_2 numrows_2
	INSERT_2DA_ROW numrows_2 numcolumns_2 ~ME_WIZSP    AP_MEWIZSP1 AP_MEWIZSP2 AP_MEWIZSP3 AP_MEWIZSP4 AP_MEWIZSP5 AP_MEWIZSP6 AP_MEWIZSP7 AP_MEWIZSP8 AP_MEWIZSP9 ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	UNLESS ~AP_MEWIZSP~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classmage BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_COLS numcolumns_2
					COUNT_2DA_ROWS numcolumns_2 numrows_2
					INSERT_2DA_ROW numrows_2 numcolumns_2 ~ME_WIZSP    AP_MEWIZSP1 AP_MEWIZSP2 AP_MEWIZSP3 AP_MEWIZSP4 AP_MEWIZSP5 AP_MEWIZSP6 AP_MEWIZSP7 AP_MEWIZSP8 AP_MEWIZSP9 ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					IF_EXISTS
					UNLESS ~AP_MEWIZSP~
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES
/*
COPY_EXISTING ~drmtxt2.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MECO052~ //Good Power: Cure Serious Wounds
	SET_2DA_ENTRY 5 1 3 ~MECO056~ //Evil Power: Cause Serious Wounds

COPY_EXISTING ~drmtxt3.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MECO053~ //Good Power: Neutralize Poison
	SET_2DA_ENTRY 5 1 3 ~MECO057~ //Evil Power: Emotion: Hopelessness

COPY_EXISTING ~drmtxt4.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MECO114~ //Good Power: Righteous Magic
	SET_2DA_ENTRY 5 1 3 ~MECO058~ //Evil Power: Greater Malison

COPY_EXISTING ~drmtxt5.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MECO030~ //Good Power: Chaotic Commands
	SET_2DA_ENTRY 5 1 3 ~MECO210~ //Evil Power: Finger of Death

COPY_EXISTING ~drmtxt6.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MECO054~ //Good Power: Greater Restoration
	SET_2DA_ENTRY 5 1 3 ~MECO253~ //Evil Power: Improved Energy Drain

COPY_EXISTING ~drmtxt7.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MECO055~ //Good Power: Mass Raise Dead
	SET_2DA_ENTRY 5 1 3 ~MECO377~ //Evil Power: Vampiric Feast
*/
COPY_EXISTING ~drmtxt2.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MEBH001~ //Good Power: Cure Serious Wounds
	SET_2DA_ENTRY 5 1 3 ~MEBH007~ //Evil Power: Cause Serious Wounds

COPY_EXISTING ~drmtxt3.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MEBH002~ //Good Power: Neutralize Poison
	SET_2DA_ENTRY 5 1 3 ~MEBH008~ //Evil Power: Emotion: Hopelessness

COPY_EXISTING ~drmtxt4.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MEBH003~ //Good Power: Righteous Magic
	SET_2DA_ENTRY 5 1 3 ~MEBH009~ //Evil Power: Greater Malison

COPY_EXISTING ~drmtxt5.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MEBH004~ //Good Power: Chaotic Commands
	SET_2DA_ENTRY 5 1 3 ~MEBH010~ //Evil Power: Finger of Death

COPY_EXISTING ~drmtxt6.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MEBH005~ //Good Power: Greater Restoration
	SET_2DA_ENTRY 5 1 3 ~MEBH011~ //Evil Power: Improved Energy Drain

COPY_EXISTING ~drmtxt7.2da~ ~override~
	SET_2DA_ENTRY 4 1 3 ~MEBH006~ //Good Power: Mass Raise Dead
	SET_2DA_ENTRY 5 1 3 ~MEBH012~ //Evil Power: Vampiric Feast

COPY_EXISTING ~enginest.2da~ ~override~
	REPLACE_TEXTUALLY ~STRREF_ERROR_CAN_NOT_CAST_TWO_CONT.*[0-9]*~ ~STRREF_ERROR_CAN_NOT_CAST_TWO_CONT                       0~
	REPLACE_TEXTUALLY ~STRREF_FEEDBACK_BACKSTAB_AVOIDED.*[0-9]*~ ~STRREF_FEEDBACK_BACKSTAB_AVOIDED                       0~
	REPLACE_TEXTUALLY ~STRREF_FEEDBACK_BACKSTAB_UNUSABLE_WEAPON.*[0-9]*~ ~STRREF_FEEDBACK_BACKSTAB_UNUSABLE_WEAPON                       0~
	REPLACE_TEXTUALLY ~STRREF_FEEDBACK_SNEAK_AVOIDED.*[0-9]*~ ~STRREF_FEEDBACK_SNEAK_AVOIDED                       0~
	REPLACE_TEXTUALLY ~STRREF_FEEDBACK_SNEAK_UNUSABLE_WEAPON.*[0-9]*~ ~STRREF_FEEDBACK_SNEAK_UNUSABLE_WEAPON                       0~
/*
COPY_EXISTING ~hidespl.2da~ ~override~
	REPLACE_TEXTUALLY ~\nSPWI402.*~ ~~
*/
COMPILE ~override/mescrlt1.d~

COMPILE ~override/mescrlt2.d~

COPY_EXISTING ~itemdial.2da~ ~override~
	me_usescrollstring = RESOLVE_STR_REF(@407)
	INSERT_2DA_ROW 0 3 ~MESCRLT2   %me_usescrollstring%  MESCRLT2~
	INSERT_2DA_ROW 0 3 ~MESCRLT1   %me_usescrollstring%  MESCRLT1~

EXTEND_TOP ~baldur.bcs~ ~override/mescrltd.bcs~

EXTEND_BOTTOM ~baldur.bcs~ ~override/menoarde.bcs~

EXTEND_TOP ~gtst.bcs~ ~override/menoscsf.bcs~

COPY_EXISTING ~itemexcl.2da~ ~override~
	INSERT_2DA_ROW 1 2 ~MERING98 1~
	INSERT_2DA_ROW 1 2 ~MEPLAT10 1~
	INSERT_2DA_ROW 1 2 ~MEPLAT14 1~
	INSERT_2DA_ROW 1 2 ~MEPLAT60 1~
	INSERT_2DA_ROW 1 2 ~MEPLAT90 1~
	INSERT_2DA_ROW 1 2 ~MEPLAT98 1~
	INSERT_2DA_ROW 1 2 ~MELEAT12 1~
	INSERT_2DA_ROW 1 2 ~MELEAT15 1~
	INSERT_2DA_ROW 1 2 ~MELEAT18 1~
	INSERT_2DA_ROW 1 2 ~MELEAT98 1~
	INSERT_2DA_ROW 1 2 ~MECHAN13 1~
	INSERT_2DA_ROW 1 2 ~MECHAN98 1~

COPY_EXISTING ~racetext.2da~ ~override~
	COUNT_2DA_ROWS 4 numrows
	me_wolf_lower = RESOLVE_STR_REF(@2701)
	me_bear_lower = RESOLVE_STR_REF(@2702)
	me_bear_upper = RESOLVE_STR_REF(@2703)
	me_lycanthrope_lower = RESOLVE_STR_REF(@2704)
	me_spider_lower = RESOLVE_STR_REF(@2705)
	me_wyvern_lower = RESOLVE_STR_REF(@2706)
	me_salamander_lower = RESOLVE_STR_REF(@2707)
	me_salamander_upper = RESOLVE_STR_REF(@2708)
	me_ogre_lower = RESOLVE_STR_REF(@2709)
	me_slime_lower = RESOLVE_STR_REF(@2710)
	me_slime_upper = RESOLVE_STR_REF(@2711)
	me_ankheg_lower = RESOLVE_STR_REF(@2712)
	me_basilisk_lower = RESOLVE_STR_REF(@2713)
	me_basilisk_upper = RESOLVE_STR_REF(@2714)
	me_vampyre_lower = RESOLVE_STR_REF(@2715)
	me_vampyre_upper = RESOLVE_STR_REF(@2716)
	INSERT_2DA_ROW numrows 4 ~WOLF      117       %me_wolf_lower%      -1        6629      0~
	INSERT_2DA_ROW numrows 4 ~BEAR      103       %me_bear_lower%      -1        %me_bear_upper%      0~
	INSERT_2DA_ROW numrows 4 ~LYCANTHROPE      122       %me_lycanthrope_lower%      -1        22780      0~
	INSERT_2DA_ROW numrows 4 ~SPIDER      116       %me_spider_lower%      -1        15977      0~
	INSERT_2DA_ROW numrows 4 ~WYVERN      118       %me_wyvern_lower%      -1        9398      0~
	INSERT_2DA_ROW numrows 4 ~SALAMANDER      169       %me_salamander_lower%      -1        %me_salamander_upper%      0~
	INSERT_2DA_ROW numrows 4 ~OGRE      113       %me_ogre_lower%      -1        6313      0~
	INSERT_2DA_ROW numrows 4 ~SLIME      119       %me_slime_lower%      -1        %me_slime_upper%      0~
	INSERT_2DA_ROW numrows 4 ~ANKHEG      101       %me_ankheg_lower%      -1        8441      0~
	INSERT_2DA_ROW numrows 4 ~BASILISK      102       %me_basilisk_lower%      -1        %me_basilisk_upper%      0~
	INSERT_2DA_ROW numrows 4 ~VAMPYRE      126       %me_vampyre_lower%      -1        %me_vampyre_upper%      0~

STRING_SET_EVALUATE 25096 @640

STRING_SET_EVALUATE 25076 @641

COPY_EXISTING ~stweapon.2da~ ~override~ //Now all Candlekeep characters (except monks) start with a special magical staff
	SET_2DA_ENTRY 1 0 1 ~MESTAF54~

/*
COPY_EXISTING ~mesplpra.2da~ ~override/mxsplpal.2da~

COPY_EXISTING ~mesplpra.2da~ ~override/mxsplran.2da~
*/
COPY_EXISTING ~mestyleb.2da~ ~override/stylbonu.2da~

COPY_EXISTING ~weapprof.2da~ ~override~
	COUNT_2DA_COLS me_num_columns
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~2HANDED~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 2 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~SWORDANDSHIELD~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 2 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~SINGLEWEAPON~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 2 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~2WEAPON~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 3 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END

COPY_EXISTING ~xpbonus.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		FOR (j = 1; j < numcolumns; ++j) BEGIN
			READ_2DA_ENTRY i j numcolumns thexpvalue
			PATCH_IF thexpvalue < 500 BEGIN
				thexpvalue = thexpvalue * 10
				SET_2DA_ENTRY i j numcolumns thexpvalue
			END

		END
	END

STRING_SET_EVALUATE 24999 @2304

STRING_SET_EVALUATE 25044 @2301

STRING_SET_EVALUATE 25045 @2302

STRING_SET_EVALUATE 25046 @2303

ACTION_IF MOD_IS_INSTALLED ~verrsza.tp2~ ~0~ BEGIN

COPY_EXISTING ~l#1verr1.cre~ ~override~ ~l#1dver.cre~ ~override~ ~l#1dvee.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 5
	IF_EXISTS

END

COPY_EXISTING ~xplevel.2da~ ~override~
	LPF GET_2DA_ROW STR_VAR match=~CLERIC~ RET numcolumns=numcols row=matched END
	SET_2DA_ENTRY row 9 numcolumns ~160000~
	LPF GET_2DA_ROW STR_VAR match=~MONK~ RET numcolumns=numcols row=matched END
	SET_2DA_ENTRY row 9 numcolumns ~160000~

COPY_EXISTING ~eeex_ini.lua~ ~override~
	REPLACE_TEXTUALLY ~\[\"B3_Invis\"\] = false~ ~["B3_Invis"] = true~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~\[\"ME_DAMAB\"\] = false~ ~["ME_DAMAB"] = true~
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF FILE_EXISTS_IN_GAME ~EEex_Cra.lua~ BEGIN
	COPY ~HighPower/lua/EEex_Cra.lua~ ~override/EEex_Cra.lua~
END

ACTION_IF !(FILE_EXISTS mgfoa1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Fomorian~ ~override~
END
ACTION_IF !(FILE_EXISTS mglaa1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Glabrezu~ ~override~
END
ACTION_IF !(FILE_EXISTS mfe2a1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Greater Feyr~ ~override~
END
ACTION_IF !(FILE_EXISTS msh1a1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Shadow~ ~override~
END
ACTION_IF !(FILE_EXISTS msh2a1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Shadow Large~ ~override~
END
ACTION_IF !(FILE_EXISTS mwwea1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Water Weird~ ~override~
END
ACTION_IF !(FILE_EXISTS mwraa1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Wererat~ ~override~
END
ACTION_IF !(FILE_EXISTS mwora1.bam) BEGIN
	COPY ~HighPower/SOD Animations/Worg~ ~override~
END

LAF ADD_ANIMATION INT_VAR minSlot=0x4000 STR_VAR directory=~HighPower/animations~ ini=~meanigor~ RET slotgorecreaturedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanibas~ RET slotbasilisklargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanidrj~ RET slotdragonbrassjuveniledecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanibc1~ RET slotbirdcreaturesmalldecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanibc2~ RET slotbirdcreaturemediumdecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanibc3~ RET slotbirdcreaturelargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanistk~ RET slotinvisiblestalkernewdecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meanieag~ RET sloteaglelargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meanibid~ RET slotbirddeaddecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meaniead~ RET sloteagledeaddecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meanigud~ RET slotseagulldeaddecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meanivud~ RET slotvulturedeaddecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meaniegd~ RET sloteaglelargedeaddecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meanigh~ RET slotghastlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meanihoh~ RET slothookhorrorlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meanihar~ RET slotharpyreddecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meanifo~ RET slotgiantfomoriancolossusdecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x1000 STR_VAR directory=~HighPower/animations~ ini=~meaniwyv~ RET slotwyvernreallybigdecimal=slotDecimal END

COPY_EXISTING ~1000.ini~ ~override~ ~1003.ini~ ~override~ ~1004.ini~ ~override~ ~7320.ini~ ~override~ ~7321.ini~ ~override~ ~7703.ini~ ~override~ ~7f02.ini~ ~override~ ~7f03.ini~ ~override~ ~7f05.ini~ ~override~ ~7f06.ini~ ~override~ ~7f0e.ini~ ~override~ ~7f15.ini~ ~override~ ~7f19.ini~ ~override~ ~7f2d.ini~ ~override~ ~7f35.ini~ ~override~ ~7f38.ini~ ~override~ ~7f39.ini~ ~override~ ~7f41.ini~ ~override~ ~7f45.ini~ ~override~ ~7f46.ini~ ~override~ ~7f50.ini~ ~override~ ~7f51.ini~ ~override~ ~7f56.ini~ ~override~ ~7f57.ini~ ~override~ ~e0f2.ini~ ~override~ ~e260.ini~ ~override~ ~e26d.ini~ ~override~ ~e26e.ini~ ~override~ ~e28a.ini~ ~override~ ~e292.ini~ ~override~ ~e294.ini~ ~override~ ~e300.ini~ ~override~ ~ea10.ini~ ~override~ ~ea20.ini~ ~override~ ~e0f2.ini~ ~override~ ~e0f2.ini~ ~override~ ~e0f2.ini~ ~override~ ~a000.ini~ ~override~ ~a200.ini~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~personal.*=[0-9]+~ ~personal_space=1~
	IF_EXISTS
/*
COPY_EXISTING_REGEXP ~[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F].ini~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~personal.*=[0-9]+~ ~personal_space=1~
	IF ~male_halfling~
*/

COPY_EXISTING_REGEXP ~b000.ini~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~move_scale.*=[0-9]+~ ~move_scale=12~
/*
OUTER_SET highest_height_number = 2000
OUTER_SET starting_row_animate = 1
OUTER_SET starting_row_anisnd = 0
OUTER_SPRINT i_padding ~000~
SILENT
OUTER_FOR (i = 0; i < highest_height_number; ++i) BEGIN
	ACTION_IF i = 10 BEGIN
		OUTER_SPRINT i_padding ~00~
	END
	ACTION_IF i = 100 BEGIN
		OUTER_SPRINT i_padding ~0~
	END

	ACTION_IF i = 1000 BEGIN
		OUTER_SPRINT i_padding ~~
	END

	PRINT ~mezp%i_padding%%i%.ini~
	COPY_EXISTING ~mezp.ini~ ~override/mezp%i_padding%%i%.ini~
		REPLACE_TEXTUALLY ~MEZP me_height_creature~ ~MEZP%i_padding%%i% me_height_creature_%i%~
		REPLACE_TEXTUALLY ~height_offset=0~ ~height_offset=%i%~
		REPLACE_TEXTUALLY ~resref=MEZP~ ~resref=MEZP%i_padding%%i%~

	COPY_EXISTING ~mezp.bam~ ~override/mezp%i_padding%%i%.bam~
//		WRITE_SHORT 0x1A i
		WRITE_SHORT 0x1E i

	LAF ADD_ANIMATION INT_VAR start_animate=starting_row_animate start_anisnd=starting_row_anisnd minSlot=(0xC000 + i) STR_VAR ini= EVAL ~mezp%i_padding%%i%~ RET starting_row_animate=end_animate starting_row_anisnd=end_anisnd slotheightcreaturedecimal=slotDecimal END

	COPY_EXISTING ~M__MESTR.LUA~ ~override~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_heighttoanimation = {\[\"\"\] = 0~ ~me_heighttoanimation = {[""] = 0, [%i%] = %slotheightcreaturedecimal%~
//		REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_animationtoheight = {\[\"\"\] = 0~ ~me_animationtoheight = {[""] = 0, [%slotheightcreaturedecimal%] = %i%~
END
VERBOSE

COPY_EXISTING ~M__MESTR.LUA~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_highestheightnumber = 0~ ~me_highestheightnumber = %highest_height_number%~
*/

COPY_EXISTING ~splstate.ids~ ~override~
	READ_2DA_ENTRY 124 0 2 previous
	FOR (i = 5; i < 254; ++i) BEGIN
		READ_2DA_ENTRY i 0 2 current
		PATCH_IF ((current - previous) > 1) BEGIN
			abilityrow=(previous + 1)
			INSERT_2DA_ROW i 2 ~%abilityrow% ME_SPECIAL_ABILITIES_GAINED~
			i=254
			abilityrowset=1
		END
		previous=current
	END
	PATCH_IF !(abilityrowset) BEGIN
		abilityrow=233
	END
	READ_2DA_ENTRY 124 0 2 previous
	FOR (i = 5; i < 254; ++i) BEGIN
		READ_2DA_ENTRY i 0 2 current
		PATCH_IF ((current - previous) > 1) BEGIN
			ratwererow=(previous + 1)
			INSERT_2DA_ROW i 2 ~%ratwererow% RATWERE~
			i=254
			ratwererowset=1
		END
		previous=current
	END
	PATCH_IF !(ratwererowset) BEGIN
		ratwererow=70
	END
	READ_2DA_ENTRY 124 0 2 previous
	FOR (i = 5; i < 254; ++i) BEGIN
		READ_2DA_ENTRY i 0 2 current
		PATCH_IF ((current - previous) > 1) BEGIN
			dispelrow=(previous + 1)
			INSERT_2DA_ROW i 2 ~%dispelrow% ME_AWESOME_DISPELLABLE_EFFECT~
			i=254
			dispelrowset=1
		END
		previous=current
	END
	PATCH_IF !(dispelrowset) BEGIN
		dispelrow=70
	END
/*
COPY_EXISTING_REGEXP ~meab.*\.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meintrv1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=protectionfromspell2 target=2 timing=0 duration=6 parameter1=abilityrow parameter2=110 insert_point=0 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	READ_SHORT 0x90 numeffects
	issecondary = 0
	me_off = 0x9a
	FOR (i = 0; i < numeffects; ++i) BEGIN
		READ_SHORT me_off theopcode
		PATCH_IF theopcode = useefffile BEGIN
			issecondary = 1
			i = numeffects
		END
		me_off = me_off + 0x30
	END
	PATCH_IF issecondary = 0 BEGIN
		LPF ADD_SPELL_EFFECT INT_VAR opcode=setspellstate target=2 timing=9 parameter2=abilityrow special=1 END
	END
*/
COPY_EXISTING_REGEXP ~meabba0[0-9].*\.spl~ ~override~ ~meabc.*\.spl~ ~override~ ~meabdr0[0-9].*\.spl~ ~override~ ~meabfi0[0-9].*\.spl~ ~override~ ~meabma[01][0-9].*\.spl~ ~override~ ~meabmo0[0-9].*\.spl~ ~override~ ~meabpa0[0-9].*\.spl~ ~override~ ~meabmo0[0-9].*\.spl~ ~override~ ~meabpr0[0-9].*\.spl~ ~override~ ~meabprk.*\.spl~ ~override~ ~meabrn0[0-9].*\.spl~ ~override~ ~meabsh0[0-9].*\.spl~ ~override~ ~meabso0[0-9].*\.spl~ ~override~ ~meabth0[0-9].*\.spl~ ~override~ ~meabm[cfimtdr]*\.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meintrv1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=protectionfromspell2 target=2 timing=0 duration=6 parameter1=abilityrow parameter2=110 insert_point=0 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=setspellstate target=2 timing=9 parameter2=abilityrow special=1 END

COPY_EXISTING ~meabilp1.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY ~36500~ ~ME_SPECIAL_ABILITIES_GAINED~
	END

OUTER_SPRINT me_spell_at_will @2801
OUTER_SPRINT me_ability_at_will @2802
OUTER_SPRINT me_ability_once_per_week @2803
OUTER_SPRINT me_spell_at_will_name @2804
OUTER_SPRINT me_ability_at_will_name @2805
OUTER_SPRINT me_casting_time @2806
OUTER_SPRINT me_casting_level @2807

// Add abilities to mod kits
ACTION_IF MOD_IS_INSTALLED ~SeducerKit.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~4~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2201) STR_VAR kit_name=~USSD77~ ability_resource=~MEABCSED~ END
END
ACTION_IF MOD_IS_INSTALLED ~UniversalArcherKit.tp2~ ~0~ OR MOD_IS_INSTALLED ~CrossClassKits.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2202) STR_VAR kit_name=~USAF00~ ability_resource=~MEABCARF~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2203) STR_VAR kit_name=~USAP00~ ability_resource=~MEABCARP~ END
END
ACTION_IF MOD_IS_INSTALLED ~Setup-Lost Druid Kit.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2204) STR_VAR kit_name=~dlost~ ability_resource=~MEABCDLO~ END
END
ACTION_IF MOD_IS_INSTALLED ~MirrorMonk.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2205) STR_VAR kit_name=~MEMIRMO~ ability_resource=~MEABCMMI~ END
END
ACTION_IF MOD_IS_INSTALLED ~Setup-shadowadept.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2206) STR_VAR kit_name=~C0SADEPT~ ability_resource=~MEABCSA1~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2206) STR_VAR kit_name=~C0SADEP2~ ability_resource=~MEABCSA1~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2207) STR_VAR kit_name=~C0SASORC~ ability_resource=~MEABCSA2~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2207) STR_VAR kit_name=~C0SASOR2~ ability_resource=~MEABCSA2~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2208) STR_VAR kit_name=~C0SABARD~ ability_resource=~MEABCSA3~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2208) STR_VAR kit_name=~C0SABAR2~ ability_resource=~MEABCSA3~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2209) STR_VAR kit_name=~C0SAMT~ ability_resource=~MEABCSA4~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2209) STR_VAR kit_name=~C0SAMT2~ ability_resource=~MEABCSA4~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2210) STR_VAR kit_name=~C0SACM~ ability_resource=~MEABCSA5~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2210) STR_VAR kit_name=~C0SACM2~ ability_resource=~MEABCSA5~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2211) STR_VAR kit_name=~C0SAFM~ ability_resource=~MEABCSA6~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2211) STR_VAR kit_name=~C0SAFM2~ ability_resource=~MEABCSA6~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2212) STR_VAR kit_name=~C0SAFMT~ ability_resource=~MEABCSA7~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2212) STR_VAR kit_name=~C0SAFMT2~ ability_resource=~MEABCSA7~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2213) STR_VAR kit_name=~C0SAFMC~ ability_resource=~MEABCSA8~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2213) STR_VAR kit_name=~C0SAFMC2~ ability_resource=~MEABCSA8~ END

	COPY_EXISTING ~c0sa106.spl~ ~override/mesa106.spl~ ~c0sa312.spl~ ~override/mesa312.spl~ ~c0sa407.spl~ ~override/mesa407.spl~ ~c0sa409.spl~ ~override/mesa409.spl~ ~c0sa412.spl~ ~override/mesa412.spl~ ~c0sa502.spl~ ~override/mesa502.spl~ ~c0sa706.spl~ ~override/mesa706.spl~ ~c0sa707.spl~ ~override/mesa707.spl~ ~c0sa712.spl~ ~override/mesa712.spl~ ~c0sa805.spl~ ~override/mesa805.spl~ ~c0sa814.spl~ ~override/mesa814.spl~ ~c0sa903.spl~ ~override/mesa903.spl~ ~c0sa911.spl~ ~override/mesa911.spl~ ~c0sahla1.spl~ ~override/mesahla1.spl~ ~c0sahlaa.spl~ ~override/mesahlaa.spl~
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
		IF_EXISTS

	COPY_EXISTING ~mesa106.spl~ ~override~
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MESA106~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MESA106~ END
		IF_EXISTS

	COPY_EXISTING ~mesa312.spl~ ~override~
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MESA312~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MESA312~ END
		IF_EXISTS

	COPY_EXISTING ~mesa412.spl~ ~override~
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MESA412~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MESA412~ END
		IF_EXISTS

	COPY_EXISTING ~mesahlaa.spl~ ~override~
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MESAHLAA~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MESAHLAA~ END
		IF_EXISTS

	COPY_EXISTING ~mesa312.spl~ ~override~ ~c0sa312.spl~ ~override~ ~c0sa312a.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0sa312~ resource=~mesa312~ END
		IF_EXISTS

	COPY_EXISTING ~mesa407.spl~ ~override~ ~c0sa407.spl~ ~override~ ~c0sa207a.spl~ ~override~ ~c0sa407a.spl~ ~override~ ~c0sa706a.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0sa407~ resource=~mesa407~ END
		IF_EXISTS

	COPY_EXISTING ~mesa412.spl~ ~override~ ~c0sa412.spl~ ~override~ ~c0sa412a.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0sa412~ resource=~mesa412~ END
		IF_EXISTS

	COPY_EXISTING ~mesa502.spl~ ~override~ ~c0sa502.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0sa502~ resource=~mesa502~ END
		IF_EXISTS

	COPY_EXISTING ~mesa706.spl~ ~override~ ~c0sa706.spl~ ~override~ ~c0sa207a.spl~ ~override~ ~c0sa407a.spl~ ~override~ ~c0sa706a.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0sa706~ resource=~mesa706~ END
		IF_EXISTS

	COPY_EXISTING ~mesahla1.spl~ ~override~ ~c0sahla1.spl~ ~override~ ~c0saalac.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0sahla1~ resource=~mesahla1~ END
		IF_EXISTS

	ACTION_IF MOD_IS_INSTALLED ~Setup-shadowadept.tp2~ ~1~ BEGIN
		LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2214) STR_VAR kit_name=~C0SMONK~ ability_resource=~MEABCSA9~ END
	END
END
ACTION_IF MOD_IS_INSTALLED ~Mercenary.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2215) STR_VAR kit_name=~RAMerc~ ability_resource=~MEABCMRC~ END
END
ACTION_IF MOD_IS_INSTALLED ~MilitiaOfficer.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2216) STR_VAR kit_name=~RAMili~ ability_resource=~MEABCMIL~ END
END
ACTION_IF MOD_IS_INSTALLED ~Charlatan.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2217) STR_VAR kit_name=~RAChar~ ability_resource=~MEABCCHR~ END
END
ACTION_IF MOD_IS_INSTALLED ~SETUP-Dreamwalker.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2218) STR_VAR kit_name=~UB#DW~ ability_resource=~MEABCSDW~ END

	COPY_EXISTING ~ub!dw5.spl~ ~override/meubdw5.spl~ ~ub!dwh1.spl~ ~override/meubdwh1.spl~ ~ub!dwh2.spl~ ~override/meubdwh2.spl~
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
		IF_EXISTS

	COPY_EXISTING ~meubdwh2.spl~ ~override~
		LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_ability_at_will%~ RET new_strref=new_strref description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=new_strref STR_VAR match= EVAL ~%me_casting_time%[0-9]~ replace_with= EVAL ~%me_casting_time%0~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEUBDWH2~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEUBDWH2~ END
		IF_EXISTS

	COPY_EXISTING ~meubdw5.spl~ ~override~ ~ub!dw5.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~ub!dw5~ resource=~meubdw5~ END
		IF_EXISTS

	COPY_EXISTING ~meubdwh1.spl~ ~override~ ~meubdwh2.spl~ ~override~ ~ub!dwh1.spl~ ~override~ ~ub!dwh2.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~ub!dwh1~ resource=~meubdwh1~ END
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~ub!dwh2~ resource=~meubdwh2~ END
		IF_EXISTS

	COPY_EXISTING ~ub!dw1c.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=castspelloncondition opcode=applyrepeatingeff parameter1=6 parameter2=3 STR_VAR resource=~meco324d~ END
		IF_EXISTS
END
ACTION_IF MOD_IS_INSTALLED ~WarHulkKitBGEE.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~12~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2219) STR_VAR kit_name=~USWH00~ ability_resource=~MEABCWHU~ END
END
ACTION_IF MOD_IS_INSTALLED ~Setup-C0Warlock.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2220) STR_VAR kit_name=~C0WLOCK~ ability_resource=~MEABCWLO~ END
//	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2220) STR_VAR kit_name=~C0WLOCK2~ ability_resource=~MEABCWLO~ END

	COPY_EXISTING ~c0wl302.spl~ ~override/mewl302.spl~ ~c0wl303.spl~ ~override/mewl303.spl~ ~c0wl308.spl~ ~override/mewl308.spl~ ~c0wl402.spl~ ~override/mewl402.spl~ ~c0wl403.spl~ ~override/mewl403.spl~
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
		IF_EXISTS

	COPY_EXISTING ~mewl302.spl~ ~override~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEWL302~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEWL302~ END
		IF_EXISTS

	COPY_EXISTING ~mewl303.spl~ ~override~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEWL303~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEWL303~ END
		IF_EXISTS

	COPY_EXISTING ~mewl308.spl~ ~override~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEWL308~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEWL308~ END
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0wl308~ resource=~mewl308~ END
		IF_EXISTS

	COPY_EXISTING ~mewl402.spl~ ~override~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEWL402~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEWL402~ END

	COPY_EXISTING ~mewl403.spl~ ~override~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEWL403~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEWL403~ END
		IF_EXISTS

	COPY_EXISTING ~mewl403.spl~ ~override~ ~c0wl403.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0wl403~ resource=~mewl403~ END
		IF_EXISTS
END
ACTION_IF MOD_IS_INSTALLED ~Setup-ArtisansKitpack.TP2~ ~4~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2221) STR_VAR kit_name=~C0WSHAM~ ability_resource=~MEABCSWH~ END

	COPY_EXISTING ~c0wshs5.spl~ ~override/mec0wss5.spl~ ~c0wshs6.spl~ ~override/mec0wss6.spl~ ~c0wshs7.spl~ ~override/mec0wss7.spl~
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
		IF_EXISTS

	COPY_EXISTING ~mec0wss5.spl~ ~override~
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEC0WSS5~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEC0WSS5~ END
		IF_EXISTS

	COPY_EXISTING ~mec0wss7.spl~ ~override~ ~c0wshs7.spl~ ~override~
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~c0wshs7~ resource=~mec0wss7~ END
		IF_EXISTS
END


ACTION_IF MOD_IS_INSTALLED ~Setup-ArtisansKitpack.TP2~ ~3~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2222) STR_VAR kit_name=~PaleMaster~ ability_resource=~MEABCPMA~ END
END
ACTION_IF MOD_IS_INSTALLED ~Setup-ArtisansKitpack.TP2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2223) STR_VAR kit_name=~c0aa~ ability_resource=~MEABCAAF~ END
	OUTER_SET me_c0aa2_installed = 0
	COPY_EXISTING ~clastext.2da~ ~override~
		me_c0aa2_installed = 1
		IF ~c0aa2~
		BUT_ONLY_IF_IT_CHANGES
	ACTION_IF me_c0aa2_installed = 1 BEGIN
		LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2224) STR_VAR kit_name=~c0aa2~ ability_resource=~MEABCAA2~ END
	END
END
ACTION_IF MOD_IS_INSTALLED ~ShapeshifterFighterKit.tp2~ ~0~ OR MOD_IS_INSTALLED ~CrossClassKits.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2225) STR_VAR kit_name=~USSF00~ ability_resource=~MEABCSSF~ END

	COPY_EXISTING ~usssf01.spl~ ~override/meusssf1.spl~
		SAY NAME1 @2820
		SAY UNIDENTIFIED_DESC @2821
		LPF DELETE_EFFECT INT_VAR check_headers=1 check_globals=1 match_opcode=giveability STR_VAR match_resource=~usssf01~ END
		LPF DELETE_EFFECT INT_VAR check_headers=1 check_globals=1 match_opcode=removeability STR_VAR match_resource=~usssf01~ END
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=1 END
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=4 END
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=8 END
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=12 END
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=16 END
		LPF ALTER_SPELL_HEADER INT_VAR header=1 min_level=1 END
		LPF ADD_SPELL_EFFECT INT_VAR opcode=applyeffectslist target=1 timing=4 duration=30 STR_VAR resource=~SPIN124~ END
		IF_EXISTS
END
ACTION_IF MOD_IS_INSTALLED ~AlchemistKit.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~5~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2226) STR_VAR kit_name=~USAL00~ ability_resource=~MEABCALC~ END

	COPY_EXISTING ~meal003e.spl~ ~override~
		SAY NAME1 @2822
		SAY UNIDENTIFIED_DESC @2823
		IF_EXISTS

	ADD_PROJECTILE ~override/meal016b.pro~ //War Engine Grade 1
	ADD_PROJECTILE ~override/meal017b.pro~ //War Engine Grade 2
	ADD_PROJECTILE ~override/meal018b.pro~ //War Engine Grade 3
	ADD_PROJECTILE ~override/meal019b.pro~ //War Engine Grade 4
	ADD_PROJECTILE ~override/meal019c.pro~ //War Engine Grade 5

	COPY_EXISTING ~(al)016a.itm~ ~override~
		READ_LONG IDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~30' radius~ replace_with=~15' radius~ END
		IF_EXISTS

	COPY_EXISTING ~(al)017.itm~ ~override~
		READ_LONG IDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~19 Intelligence~ replace_with=~20 Intelligence~ END
		WRITE_BYTE minintelligence 20
		IF_EXISTS

	COPY_EXISTING ~(al)018.itm~ ~override~
		READ_LONG IDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~30' radius~ replace_with=~45' radius~ END
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~19 Intelligence~ replace_with=~21 Intelligence~ END
		WRITE_BYTE minintelligence 21
		IF_EXISTS

	COPY_EXISTING ~(al)019.itm~ ~override~
		READ_LONG IDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~30' radius~ replace_with=~60' radius~ END
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~19 Intelligence~ replace_with=~22 Intelligence~ END
		WRITE_BYTE minintelligence 22
		IF_EXISTS

	COPY_EXISTING ~(al)019a.itm~ ~override~
		READ_LONG IDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~30' radius~ replace_with=~120' radius~ END
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~19 Intelligence~ replace_with=~25 Intelligence~ END
		WRITE_BYTE minintelligence 25
		IF_EXISTS

	COPY_EXISTING ~(al)016b.spl~ ~override~
		LPF ALTER_SPELL_HEADER INT_VAR projectile=meal016b END
		LPF ALTER_EFFECT INT_VAR match_target=4 target=2 END

	COPY_EXISTING ~(al)017b.spl~ ~override~
		LPF ALTER_SPELL_HEADER INT_VAR projectile=meal017b END
		LPF ALTER_EFFECT INT_VAR match_target=4 target=2 END

	COPY_EXISTING ~(al)018b.spl~ ~override~
		LPF ALTER_SPELL_HEADER INT_VAR projectile=meal018b END
		LPF ALTER_EFFECT INT_VAR match_target=4 target=2 END

	COPY_EXISTING ~(al)019b.spl~ ~override~
		LPF ALTER_SPELL_HEADER INT_VAR projectile=meal019b END
		LPF ALTER_EFFECT INT_VAR match_target=4 target=2 END

	COPY_EXISTING ~(al)019c.spl~ ~override~
		LPF ALTER_SPELL_HEADER INT_VAR projectile=meal019c END
		LPF ALTER_EFFECT INT_VAR match_target=4 target=2 END

	COPY_EXISTING ~(al)114.spl~ ~override~
		READ_LONG UNIDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~25%~ replace_with=~50%~ END
		LPF ALTER_EFFECT INT_VAR match_opcode=modifymagicresistance parameter1=50 END


END
ACTION_IF MOD_IS_INSTALLED ~RedSoulKit.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~10~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2227) STR_VAR kit_name=~USRS00~ ability_resource=~MEABCMRS~ END
END
ACTION_IF MOD_IS_INSTALLED ~RedSoulKit.tp2~ ~1~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~11~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2228) STR_VAR kit_name=~USGS00~ ability_resource=~MEABCMGS~ END
END
ACTION_IF MOD_IS_INSTALLED ~RedSoulKit.tp2~ ~2~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~10~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2229) STR_VAR kit_name=~USRS01~ ability_resource=~MEABCSRS~ END
END
ACTION_IF MOD_IS_INSTALLED ~RedSoulKit.tp2~ ~3~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~11~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2230) STR_VAR kit_name=~USGS01~ ability_resource=~MEABCSGS~ END
END
ACTION_IF MOD_IS_INSTALLED ~willowisp.tp2~ ~5~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2231) STR_VAR kit_name=~l0ws~ ability_resource=~MEABCSWL~ END

	COPY_EXISTING ~l0wsin3.spl~ ~override/mel0wsi3.spl~
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_ability_at_will%~ RET description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEL0WSI3~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEL0WSI3~ END
		IF_EXISTS
END
ACTION_IF MOD_IS_INSTALLED ~setup-A7-ChaosSorcerer.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2232) STR_VAR kit_name=~A7_CHAOS_SORCERER~ ability_resource=~MEABCCSO~ END

	COPY_EXISTING ~spwi723.spl~ ~override/mea7cso7.spl~
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~spwi723~ resource=~mea7cso7~ END
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
		READ_LONG UNIDENTIFIED_DESC description_ref
		LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
		SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~MEA7CSO7~ END
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~MEA7CSO7~ END
		IF_EXISTS

	COPY_EXISTING ~a7_sp10.spl~ ~override/mea7cso9.spl~
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
		IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~SwordDancerKit.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~3~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2233) STR_VAR kit_name=~USAPR00~ ability_resource=~MEABCSWD~ END
END

ACTION_IF MOD_IS_INSTALLED ~Setup-StormCaller.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2234) STR_VAR kit_name=~UBSCL~ ability_resource=~MEABCSSC~ END
END
ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~13~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2235) STR_VAR kit_name=~USCDW1~ ability_resource=~MEABCCDM~ END
END
ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~1~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~14~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2236) STR_VAR kit_name=~USCDW2~ ability_resource=~MEABCDM~ END
END
ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~2~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~15~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2237) STR_VAR kit_name=~USCD01~ ability_resource=~MEABCCD~ END
END
ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~3~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~16~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2238) STR_VAR kit_name=~USCDWX~ ability_resource=~MEABC5MD~ END
END
ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~4~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~17~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2239) STR_VAR kit_name=~USCDWT~ ability_resource=~MEABCDT~ END
END
ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~5~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~18~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2240) STR_VAR kit_name=~USFM01~ ability_resource=~MEABCMF~ END
END
ACTION_IF MOD_IS_INSTALLED ~PlasmaWizardKit.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~6~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2241) STR_VAR kit_name=~USPW1~ ability_resource=~MEABCPLW~ END
END
ACTION_IF MOD_IS_INSTALLED ~CrossClassKits.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2242) STR_VAR kit_name=~USKT00~ ability_resource=~MEABCKET~ END
END
ACTION_IF MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2243) STR_VAR kit_name=~USKM01~ ability_resource=~MEABCKEM~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2244) STR_VAR kit_name=~USKP01~ ability_resource=~MEABCKEP~ END
END
ACTION_IF MOD_IS_INSTALLED ~CrossClassKits.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2245) STR_VAR kit_name=~USAM01~ ability_resource=~MEABCASM~ END
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2246) STR_VAR kit_name=~USSM01~ ability_resource=~MEABCSTM~ END
END
ACTION_IF MOD_IS_INSTALLED ~CrossClassKits.tp2~ ~0~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~0~ BEGIN
	LAF ADD_MOD_KIT_ABILITIES INT_VAR ability_string=RESOLVE_STR_REF(@2247) STR_VAR kit_name=~USAT00~ ability_resource=~MEABCART~ END
END

OUTER_FOR (i = 2; i <= 6; ++i) BEGIN
	COPY_EXISTING ~meabilp1.bcs~ ~override/meabilp%i%.bcs~
		DECOMPILE_AND_PATCH BEGIN
			REPLACE_TEXTUALLY ~Player1~ ~Player%i%~
		END
END

EXTEND_TOP ~baldur.bcs~ ~override/meabilp6.bcs~
EXTEND_TOP ~baldur.bcs~ ~override/meabilp5.bcs~
EXTEND_TOP ~baldur.bcs~ ~override/meabilp4.bcs~
EXTEND_TOP ~baldur.bcs~ ~override/meabilp3.bcs~
EXTEND_TOP ~baldur.bcs~ ~override/meabilp2.bcs~
EXTEND_TOP ~baldur.bcs~ ~override/meabilp1.bcs~

<<<<<<<< .../script.baf
IF
	Global("ME_Reputation_Ability_Fix","GLOBAL",0)
THEN
	RESPONSE #100
		SetGlobal("ME_Reputation_Ability_Fix","GLOBAL",1)
		ReputationInc(0)
END

>>>>>>>>

EXTEND_TOP ~baldur.bcs~ ~.../script.baf~ EVAL
/*


COPY_EXISTING ~specific.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	FOR (i = 2; i < 256; ++i) BEGIN
		emptyslotfound=1
		FOR (j = 1; j < numrows; ++j) BEGIN
			READ_2DA_ENTRY j 0 2 current
			PATCH_IF (current = i) BEGIN
				emptyslotfound=0
			END
		END
		PATCH_IF (emptyslotfound) BEGIN
				playerslot=i
				INSERT_2DA_ROW 1 2 ~%playerslot% ME_PLAYER~
				i=256
		END
	END
	PATCH_IF (!emptyslotfound) BEGIN
		FOR (i = 1; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 0 2 current
			PATCH_IF (current = 65) BEGIN
				playerslot=65
				SET_2DA_ENTRY i 1 2 ~ME_PLAYER~
			 	i=numrows
			END
		END
	END

<<<<<<<< .../script.baf
IF
	Exists(Player1)
	!Specifics(Player1,ME_PLAYER)
THEN
	RESPONSE #100
		ChangeSpecifics(Player1,ME_PLAYER)
END

IF

	Exists(Player2)
	!Specifics(Player2,ME_PLAYER)
THEN
	RESPONSE #100
		ChangeSpecifics(Player2,ME_PLAYER)
END

IF
	Exists(Player3)
	!Specifics(Player3,ME_PLAYER)
THEN
	RESPONSE #100
		ChangeSpecifics(Player3,ME_PLAYER)
END

IF
	Exists(Player4)
	!Specifics(Player4,ME_PLAYER)
THEN
	RESPONSE #100
		ChangeSpecifics(Player4,ME_PLAYER)
END

IF
	Exists(Player5)
	!Specifics(Player5,ME_PLAYER)
THEN
	RESPONSE #100
		ChangeSpecifics(Player5,ME_PLAYER)
END

IF
	Exists(Player6)
	!Specifics(Player6,ME_PLAYER)
THEN
	RESPONSE #100
		ChangeSpecifics(Player6,ME_PLAYER)
END

>>>>>>>>

EXTEND_TOP ~baldur.bcs~ ~.../script.baf~ EVAL


COPY_EXISTING_REGEXP ~.*.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~57082~ ~ME_PLAYER~
	END
	IF ~57082~

*/

COPY_EXISTING_REGEXP ~.*.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~36504~ ~ME_AWESOME_DISPELLABLE_EFFECT~
	END
	IF ~36504~

COPY_EXISTING ~mekeldda.bcs~ ~override~
	me_undead_thing_begone = RESOLVE_STR_REF(@408)
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~99999~ ~%me_undead_thing_begone%~
	END

ADD_MUSIC ~brd~ ~HighPower/music/brd.mus~
COPY ~HighPower/music/brd~ ~music/brd~

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~89~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency89greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~90~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency90greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~91~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency91greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~92~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency92greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~93~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency93greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~94~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency94greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~95~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency95greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~96~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency96greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~97~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency97greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~98~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency98greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~99~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency99greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~100~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency100greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~101~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency101greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~102~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency102greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~103~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency103greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~104~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency104greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~105~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency105greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~106~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency106greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~107~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency107greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~108~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency108greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~111~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency111greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~112~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency112greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~113~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency113greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~114~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency114greaterthanorequalto=splprot_slot END
LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~115~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_proficiency115greaterthanorequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~48~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_reputationgreaterthanorequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~48~ splprot_value=~-1~ splprot_relation=~2~ RET splprot_reputationlessthan=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x106~ splprot_value=~1~ splprot_relation=~9~ RET splprot_areaisnotoutdoor=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~14~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetofire=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~14~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktofire=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~15~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetocold=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~15~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktocold=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~16~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetoelec=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~16~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktoelec=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~17~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetoacid=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~17~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktoacid=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~73~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetomagicdamage=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~73~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktomagicdamage=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~74~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetopoison=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~74~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktopoison=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~19~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetomagicfire=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~19~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktomagicfire=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~20~ splprot_value=~100~ splprot_relation=~2~ RET splprot_notimmunetomagiccold=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~20~ splprot_value=~128~ splprot_relation=~4~ RET splprot_weaktomagiccold=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x104~ splprot_value= EVAL ~%splprot_notimmunetomagicfire%~ splprot_relation= EVAL ~%splprot_weaktomagicfire%~ RET splprot_immunetomagicfire=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x103~ splprot_value= EVAL ~%splprot_notimmunetomagicfire%~ splprot_relation= EVAL ~%splprot_weaktomagicfire%~ RET splprot_notimmuneorweaktomagicfire=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x104~ splprot_value= EVAL ~%splprot_notimmunetomagiccold%~ splprot_relation= EVAL ~%splprot_weaktomagiccold%~ RET splprot_immunetomagiccold=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x103~ splprot_value= EVAL ~%splprot_notimmunetomagiccold%~ splprot_relation= EVAL ~%splprot_weaktomagiccold%~ RET splprot_notimmuneorweaktomagiccold=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~644~ splprot_value=~-1~ splprot_relation=~1~ RET splprot_mecharacteridequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~644~ splprot_value=~-1~ splprot_relation=~5~ RET splprot_mecharacteridnotequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x107~ splprot_value=~6~ splprot_relation=~7~ RET splprot_ismorning=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~88~ splprot_value=~0~ splprot_relation=~5~ RET splprot_stoneskinsremaining=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~88~ splprot_value=~0~ splprot_relation=~1~ RET splprot_nostoneskinsremaining=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~633~ splprot_value=~0~ splprot_relation=~5~ RET splprot_eaglebow=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~634~ splprot_value=~0~ splprot_relation=~1~ RET splprot_unseenclub=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x10b~ splprot_value=~5~ splprot_relation=~1~ RET splprot_gianthumanoid=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x104~ splprot_value=~5~ splprot_relation= EVAL ~%splprot_gianthumanoid%~ RET splprot_nothumanoidorgianthumanoid=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~640~ splprot_value=~-1~ splprot_relation=~1~ RET splprot_meflyingspeedequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~640~ splprot_value=~-1~ splprot_relation=~5~ RET splprot_meflyingspeednotequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~192~ splprot_value=~1~ splprot_relation=~4~ RET splprot_assassination=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x103~ splprot_value=~140~ splprot_relation= EVAL ~%splprot_assassination%~ RET splprot_canbackstab=splprot_slot END

COPY_EXISTING ~splprot.2da~ ~override~
	SET_2DA_ENTRY 3 1 4 ~0x104~
	SET_2DA_ENTRY 3 2 4 ~%splprot_notimmunetofire%~
	SET_2DA_ENTRY 3 3 4 ~%splprot_weaktofire%~
	SET_2DA_ENTRY 4 1 4 ~0x103~
	SET_2DA_ENTRY 4 2 4 ~%splprot_notimmunetofire%~
	SET_2DA_ENTRY 4 3 4 ~%splprot_weaktofire%~
	SET_2DA_ENTRY 25 1 4 ~0x104~
	SET_2DA_ENTRY 25 2 4 ~%splprot_notimmunetocold%~
	SET_2DA_ENTRY 25 3 4 ~%splprot_weaktocold%~
	SET_2DA_ENTRY 26 1 4 ~0x103~
	SET_2DA_ENTRY 26 2 4 ~%splprot_notimmunetocold%~
	SET_2DA_ENTRY 26 3 4 ~%splprot_weaktocold%~
	SET_2DA_ENTRY 81 1 4 ~0x104~
	SET_2DA_ENTRY 81 2 4 ~%splprot_notimmunetoelec%~
	SET_2DA_ENTRY 81 3 4 ~%splprot_weaktoelec%~
	SET_2DA_ENTRY 82 1 4 ~0x103~
	SET_2DA_ENTRY 82 2 4 ~%splprot_notimmunetoelec%~
	SET_2DA_ENTRY 82 3 4 ~%splprot_weaktoelec%~
	SET_2DA_ENTRY 79 1 4 ~0x104~
	SET_2DA_ENTRY 79 2 4 ~%splprot_notimmunetoacid%~
	SET_2DA_ENTRY 79 3 4 ~%splprot_weaktoacid%~
	SET_2DA_ENTRY 80 1 4 ~0x103~
	SET_2DA_ENTRY 80 2 4 ~%splprot_notimmunetoacid%~
	SET_2DA_ENTRY 80 3 4 ~%splprot_weaktoacid%~
	SET_2DA_ENTRY 83 1 4 ~0x104~
	SET_2DA_ENTRY 83 2 4 ~%splprot_notimmunetomagicdamage%~
	SET_2DA_ENTRY 83 3 4 ~%splprot_weaktomagicdamage%~
	SET_2DA_ENTRY 84 1 4 ~0x103~
	SET_2DA_ENTRY 84 2 4 ~%splprot_notimmunetomagicdamage%~
	SET_2DA_ENTRY 84 3 4 ~%splprot_weaktomagicdamage%~
	SET_2DA_ENTRY 77 1 4 ~0x104~
	SET_2DA_ENTRY 77 2 4 ~%splprot_notimmunetopoison%~
	SET_2DA_ENTRY 77 3 4 ~%splprot_weaktopoison%~
	SET_2DA_ENTRY 78 1 4 ~0x103~
	SET_2DA_ENTRY 78 2 4 ~%splprot_notimmunetopoison%~
	SET_2DA_ENTRY 78 3 4 ~%splprot_weaktopoison%~

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@637) STR_VAR icon=~MEWI111D~ RET icon_index_mewi111=icon_index END
LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@636) STR_VAR icon=~MEWI203D~ RET icon_index_mewi203=icon_index END
LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@638) STR_VAR icon=~MEWI515D~ RET icon_index_mewi515=icon_index END

/*
OUTER_SET me_splprot_current = splprot_proficiency89greaterthanorequalto

OUTER_FOR (i = 89; i <= 115; ++i) BEGIN
	COPY_EXISTING ~mepf%i%.spl~ ~override~
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 parameter1=2 parameter2=me_splprot_current END
		LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifyproficiencies opcode=removeeffectsbyopcode parameter1=i parameter2=modifyproficiencies END
		me_splprot_current = me_splprot_current + 1
		IF_EXISTS

	COPY_EXISTING ~mepf%i%.spl~ ~override/mepf%i%p.spl~
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 parameter1=1 STR_VAR resource= EVAL ~mepf%i%p~ END
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifyproficiencies parameter1=1 END
		IF_EXISTS

	COPY_EXISTING ~mepf%i%.spl~ ~override/mepf%i%m.spl~
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 parameter1=3 STR_VAR resource= EVAL ~mepf%i%m~ END
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifyproficiencies parameter1=3 END
		IF_EXISTS

	COPY_EXISTING ~mepf%i%.spl~ ~override/mepf%i%h.spl~
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 parameter1=4 STR_VAR resource= EVAL ~mepf%i%h~ END
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifyproficiencies parameter1=4 END
		IF_EXISTS

	COPY_EXISTING ~mepf%i%.spl~ ~override/mepf%i%g.spl~
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 parameter1=5 STR_VAR resource= EVAL ~mepf%i%g~ END
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifyproficiencies parameter1=5 END
		IF_EXISTS
END
*/
COPY_EXISTING ~meco317.spl~ ~override~ ~meco318.spl~ ~override~ ~meco319.spl~ ~override~ ~meco320.spl~ ~override~ ~meco322.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=applyeffectslist parameter2=splprot_reputationgreaterthanorequalto END

COPY_EXISTING ~meco321.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=applyeffectslist parameter2=splprot_reputationlessthan END

COPY ~HighPower/IWD_Spells~ ~override~

ADD_PROJECTILE ~override/fdawn.pro~
ADD_PROJECTILE ~override/idmold.pro~
ADD_PROJECTILE ~override/idpro207.pro~
ADD_PROJECTILE ~override/idpro211.pro~
ADD_PROJECTILE ~override/idpro213.pro~
ADD_PROJECTILE ~override/idpro215.pro~
ADD_PROJECTILE ~override/idpro217.pro~
ADD_PROJECTILE ~override/idpro251.pro~
ADD_PROJECTILE ~override/idpro255.pro~
ADD_PROJECTILE ~override/idpro266.pro~
ADD_PROJECTILE ~override/idpro298.pro~
ADD_PROJECTILE ~override/idpro299.pro~
ADD_PROJECTILE ~override/idpro301.pro~
ADD_PROJECTILE ~override/idpro303.pro~
ADD_PROJECTILE ~override/idpro307.pro~
ADD_PROJECTILE ~override/idpro309.pro~
ADD_PROJECTILE ~override/idpro312.pro~
ADD_PROJECTILE ~override/idpro313.pro~
ADD_PROJECTILE ~override/idpro315.pro~
ADD_PROJECTILE ~override/idpro316.pro~
ADD_PROJECTILE ~override/idpro317.pro~
ADD_PROJECTILE ~override/idpro407.pro~
ADD_PROJECTILE ~override/idshroud.pro~
ADD_PROJECTILE ~override/idstatic.pro~
ADD_PROJECTILE ~override/sunscoh.pro~
ADD_PROJECTILE ~override/swave.pro~
ADD_PROJECTILE ~override/uward.pro~
ADD_PROJECTILE ~override/whirlw.pro~
ADD_PROJECTILE ~override/womoon.pro~
ADD_PROJECTILE ~override/comet.pro~

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@41420) STR_VAR icon=~SPPR420D~ RET icon_index_sppr420=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@41518) STR_VAR icon=~SPPR518D~ RET icon_index_sppr518=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@41520) STR_VAR icon=~SPPR520D~ RET icon_index_sppr520=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@41522) STR_VAR icon=~SPPR522D~ RET icon_index_sppr522=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@41735) STR_VAR icon=~SPPR735D~ RET icon_index_sppr735=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@43427) STR_VAR icon=~SPWI427D~ RET icon_index_spwi427=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@43429) STR_VAR icon=~SPWI429D~ RET icon_index_spwi429=icon_index END

COPY_EXISTING ~idpro312.pro~ ~override~
	WRITE_SHORT 0x21a idpro207

COPY_EXISTING ~sppr103.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41103
	SAY UNIDENTIFIED_DESC @42103

COPY_EXISTING ~sppr112.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40005) END
	SAY NAME1 @41112
	SAY UNIDENTIFIED_DESC @42112

COPY_EXISTING ~sppr114.spl~ ~override~
	SAY NAME1 @41114
	SAY UNIDENTIFIED_DESC @42114

COPY_EXISTING ~sppr115.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=sunscoh END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40006) END
	SAY NAME1 @41115
	SAY UNIDENTIFIED_DESC @42115

COPY_EXISTING ~sppr217.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41217
	SAY UNIDENTIFIED_DESC @42217

COPY_EXISTING ~sppr218.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro298 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=21646 parameter1=RESOLVE_STR_REF(@40000) END
	SAY NAME1 @41218
	SAY UNIDENTIFIED_DESC @42218

COPY_EXISTING ~sppr219.spl~ ~override~
	SAY NAME1 @41219
	SAY UNIDENTIFIED_DESC @42219

COPY_EXISTING ~bclaw.itm~ ~override~
	SAY NAME1 @41219
	SAY NAME2 @41219

COPY_EXISTING ~sppr220.spl~ ~override~
	SAY NAME1 @41220
	SAY UNIDENTIFIED_DESC @42220

COPY_EXISTING ~sppr315.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41315
	SAY UNIDENTIFIED_DESC @42315

COPY_EXISTING ~sppr320.spl~ ~override~
	SAY NAME1 @41320
	SAY UNIDENTIFIED_DESC @42320

COPY_EXISTING ~sppr323.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @41323
	SAY UNIDENTIFIED_DESC @42323

COPY_EXISTING ~sppr325.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro301 END
	SAY NAME1 @41325
	SAY UNIDENTIFIED_DESC @42325

COPY_EXISTING ~sppr326.spl~ ~override~
	SAY NAME1 @41326
	SAY UNIDENTIFIED_DESC @42326

COPY_EXISTING ~sppr326b.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idmold END

COPY_EXISTING ~sppr330.spl~ ~override~
	SAY NAME1 @41330
	SAY UNIDENTIFIED_DESC @42330

COPY_EXISTING ~sppr401.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41401
	SAY UNIDENTIFIED_DESC @42401

COPY_EXISTING ~sppr414.spl~ ~override~
	SAY NAME1 @41414
	SAY UNIDENTIFIED_DESC @42414

COPY_EXISTING ~sppr416.spl~ ~override~
	SAY NAME1 @41416
	SAY UNIDENTIFIED_DESC @42416

COPY_EXISTING ~#cofear.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40007) END

COPY_EXISTING ~sppr419.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro215 END
	SAY NAME1 @41419
	SAY UNIDENTIFIED_DESC @42419

COPY_EXISTING ~sppr420.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_sppr420 END
	SAY NAME1 @41420
	SAY UNIDENTIFIED_DESC @42420

COPY_EXISTING ~sppr420b.spl~ ~override~
//	LPF ALTER_SPELL_HEADER INT_VAR projectile=idstatic END
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=40255 parameter1=RESOLVE_STR_REF(@40001) END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=1 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=eeexinvokelua target=2 timing=0 parameter1=0x5250454D parameter2=0x45303234 savingthrow=0x1740000 special=256 STR_VAR resource=~MERANDSP~ END


COPY_EXISTING ~mepr420e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=40255 parameter1=RESOLVE_STR_REF(@40001) END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=damage dicenumber=(i + 2) END
	END

COPY_EXISTING ~sppr422.spl~ ~override~
	SAY NAME1 @41422
	SAY UNIDENTIFIED_DESC @42422

COPY_EXISTING ~sppr423.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro309 END
	SAY NAME1 @41423
	SAY UNIDENTIFIED_DESC @42423

COPY_EXISTING ~sppr425.spl~ ~override~
	SAY NAME1 @41425
	SAY UNIDENTIFIED_DESC @42425

COPY_EXISTING ~smcudge.itm~ ~override~
	SAY NAME1 @41425
	SAY NAME2 @41425
	SAY UNIDENTIFIED_DESC @42425
	SAY IDENTIFIED_DESC @42425

COPY_EXISTING ~sppr426.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=swave END
	SAY NAME1 @41426
	SAY UNIDENTIFIED_DESC @42426

COPY_EXISTING ~sppr427.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro303 END
	SAY NAME1 @41427
	SAY UNIDENTIFIED_DESC @42427

COPY_EXISTING ~sppr428.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=womoon END
	SAY NAME1 @41428
	SAY UNIDENTIFIED_DESC @42428

COPY_EXISTING ~sppr502.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41502
	SAY UNIDENTIFIED_DESC @42502

COPY_EXISTING ~sppr510.spl~ ~override~
	SAY NAME1 @41510
	SAY UNIDENTIFIED_DESC @42510

COPY_EXISTING ~sppr514.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41514
	SAY UNIDENTIFIED_DESC @42514

COPY_EXISTING ~sppr518.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro266 END
	SAY NAME1 @41518
	SAY UNIDENTIFIED_DESC @42518

COPY_EXISTING ~sppr518a.spl~ ~override~ ~sppr518b.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon match_parameter2=184 parameter2=icon_index_sppr518 END

COPY_EXISTING ~sppr519.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro213 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 duration=1 parameter1=0 parameter2=splprot_meflyingspeednotequalto STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter1=0 parameter2=0x2040010 special=(0 - 1) STR_VAR resource=~MEPRTOFF~ END
	SAY NAME1 @41519
	SAY UNIDENTIFIED_DESC @42519

COPY_EXISTING ~sppr520.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon match_parameter2=164 parameter2=icon_index_sppr520 END
	SAY NAME1 @41520
	SAY UNIDENTIFIED_DESC @42520

COPY_EXISTING ~sppr521.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=uward END
	SAY NAME1 @41521
	SAY UNIDENTIFIED_DESC @42521

COPY_EXISTING ~sppr522.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon match_parameter2=173 parameter2=icon_index_sppr522 END
	SAY NAME1 @41522
	SAY UNIDENTIFIED_DESC @42522

COPY_EXISTING ~sppr523.spl~ ~override~
	SAY NAME1 @41523
	SAY UNIDENTIFIED_DESC @42523

COPY_EXISTING ~sppr607.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41607
	SAY UNIDENTIFIED_DESC @42607

COPY_EXISTING ~sppr608.spl~ ~override~ 
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40003) END
	SAY NAME1 @41608
	SAY UNIDENTIFIED_DESC @42608

COPY_EXISTING ~sppr608.spl~ ~override/sppr699.spl~

COPY_EXISTING ~sppr609.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=fdawn END
	SAY UNIDENTIFIED_DESC @21609

COPY_EXISTING ~sppr617.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=whirlw END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40008) END
	SAY NAME1 @41617
	SAY UNIDENTIFIED_DESC @42617

COPY_EXISTING ~sppr618.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro312 END
	SAY NAME1 @41618
	SAY UNIDENTIFIED_DESC @42618

COPY_EXISTING ~sppr714.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40009) END
	SAY NAME1 @41714
	SAY UNIDENTIFIED_DESC @42714

COPY_EXISTING ~sppr734.spl~ ~override~
	SAY NAME1 @41734
	SAY UNIDENTIFIED_DESC @42734

COPY_EXISTING ~sppr735.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon match_parameter2=165 parameter2=icon_index_sppr735 END
	SAY NAME1 @41735
	SAY UNIDENTIFIED_DESC @42735

COPY_EXISTING ~sppr736.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro307 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@40004) END
	SAY NAME1 @41736
	SAY UNIDENTIFIED_DESC @42736

COPY_EXISTING ~sppr739.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR header=1 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@811) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=2 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@812) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=3 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@813) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=4 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@814) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=5 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@815) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=6 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@816) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=7 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@817) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=8 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@818) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=9 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@819) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=10 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@820) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=11 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@821) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=12 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@822) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=13 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@823) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=14 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@824) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=15 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@825) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=16 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@826) END
	SAY NAME1 @41739
	SAY UNIDENTIFIED_DESC @42739

COPY_EXISTING ~sppr740.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=40835 parameter1=RESOLVE_STR_REF(@40002) END
	SAY NAME1 @41740
	SAY UNIDENTIFIED_DESC @42740

COPY_EXISTING ~spwi204.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro217 END
	SAY NAME1 @43204
	SAY UNIDENTIFIED_DESC @44204

COPY_EXISTING ~spwi216.spl~ ~override~
	SAY NAME1 @43216
	SAY UNIDENTIFIED_DESC @44216

COPY_EXISTING ~spwi225.spl~ ~override~
	SAY NAME1 @43225
	SAY UNIDENTIFIED_DESC @44225
	PATCH_IF MOD_IS_INSTALLED ~verrsza.tp2~ ~0~ BEGIN
		READ_LONG UNIDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~on a cat,~ replace_with=~on a cat or a rakshasa,~ END
	END

COPY_EXISTING ~spwi327.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro251 END
	SAY NAME1 @43327
	SAY UNIDENTIFIED_DESC @44327

COPY_EXISTING ~spwi328.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro313 END
	SAY NAME1 @43328
	SAY UNIDENTIFIED_DESC @44328

COPY_EXISTING ~spwi411.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro255 END
	SAY NAME1 @43411
	SAY UNIDENTIFIED_DESC @44411

COPY_EXISTING ~scrl5h.itm~ ~override~
	SAY NAME2 @43411
	SAY IDENTIFIED_DESC @44411

COPY_EXISTING ~spwi422.spl~ ~override~
	SAY NAME1 @43422
	SAY UNIDENTIFIED_DESC @44422

COPY_EXISTING ~spwi427.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_spwi427 END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro407 END
	SAY NAME1 @43427
	SAY UNIDENTIFIED_DESC @44427

LAF ADD_CLASS_SPELL STR_VAR resref=~SPWI427~ scroll=~SCCOUR~ class_include=~{5}~ END

COPY_EXISTING ~spwi428.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro255 END
	SAY NAME1 @43428
	SAY UNIDENTIFIED_DESC @44428

COPY_EXISTING ~spwi429.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_spwi429 END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro407 END
	SAY NAME1 @43429
	SAY UNIDENTIFIED_DESC @44429

LAF ADD_CLASS_SPELL STR_VAR resref=~SPWI429~ scroll=~SCEMOT~ class_include=~{5}~ END

COPY_EXISTING ~missile.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	startrow = newrow
	FOR (i = 1; i <= 15; ++i) BEGIN
 		INSERT_2DA_ROW numrows 2 ~%newrow% Force Missiles %i%~
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~projectl.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	INSERT_2DA_ROW numrows 2 ~%newrow% mfmiss~
	numrows = numrows + 1
	newrow = newrow + 1
	FOR (i = 2; i <= 15; ++i) BEGIN
		INSERT_2DA_ROW numrows 2 ~%newrow% mfmiss2~
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~spwi430.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i projectile=(startrow + (i - 1) / 3) END
	END
	SAY NAME1 @43430
	SAY UNIDENTIFIED_DESC @44430

COPY_EXISTING ~spwi431.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro315 END
	SAY NAME1 @43431
	SAY UNIDENTIFIED_DESC @44431

COPY_EXISTING ~spwi432.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro316 END
	SAY NAME1 @43432
	SAY UNIDENTIFIED_DESC @44432

COPY_EXISTING ~spwi524.spl~ ~override~
	SAY NAME1 @43524
	SAY UNIDENTIFIED_DESC @44524

COPY_EXISTING ~spwi524b.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idshroud END
	SAY NAME1 @43524
	SAY UNIDENTIFIED_DESC @44524

COPY_EXISTING ~spwi610.spl~ ~override~
	SAY NAME1 @43610
	SAY UNIDENTIFIED_DESC @44610

COPY_EXISTING ~spwi626.spl~ ~override~
	SAY NAME1 @43626
	SAY UNIDENTIFIED_DESC @44626

COPY_EXISTING ~ltouch.itm~ ~override~
	SAY NAME1 @43626
	SAY NAME2 @43626
	SAY UNIDENTIFIED_DESC @44626
	SAY IDENTIFIED_DESC @44626

COPY_EXISTING ~spwi631.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro299 END
	SAY NAME1 @43631
	SAY UNIDENTIFIED_DESC @44631

COPY_EXISTING ~spwi724.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro211 END
	SAY NAME1 @43724
	SAY UNIDENTIFIED_DESC @44724

COPY_EXISTING ~spwi726.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro317 END
	SAY NAME1 @43726
	SAY UNIDENTIFIED_DESC @44726

COPY_EXISTING ~spwi814.spl~ ~override~
	SAY NAME1 @43814
	SAY UNIDENTIFIED_DESC @44814

COPY_EXISTING ~mepr618x.itm~ ~override~
	SAY NAME2 @41618
	SAY IDENTIFIED_DESC @41618

COPY_EXISTING ~scsnill.itm~ ~override~
	SAY NAME2 @43204
	SAY IDENTIFIED_DESC @44204

COPY_EXISTING ~scdeca.itm~ ~override~
	SAY NAME2 @43216
	SAY IDENTIFIED_DESC @44216

COPY_EXISTING ~scice.itm~ ~override~
	SAY NAME2 @43327
	SAY IDENTIFIED_DESC @44327

COPY_EXISTING ~spwi319x.itm~ ~override~
	SAY NAME2 @43328
	SAY IDENTIFIED_DESC @44328

COPY_EXISTING ~scbloo.itm~ ~override~
	SAY NAME2 @43422
	SAY IDENTIFIED_DESC @44422

COPY_EXISTING ~sccour.itm~ ~override~
	SAY NAME2 @43427
	SAY IDENTIFIED_DESC @44427

COPY_EXISTING ~scfear.itm~ ~override~
	SAY NAME2 @43428
	SAY IDENTIFIED_DESC @44428

COPY_EXISTING ~scemot.itm~ ~override~
	SAY NAME2 @43429
	SAY IDENTIFIED_DESC @44429

COPY_EXISTING ~spwi422x.itm~ ~override~
	SAY NAME2 @43430
	SAY IDENTIFIED_DESC @44430

COPY_EXISTING ~spwi423x.itm~ ~override~
	SAY NAME2 @43431
	SAY IDENTIFIED_DESC @44431

COPY_EXISTING ~spwi424x.itm~ ~override~
	SAY NAME2 @43432
	SAY IDENTIFIED_DESC @44432

COPY_EXISTING ~scshro.itm~ ~override~
	SAY NAME2 @43524
	SAY IDENTIFIED_DESC @44524

COPY_EXISTING ~scams.itm~ ~override~
	SAY NAME2 @43610
	SAY IDENTIFIED_DESC @44610

COPY_EXISTING ~sclich.itm~ ~override~
	SAY NAME2 @43626
	SAY IDENTIFIED_DESC @44626

COPY_EXISTING ~spwi619x.itm~ ~override~
	SAY NAME2 @43631
	SAY IDENTIFIED_DESC @44631

COPY_EXISTING ~scacid.itm~ ~override~
	SAY NAME2 @43724
	SAY IDENTIFIED_DESC @44724

COPY_EXISTING ~spwi711x.itm~ ~override~
	SAY NAME2 @43726
	SAY IDENTIFIED_DESC @44726

COPY_EXISTING ~spwi807x.itm~ ~override~
	SAY NAME2 @43814
	SAY IDENTIFIED_DESC @44814

COPY ~HighPower/New_Spells~ ~override~

EXTEND_TOP ~baldur.bcs~ ~override/mepermlu.bcs~

ADD_PROJECTILE ~override/mewofire.pro~ //Wall of Fire
ADD_PROJECTILE ~override/memissto.pro~ //Missile Storm random creature select
ADD_PROJECTILE ~override/meranmis.pro~ //Magic Missile random path
ADD_PROJECTILE ~override/meinvglb.pro~ //Sphere of Invisibility
ADD_PROJECTILE ~override/mepatien.pro~ //Missile of Patience very slow projectile
ADD_PROJECTILE ~override/meportl.pro~ //Linked portal
ADD_PROJECTILE ~override/meintrv3.pro~ //Invisible traveling 3
ADD_PROJECTILE ~override/megrvglb.pro~ //Reversed Gravity Sphere
ADD_PROJECTILE ~override/meverdig.pro~ //Entangle 60-foot radius
ADD_PROJECTILE ~override/mepolera.pro~ //Polar Ray
ADD_PROJECTILE ~override/memindfo.pro~ //Mind Fog
ADD_PROJECTILE ~override/melivlig.pro~ //Living Lightning
ADD_PROJECTILE ~override/mewavefr.pro~ //Freezing Wave
ADD_PROJECTILE ~override/merepuls.pro~ //Repulse
ADD_PROJECTILE ~override/mesacrif.pro~ //Sacrificial Explosion
ADD_PROJECTILE ~override/meconegr.pro~ //Cone of acid
ADD_PROJECTILE ~override/mewofir2.pro~ //Holy Wall of Fire
ADD_PROJECTILE ~override/memetafb.pro~ //Metafireball that explodes into other fireballs
ADD_PROJECTILE ~override/mehole.pro~ //Create Pit
ADD_PROJECTILE ~override/meconr01.pro~ //Cone shot: Arrow
ADD_PROJECTILE ~override/meconr02.pro~ //Cone shot: Bolt
ADD_PROJECTILE ~override/meconr03.pro~ //Cone shot: Bullet
ADD_PROJECTILE ~override/meconr04.pro~ //Cone shot: Dart
ADD_PROJECTILE ~override/meconr05.pro~ //Cone shot: Dagger
ADD_PROJECTILE ~override/meconr06.pro~ //Cone shot: Axe
ADD_PROJECTILE ~override/meconr11.pro~ //Cone shot: Flame Arrow
ADD_PROJECTILE ~override/meconr12.pro~ //Cone shot: Acid Arrow
ADD_PROJECTILE ~override/meconr13.pro~ //Cone shot: Ice Arrow
ADD_PROJECTILE ~override/meconr14.pro~ //Cone shot: Electricity Arrow
ADD_PROJECTILE ~override/meconr31.pro~ //Cone shot: Boulder
ADD_PROJECTILE ~override/melinr01.pro~ //Line shot: Arrow
ADD_PROJECTILE ~override/melinr02.pro~ //Line shot: Bolt
ADD_PROJECTILE ~override/melinr03.pro~ //Line shot: Bullet
ADD_PROJECTILE ~override/melinr04.pro~ //Line shot: Dart
ADD_PROJECTILE ~override/melinr05.pro~ //Line shot: Dagger
ADD_PROJECTILE ~override/melinr06.pro~ //Line shot: Axe
ADD_PROJECTILE ~override/melinr11.pro~ //Line shot: Flame Arrow
ADD_PROJECTILE ~override/melinr12.pro~ //Line shot: Acid Arrow
ADD_PROJECTILE ~override/melinr13.pro~ //Line shot: Ice Arrow
ADD_PROJECTILE ~override/melinr14.pro~ //Line shot: Electricity Arrow
ADD_PROJECTILE ~override/melinr31.pro~ //Line shot: Boulder
ADD_PROJECTILE ~override/meelyst.pro~ //Elysium's Tears
ADD_PROJECTILE ~override/mestwnst.pro~ //Steel Wind Strike
ADD_PROJECTILE ~override/meintrv4.pro~ //Invisible traveling 4
ADD_PROJECTILE ~override/meboulde.pro~ //Boulder
ADD_PROJECTILE ~override/mesannih.pro~ //Sphere of Annihilation
ADD_PROJECTILE ~override/metornad.pro~ //Tornado
ADD_PROJECTILE ~override/meinar15.pro~ //Instant area 15-foot radius
ADD_PROJECTILE ~override/meinap10.pro~ //Instant area 10-foot radius party only

COPY_EXISTING ~lightb.pro~ ~override/meslight.pro~

ADD_PROJECTILE ~override/meslight.pro~ //Special lightning bolt used with Greater Living Lightning

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~18~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_magicresistancegreaterthanorequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x106~ splprot_value=~16~ splprot_relation=~9~ RET splprot_areaisnotforest=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x106~ splprot_value=~2048~ splprot_relation=~8~ RET splprot_areaisanoteleportzone=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x111~ splprot_value=~0x00000001~ splprot_relation=~9~ RET splprot_isnotsleeping=splprot_slot END

//LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~640~ splprot_value=~-1~ splprot_relation=~1~ RET splprot_meflyingspeedequalto=splprot_slot END

//LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~640~ splprot_value=~-1~ splprot_relation=~5~ RET splprot_meflyingspeednotequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~56~ splprot_value=~-1~ splprot_relation=~2~ RET splprot_backstabmultiplierlessthan=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~56~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_backstabmultipliergreaterthanorequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~637~ splprot_value=~0~ splprot_relation=~3~ RET splprot_meinflight=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_currenthpgreaterthanorequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x106~ splprot_value=~-1~ splprot_relation=~8~ RET splprot_areais=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~0x106~ splprot_value=~-1~ splprot_relation=~9~ RET splprot_areaisnot=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~665~ splprot_value=~0~ splprot_relation=~3~ RET splprot_canhavemultiplesimulacra=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~647~ splprot_value=~-1~ splprot_relation=~5~ RET splprot_minheightnotequalto=splprot_slot END

LAF ADD_SPLPROT_CONDITION STR_VAR splprot_stat=~647~ splprot_value=~-1~ splprot_relation=~4~ RET splprot_minheightgreaterthanorequalto=splprot_slot END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31154) STR_VAR icon=~MEPR154D~ RET icon_index_mepr154=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31156) STR_VAR icon=~MEPR156D~ RET icon_index_mepr156=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31157) STR_VAR icon=~MEPR157D~ RET icon_index_mepr157=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31354) STR_VAR icon=~MEPR354D~ RET icon_index_mepr354=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31355) STR_VAR icon=~MEPR355D~ RET icon_index_mepr355=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31356) STR_VAR icon=~MEPR356D~ RET icon_index_mepr356=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31455) STR_VAR icon=~MEPR455D~ RET icon_index_mepr455=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31456) STR_VAR icon=~MEPR456D~ RET icon_index_mepr456=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31556) STR_VAR icon=~MEPR556D~ RET icon_index_mepr556=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31558) STR_VAR icon=~MEPR558D~ RET icon_index_mepr558=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31654) STR_VAR icon=~MEPR654D~ RET icon_index_mepr654=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@31661) STR_VAR icon=~MEPR661D~ RET icon_index_mepr661=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30099) STR_VAR icon=~MEPR656D~ RET icon_index_mepr656=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33157) STR_VAR icon=~MEWI157D~ RET icon_index_mewi157=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33158) STR_VAR icon=~MEWI158D~ RET icon_index_mewi158=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30067) STR_VAR icon=~MEWI255D~ RET icon_index_mewi255=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30054) STR_VAR icon=~MEWI257D~ RET icon_index_mewi257=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33259) STR_VAR icon=~MEWI259D~ RET icon_index_mewi259=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30055) STR_VAR icon=~MEWI352D~ RET icon_index_mewi352=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33353) STR_VAR icon=~MEWI353D~ RET icon_index_mewi353=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33360) STR_VAR icon=~MEWI360D~ RET icon_index_mewi360=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33453) STR_VAR icon=~MEWI453D~ RET icon_index_mewi453=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30056) STR_VAR icon=~MEWI559D~ RET icon_index_mewi559=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33562) STR_VAR icon=~MEWI562D~ RET icon_index_mewi562=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30065) STR_VAR icon=~MEWI654D~ RET icon_index_mewi654=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30059) STR_VAR icon=~MEWI851E~ RET icon_index_mewi851e=icon_index END
LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30060) STR_VAR icon=~MEWI851F~ RET icon_index_mewi851f=icon_index END
LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30061) STR_VAR icon=~MEWI851G~ RET icon_index_mewi851g=icon_index END
LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30062) STR_VAR icon=~MEWI851H~ RET icon_index_mewi851h=icon_index END
LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30063) STR_VAR icon=~MEWI851I~ RET icon_index_mewi851i=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33855) STR_VAR icon=~MEWI855D~ RET icon_index_mewi855=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30057) STR_VAR icon=~MEWI857D~ RET icon_index_mewi857=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@30064) STR_VAR icon=~MEWI953D~ RET icon_index_mewi953=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33957) STR_VAR icon=~MEWI957D~ RET icon_index_mewi957=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33959) STR_VAR icon=~MEWI959D~ RET icon_index_mewi959=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33961) STR_VAR icon=~MEWI961D~ RET icon_index_mewi961=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33962) STR_VAR icon=~MEWI962D~ RET icon_index_mewi962=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33963) STR_VAR icon=~MEWI963D~ RET icon_index_mewi963=icon_index END

LAF ADD_ICON INT_VAR strref=RESOLVE_STR_REF(@33966) STR_VAR icon=~MEWI966D~ RET icon_index_mewi966=icon_index END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanibe0~ RET slotbearblacklargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanibe1~ RET slotbearbrownlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanibe2~ RET slotbearcavelargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanibe3~ RET slotbearpolarlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanido0~ RET slotdogwildlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanido1~ RET slotdogwarlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanido2~ RET slotdogmoonlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanido3~ RET slotdoggraylargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meaniwl0~ RET slotwolflargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meaniwl1~ RET slotwolfworglargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meaniwl2~ RET slotwolfdirelargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meaniwl3~ RET slotwolfwinterlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meaniwl4~ RET slotwolfvampiriclargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meaniwl5~ RET slotwolfdreadlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisp0~ RET slotspidergiantlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisp1~ RET slotspiderhugelargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisp2~ RET slotspiderphaselargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisp3~ RET slotspiderswordlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisp4~ RET slotspiderwraithlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisp5~ RET slotmyrlocharlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisp6~ RET slotspiderwaterlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanirab~ RET slotrabbitlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanigro~ RET slotgroundhoglargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meaniphe~ RET slotpheasantlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanider~ RET slotdeerlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanimoo~ RET slotmooselargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanigcl~ RET slotgreatcatleopardlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanigcp~ RET slotgreatcatpantherlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisng~ RET slotsnakegiantdecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0x7000 STR_VAR directory=~HighPower/animations~ ini=~meanisn1~ RET slotsnakewaterlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xB000 STR_VAR directory=~HighPower/animations~ ini=~meanicow~ RET slotcowlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xB000 STR_VAR directory=~HighPower/animations~ ini=~meanihrs~ RET slothorselargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanibat~ RET slotbatlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanicat~ RET slotcatlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanichk~ RET slotchickenlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanirat~ RET slotratlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanisqu~ RET slotsquirrellargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanitci~ RET slotteleportcircledecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xC000 STR_VAR directory=~HighPower/animations~ ini=~meanisan~ RET slotsphereofannihilationdecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meanibnu~ RET slotbirdnullcreaturedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xD000 STR_VAR directory=~HighPower/animations~ ini=~meanieru~ RET sloteruptioncreaturedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meaniwor~ RET slotworglargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meanibo0~ RET slotboararcticlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meanibo1~ RET slotboarwildlargedecimal=slotDecimal END

LAF ADD_ANIMATION INT_VAR minSlot=0xE000 STR_VAR directory=~HighPower/animations~ ini=~meanibbm~ RET slotbeetlebombardierlargedecimal=slotDecimal END

COPY_EXISTING ~m_mestr1.lua~ ~override~
	ex_spell_ineffective_strref = RESOLVE_STR_REF(@30037)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_spell_ineffective_strref[ %TAB%=].*~ ~ex_spell_ineffective_strref = %ex_spell_ineffective_strref%~
	ex_no_familiar_strref_1 = RESOLVE_STR_REF(@30041)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_no_familiar_strref_1[ %TAB%=].*~ ~ex_no_familiar_strref_1 = %ex_no_familiar_strref_1%~
	ex_familiar_spell_strref_1 = RESOLVE_STR_REF(@30042)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_familiar_spell_strref_1[ %TAB%=].*~ ~ex_familiar_spell_strref_1 = %ex_familiar_spell_strref_1%~
	me_teleport_circle_cut_off_strref = RESOLVE_STR_REF(@30134)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_teleport_circle_cut_off_strref[ %TAB%=].*~ ~me_teleport_circle_cut_off_strref = %me_teleport_circle_cut_off_strref%~
	SPRINT me_teleport_circle_feedback_string_1 @30137
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_teleport_circle_feedback_string_1[ %TAB%=].*~ ~me_teleport_circle_feedback_string_1 = "%me_teleport_circle_feedback_string_1%"~

COPY_EXISTING ~m_mestr1.lua~ ~override~
	REPLACE_TEXTUALLY ~me_animal_growth_animations = {~ ~me_animal_growth_animations = {[0x7200] = %slotbearblacklargedecimal%, [0x7201] = %slotbearbrownlargedecimal%, [0x7202] = %slotbearcavelargedecimal%, [0x7203] = %slotbearpolarlargedecimal%, [0x7400] = %slotdogwildlargedecimal%, [0x7401] = %slotdogwarlargedecimal%, [0x7402] = %slotdogmoonlargedecimal%, [0x7602] = %slotmyrlocharlargedecimal%, [0x7603] = %slotdoggraylargedecimal%, [0x7604] = %slotspiderwaterlargedecimal%, [0x7A00] = %slotspidergiantlargedecimal%, [0x7A01] = %slotspiderhugelargedecimal%, [0x7A02] = %slotspiderphaselargedecimal%, [0x7A03] = %slotspiderswordlargedecimal%, [0x7A04] = %slotspiderwraithlargedecimal%, [0x7B00] = %slotwolflargedecimal%, [0x7B01] = %slotwolfworglargedecimal%, [0x7B02] = %slotwolfdirelargedecimal%, [0x7B03] = %slotwolfwinterlargedecimal%, [0x7B04] = %slotwolfvampiriclargedecimal%, [0x7B05] = %slotwolfdreadlargedecimal%, [0x7F0A] = %slotgreatcatpantherlargedecimal%, [0x7F0B] = %slotgreatcatleopardlargedecimal%, [0x7F13] = %slotsnakegiantdecimal%, [0x7F16] = %slotmooselargedecimal%, [0x7F17] = %slotrabbitlargedecimal%, [0x7F18] = %slotdeerlargedecimal%, [0x7F20] = %slotgroundhoglargedecimal%, [0x7F21] = %slotpheasantlargedecimal%, [0x7F60] = %slotsnakewaterlargedecimal%, [0xB000] = %slotcowlargedecimal%, [0xB100] = %slothorselargedecimal%, [0xC000] = %slotbatlargedecimal%, [0xC100] = %slotcatlargedecimal%, [0xC200] = %slotchickenlargedecimal%, [0xC300] = %slotratlargedecimal%, [0xC400] = %slotsquirrellargedecimal%, [0xC500] = %slotbatlargedecimal%, [0xCC04] = %slotratlargedecimal%, [0xE220] = %slotbeetlebombardierlargedecimal%, [0xE265] = %slotboararcticlargedecimal%, [0xE27F] = %slotboarwildlargedecimal%, [0xE280] = %slotworglargedecimal%, ~

COPY_EXISTING ~m_mestr1.lua~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_line_shot = {~ ~me_line_shot = {[3] = %melinr11%, [4] = %melinr11%, [102] = %melinr12%, [103] = %melinr13%, ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_cone_shot = {~ ~me_cone_shot = {[3] = %meconr11%, [4] = %meconr11%, [102] = %meconr12%, [103] = %meconr13%, ~
	SPRINT ex_hit_string2 @30105
	SPRINT ex_hit_string3 @30106
	SPRINT ex_hit_string5 @30108
	SPRINT ex_hit_string6 @30109
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_hit_strings *=.*~ ~ex_hit_strings = {"%ex_hit_string2%", "%ex_hit_string2%", "%ex_hit_string3%", "%ex_hit_string3%", "%ex_hit_string5%", "%ex_hit_string6%"}~
	ex_backstab_strref7 = RESOLVE_STR_REF(@30110)
	ex_backstab_strref8 = RESOLVE_STR_REF(@30111)
	ex_backstab_strref9 = RESOLVE_STR_REF(@30112)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_backstab_strrefs *=.*~ ~ex_backstab_strrefs = {0, 16471, 16472, 16473, 16474, 16475, %ex_backstab_strref7%, %ex_backstab_strref8%, %ex_backstab_strref9%}~
	ex_exattack1 = RESOLVE_STR_REF(~<EXATTACKSTR1>~)
	ex_exattack2 = RESOLVE_STR_REF(~<EXATTACKSTR2>~)
	ex_exattack3 = RESOLVE_STR_REF(~<EXATTACKSTR3>~)
	ex_exattack4 = RESOLVE_STR_REF(~<EXATTACKSTR4>~)
	ex_exattack5 = RESOLVE_STR_REF(~<EXATTACKSTR5>~)
	ex_exattack6 = RESOLVE_STR_REF(~<EXATTACKSTR6>~)
	ex_exattack7 = RESOLVE_STR_REF(~<EXATTACKSTR7>~)
	ex_exattack8 = RESOLVE_STR_REF(~<EXATTACKSTR8>~)
	ex_exattack9 = RESOLVE_STR_REF(~<EXATTACKSTR9>~)
	ex_exattack10 = RESOLVE_STR_REF(~<EXATTACKSTR10>~)
	ex_exattack11 = RESOLVE_STR_REF(~<EXATTACKSTR11>~)
	ex_exattack12 = RESOLVE_STR_REF(~<EXATTACKSTR12>~)
	ex_exattack13 = RESOLVE_STR_REF(~<EXATTACKSTR13>~)
	ex_exattack14 = RESOLVE_STR_REF(~<EXATTACKSTR14>~)
	ex_exattack15 = RESOLVE_STR_REF(~<EXATTACKSTR15>~)
	ex_exattack16 = RESOLVE_STR_REF(~<EXATTACKSTR16>~)
	ex_exattack17 = RESOLVE_STR_REF(~<EXATTACKSTR17>~)
	ex_exattack18 = RESOLVE_STR_REF(~<EXATTACKSTR18>~)
	ex_exattack19 = RESOLVE_STR_REF(~<EXATTACKSTR19>~)
	ex_exattack20 = RESOLVE_STR_REF(~<EXATTACKSTR20>~)
	ex_exattack21 = RESOLVE_STR_REF(~<EXATTACKSTR21>~)
	ex_exattack22 = RESOLVE_STR_REF(~<EXATTACKSTR22>~)
	ex_exattack23 = RESOLVE_STR_REF(~<EXATTACKSTR23>~)
	ex_exattack24 = RESOLVE_STR_REF(~<EXATTACKSTR24>~)
	ex_exattack25 = RESOLVE_STR_REF(~<EXATTACKSTR25>~)
	ex_exattack26 = RESOLVE_STR_REF(~<EXATTACKSTR26>~)
	ex_exattack27 = RESOLVE_STR_REF(~<EXATTACKSTR27>~)
	ex_exattack28 = RESOLVE_STR_REF(~<EXATTACKSTR28>~)
	ex_exattack29 = RESOLVE_STR_REF(~<EXATTACKSTR29>~)
	ex_exattack30 = RESOLVE_STR_REF(~<EXATTACKSTR30>~)
	ex_exattack31 = RESOLVE_STR_REF(~<EXATTACKSTR31>~)
	ex_exattack32 = RESOLVE_STR_REF(~<EXATTACKSTR32>~)
	ex_exattack33 = RESOLVE_STR_REF(~<EXATTACKSTR33>~)
	ex_exattack34 = RESOLVE_STR_REF(~<EXATTACKSTR34>~)
	ex_exattack35 = RESOLVE_STR_REF(~<EXATTACKSTR35>~)
	ex_exattack36 = RESOLVE_STR_REF(~<EXATTACKSTR36>~)
	ex_exattack37 = RESOLVE_STR_REF(~<EXATTACKSTR37>~)
	ex_exattack38 = RESOLVE_STR_REF(~<EXATTACKSTR38>~)
	ex_exattack39 = RESOLVE_STR_REF(~<EXATTACKSTR39>~)
	ex_exattack40 = RESOLVE_STR_REF(~<EXATTACKSTR40>~)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_exattack *=.*~ ~ex_exattack = {%ex_exattack1%,%ex_exattack2%,%ex_exattack3%,%ex_exattack4%,%ex_exattack5%,%ex_exattack6%,%ex_exattack7%,%ex_exattack8%,%ex_exattack9%,%ex_exattack10%,%ex_exattack11%,%ex_exattack12%,%ex_exattack13%,%ex_exattack14%,%ex_exattack15%,%ex_exattack16%,%ex_exattack17%,%ex_exattack18%,%ex_exattack19%,%ex_exattack20%,%ex_exattack21%,%ex_exattack22%,%ex_exattack23%,%ex_exattack24%,%ex_exattack25%,%ex_exattack26%,%ex_exattack27%,%ex_exattack28%,%ex_exattack29%,%ex_exattack30%,%ex_exattack31%,%ex_exattack32%,%ex_exattack33%,%ex_exattack34%,%ex_exattack35%,%ex_exattack36%,%ex_exattack37%,%ex_exattack38%,%ex_exattack39%,%ex_exattack40%}~

COPY_EXISTING ~projectl.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		line_projectile_id = 0
		cone_projectile_id = 0
		boulder_projectile_id = 0
		is_lightning_projectile = 0
		READ_2DA_ENTRY i 1 2 theprojectileres
		INNER_ACTION BEGIN
			COPY_EXISTING ~%theprojectileres%.pro~ ~override~
				READ_ASCII 0x104 theprojectileanimation ELSE ~~
				PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~ARARROW~) BEGIN
					line_projectile_id = melinr01
					cone_projectile_id = meconr01
				END ELSE PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~BOLT~) BEGIN
					line_projectile_id = melinr02
					cone_projectile_id = meconr02
				END ELSE PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~MAGICSTN~) BEGIN
					line_projectile_id = melinr03
					cone_projectile_id = meconr03
					boulder_projectile_id = meboulde
				END ELSE PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~DART~) BEGIN
					line_projectile_id = melinr04
					cone_projectile_id = meconr04
				END ELSE PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~DAGGER~) BEGIN
					line_projectile_id = melinr05
					cone_projectile_id = meconr05
				END ELSE PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~AXE~) BEGIN
					line_projectile_id = melinr06
					cone_projectile_id = meconr06
				END ELSE PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~SPSPEART~) BEGIN
					line_projectile_id = melinr14
					cone_projectile_id = meconr14
				END ELSE PATCH_IF (~%theprojectileanimation%~ STRING_EQUAL_CASE ~SPLIGHTB~) OR (~%theprojectileanimation%~ STRING_EQUAL_CASE ~LIGHTNT~) OR (~%theprojectileanimation%~ STRING_EQUAL_CASE ~CLIGHTT~) BEGIN
					is_lightning_projectile = 1
				END
				IF_EXISTS
				BUT_ONLY_IF_IT_CHANGES
		END
		PATCH_IF line_projectile_id > 0 OR cone_projectile_id > 0 OR boulder_projectile_id > 0 OR is_lightning_projectile > 0 BEGIN
			READ_2DA_ENTRY i 0 2 theprojectileid
			theprojectileid += 1
			INNER_ACTION BEGIN
				COPY_EXISTING ~m_mestr1.lua~ ~override~
					PATCH_IF line_projectile_id > 0 BEGIN
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_line_shot = {~ ~me_line_shot = {[%theprojectileid%] = %line_projectile_id%, ~
					END
					PATCH_IF line_projectile_id > 0 BEGIN
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_cone_shot = {~ ~me_cone_shot = {[%theprojectileid%] = %cone_projectile_id%, ~
					END
					PATCH_IF boulder_projectile_id > 0 BEGIN
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_boulder_shot = {~ ~me_boulder_shot = {[%theprojectileid%] = %boulder_projectile_id%, ~
					END
					PATCH_IF is_lightning_projectile > 0 BEGIN
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_lightning_projectiles = {~ ~me_lightning_projectiles = {[%theprojectileid%] = true, ~
					END
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~m_mestr1.lua~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_line_shot = {~ ~me_line_shot = {[%meboulde%] = %melinr31%, ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_cone_shot = {~ ~me_cone_shot = {[%meboulde%] = %meconr31%, ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_boulder_shot = {~ ~me_boulder_shot = {[%melinr03%] = %melinr31%, ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_boulder_shot = {~ ~me_boulder_shot = {[%meconr03%] = %meconr31%, ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_special_lightning_projectile = .*~ ~me_special_lightning_projectile = %meslight%~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_tornado_projectile = .*~ ~me_tornado_projectile = %metornad%~

COPY_EXISTING ~ar0900.are~ ~override~ ~ar2600.are~ ~override~ ~ar2626.are~ ~override~ ~bd2000.are~ ~override~ ~bd4000.are~ ~override~ ~bd4300.are~ ~override~
	READ_SHORT 0x48 theareatype
	theareatype|=0x800
	WRITE_SHORT 0x48 theareatype
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~mefixwbu.cre~ ~override~ ~meportst.cre~ ~override~ ~meportl[0-9].cre~ ~override~
	WRITE_SHORT animation slotbirdnullcreaturedecimal

COPY_EXISTING ~meeruptc.cre~ ~override~ ~megtfb3c.cre~ ~override~
	WRITE_SHORT animation sloteruptioncreaturedecimal

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR1~ RET mepr151=filename END
COPY_EXISTING ~mepr151.spl~ ~override/%mepr151%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mepr151~ resource= EVAL ~%mepr151%~ END
	SAY NAME1 @31151
	SAY UNIDENTIFIED_DESC @32151

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR1~ RET mepr152=filename END
COPY_EXISTING ~mepr152.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi157 END
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr152~ resource= EVAL ~%mepr152%~ END
	SAY NAME1 @31152
	SAY UNIDENTIFIED_DESC @32152

LAF ADD_CLASS_SPELL STR_VAR resref=~MEPR152~ class_include=~{21}~ END

COPY_EXISTING ~sppr307.spl~ ~override~ ~spwi410.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mepr152~ END

COPY_EXISTING ~mepr153.spl~ ~override~
	SAY NAME1 @31153
	SAY UNIDENTIFIED_DESC @32153

OUTER_SET ranger_level_one = 1
COPY_EXISTING ~mxsplran.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 1 numcolumns num_spells_level_one
		PATCH_IF num_spells_level_one > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns ranger_level_one
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classranger BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR153   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 ranger_level_one 1 ~GA_MEPR153~
					IF_EXISTS
					UNLESS ~GA_MEPR153~
			END
		END
	END

COPY_EXISTING ~clabrn01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR153   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows ranger_level_one 1 ~GA_MEPR153~
	IF_EXISTS
	UNLESS ~GA_MEPR153~

COPY_EXISTING ~mepr154.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr154 END
	SAY NAME1 @31154
	SAY UNIDENTIFIED_DESC @32154

OUTER_SET paladin_level_one = 1
COPY_EXISTING ~mxsplpal.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 1 numcolumns num_spells_level_one
		PATCH_IF num_spells_level_one > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns paladin_level_one
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classpaladin BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR154   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 paladin_level_one 1 ~GA_MEPR154~
					IF_EXISTS
					UNLESS ~GA_MEPR154~
			END
		END
	END

COPY_EXISTING ~clabpa01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR154   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows paladin_level_one 1 ~GA_MEPR154~
	IF_EXISTS
	UNLESS ~GA_MEPR154~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR1~ RET mepr155=filename END
COPY_EXISTING ~mepr155.spl~ ~override/%mepr155%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=merepuls END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr155~ resource= EVAL ~%mepr155%~ END
	SAY NAME1 @31155
	SAY UNIDENTIFIED_DESC @32155

OUTER_SET camouflage_found = 0

OUTER_SPRINT stringcamouflagename @31156
COPY_EXISTING_REGEXP ~sppr1[0-9][0-9]\.spl~ ~override~
	READ_LONG NAME1 thespellnameref
	GET_STRREF thespellnameref thespellname
	PATCH_IF (camouflage_found = 0) AND (~%thespellname%~ STRING_EQUAL_CASE ~%stringcamouflagename%~) BEGIN
		camouflage_found = 1
		TEXT_SPRINT mepr156 ~%SOURCE_RES%~
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF camouflage_found = 0 BEGIN
	LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR1~ RET mepr156=filename END
END

COPY_EXISTING ~mepr156.spl~ ~override/%mepr156%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr156 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr156~ resource= EVAL ~%mepr156%~ END
	SAY NAME1 @31156
	SAY UNIDENTIFIED_DESC @32156

COPY_EXISTING ~mepr157.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr157 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 60) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @31157
	SAY UNIDENTIFIED_DESC @32157

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classpaladin BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR157   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 paladin_level_one 1 ~GA_MEPR157~
					IF_EXISTS
					UNLESS ~GA_MEPR157~
			END
		END
	END

COPY_EXISTING ~clabpa01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR157   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	LPF GET_2DA_ROW INT_VAR numcolumns=1 match_column=0 STR_VAR match=~ME_PR157~ RET therow=matched END
	SET_2DA_ENTRY numrows paladin_level_one 1 ~GA_MEPR157~
	IF_EXISTS
	UNLESS ~GA_MEPR157~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR2~ RET mepr251=filename END
COPY_EXISTING ~mepr251.spl~ ~override/%mepr251%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mepr251~ resource= EVAL ~%mepr251%~ END
	SAY NAME1 @31251
	SAY UNIDENTIFIED_DESC @32251

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR2~ RET mepr252=filename END
COPY_EXISTING ~mepr252.spl~ ~override/%mepr252%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mepr252~ resource= EVAL ~%mepr252%~ END
	SAY NAME1 @31252
	SAY UNIDENTIFIED_DESC @32252

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR2~ RET mepr253=filename END
COPY_EXISTING ~mepr253.spl~ ~override/%mepr253%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr253~ resource= EVAL ~%mepr253%~ END
	SAY NAME1 @31253
	SAY UNIDENTIFIED_DESC @32253

COPY_EXISTING ~mepr254.spl~ ~override~
	SAY NAME1 @31254
	SAY UNIDENTIFIED_DESC @32254

LAF EXCLUDE_SPELL_FROM_CONTINGENCY STR_VAR resource= EVAL ~MEPR254~ END

OUTER_SET ranger_level_two = 1
COPY_EXISTING ~mxsplran.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 2 numcolumns num_spells_level_two
		PATCH_IF num_spells_level_two > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns ranger_level_two
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classranger BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR254   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 ranger_level_two 1 ~GA_MEPR254~
					IF_EXISTS
					UNLESS ~GA_MEPR254~
			END
		END
	END

COPY_EXISTING ~clabrn01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR254   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	LPF GET_2DA_ROW INT_VAR numcolumns=1 match_column=0 STR_VAR match=~ME_PR254~ RET therow=matched END
	SET_2DA_ENTRY numrows ranger_level_two 1 ~GA_MEPR254~
	IF_EXISTS
	UNLESS ~GA_MEPR254~

OUTER_SET paladin_level_two = 1
COPY_EXISTING ~mxsplpal.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 2 numcolumns num_spells_level_two
		PATCH_IF num_spells_level_two > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns paladin_level_two
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classpaladin BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR254   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 paladin_level_two 1 ~GA_MEPR254~
					IF_EXISTS
					UNLESS ~GA_MEPR254~
			END
		END
	END

COPY_EXISTING ~clabpa01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR254   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	LPF GET_2DA_ROW INT_VAR numcolumns=1 match_column=0 STR_VAR match=~ME_PR254~ RET therow=matched END
	SET_2DA_ENTRY numrows paladin_level_two 1 ~GA_MEPR254~
	IF_EXISTS
	UNLESS ~GA_MEPR254~

COPY_EXISTING ~mepr255.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi559 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=2500 parameter2=splprot_meinflight END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter2=splprot_areaisanoteleportzone special=RESOLVE_STR_REF(@30030) STR_VAR resource=~MEPR255~ END
	SAY NAME1 @31255
	SAY UNIDENTIFIED_DESC @32255

LAF ADD_CLASS_SPELL STR_VAR resref=~MEPR255~ class_include=~{21}~ END
/*
OUTER_SET shaman_level_two = 1
COPY_EXISTING ~mxsplshm.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 2 numcolumns num_spells_level_two
		PATCH_IF num_spells_level_two > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns shaman_level_two
			i = numrows
		END
	END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classshaman BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR255   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 shaman_level_two 1 ~GA_MEPR255~
					IF_EXISTS
					UNLESS ~GA_MEPR255~
			END
		END
	END

COPY_EXISTING ~clabsh01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR255   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	LPF GET_2DA_ROW INT_VAR numcolumns=1 match_column=0 STR_VAR match=~ME_PR255~ RET therow=matched END
	SET_2DA_ENTRY numrows shaman_level_two 1 ~GA_MEPR255~
	IF_EXISTS
	UNLESS ~GA_MEPR255~
*/

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR2~ RET mepr256=filename END
COPY_EXISTING ~mepr256.spl~ ~override/%mepr256%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi259 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr256~ resource= EVAL ~%mepr256%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 60) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @31256
	SAY UNIDENTIFIED_DESC @32256

COPY_EXISTING ~eeex_ini.lua~ ~override~
	REPLACE_TEXTUALLY ~\[\"B3_EfMen\"\] = false~ ~["B3_EfMen"] = true~
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~B3_EfMen.lua~ ~override~
	REPLACE_TEXTUALLY ~B3EffectMenu_Stat_Required = .*~ ~B3EffectMenu_Stat_Required = true~
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR3~ RET mepr351=filename END
COPY_EXISTING ~mepr351.spl~ ~override/%mepr351%.spl~
	SAY NAME1 @31351
	SAY UNIDENTIFIED_DESC @32351

	COPY_EXISTING ~mewaterw.cre~ ~override~
		SAY NAME1 @30003
		SAY NAME2 @30003

	LAF ADD_AREA_ACTORS_2DA STR_VAR variablename=~ME_Add_Water_Weirds~ the2da=~mewatbg1~ END
	COPY_EXISTING_REGEXP ~ar0123.are~ ~override~ ~ar022[456].are~ ~override~ ~ar0505.are~ ~override~ ~ar0609.are~ ~override~ ~ar1010.are~ ~override~ ~ar2626.are~ ~override~ ~ar3601.are~ ~override~ ~ar5506.are~ ~override~ ~ar5801.are~ ~override~ ~ar5810.are~ ~override~ ~ar0[459]00.are~ ~override~ ~ar1[02456789]00.are~ ~override~ ~ar2[012467]00.are~ ~override~ ~ar3[12678]00.are~ ~override~ ~ar4[012346789]00.are~ ~override~ ~ar5[123458]00.are~ ~override~ ~ar540[2345].are~ ~override~
		LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~ME_Water_Weird_Spawn~ fj_reg_script=~MEWATWSP~ END

	LAF ADD_AREA_ACTORS_2DA STR_VAR variablename=~ME_Add_Water_Weirds~ the2da=~mewatee1~ END
	COPY_EXISTING ~oh2010.are~ ~override~
		LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~ME_Water_Weird_Spawn~ fj_reg_script=~MEWATWSP~ END

	ACTION_IF GAME_INCLUDES ~sod~ BEGIN
		LAF ADD_AREA_ACTORS_2DA STR_VAR variablename=~ME_Add_Water_Weirds~ the2da=~mewatsod~ END
		COPY_EXISTING_REGEXP ~bd[1267]000.are~ ~override~ ~bd5100.are~ ~override~ ~bd7220.are~ ~override~
			LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~ME_Water_Weird_Spawn~ fj_reg_script=~MEWATWSP~ END
	END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR3~ RET mepr352=filename END
COPY_EXISTING ~mepr352.spl~ ~override/%mepr352%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30021 parameter1=RESOLVE_STR_REF(@30021) END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr352~ resource= EVAL ~%mepr352%~ END
	SAY NAME1 @31352
	SAY UNIDENTIFIED_DESC @32352

COPY_EXISTING ~mepr352d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30022 parameter1=RESOLVE_STR_REF(@30022) END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR3~ RET mepr353=filename END
COPY_EXISTING ~mepr353.spl~ ~override/%mepr353%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30031 parameter1=RESOLVE_STR_REF(@30031) END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr353~ resource= EVAL ~%mepr353%~ END
	SAY NAME1 @31353
	SAY UNIDENTIFIED_DESC @32353

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR3~ RET mepr354=filename END
COPY_EXISTING ~mepr354.spl~ ~override/%mepr354%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr354 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30035 parameter1=RESOLVE_STR_REF(@30035) END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr354~ resource= EVAL ~%mepr354%~ END
	SAY NAME1 @31354
	SAY UNIDENTIFIED_DESC @32354

COPY_EXISTING ~mepr354d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30035 parameter1=RESOLVE_STR_REF(@30035) END

COPY_EXISTING ~mepr355.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr355 END
	SAY NAME1 @31355
	SAY UNIDENTIFIED_DESC @32355

OUTER_SET paladin_level_three = 1
COPY_EXISTING ~mxsplpal.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 3 numcolumns num_spells_level_three
		PATCH_IF num_spells_level_three > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns paladin_level_three
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classpaladin BEGIN
			READ_2DA_ENTRY i 1 10 name_of_kit
			PATCH_IF !(~%name_of_kit%~ STRING_EQUAL_CASE ~Blackguard~) BEGIN
				READ_2DA_ENTRY i 5 10 abilities_of_kit
				INNER_ACTION BEGIN
					COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
						COUNT_2DA_ROWS 1 numrows_2
						INSERT_2DA_ROW numrows_2 1 ~ME_PR355   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
						SET_2DA_ENTRY numrows_2 paladin_level_three 1 ~GA_MEPR355~
						IF_EXISTS
						UNLESS ~GA_MEPR355~
				END
			END
		END
	END

COPY_EXISTING ~clabpa01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR355   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows paladin_level_three 1 ~GA_MEPR355~
	IF_EXISTS
	UNLESS ~GA_MEPR355~

COPY_EXISTING ~mepr356.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr356 END
	SAY NAME1 @31356
	SAY UNIDENTIFIED_DESC @32356

OUTER_SET ranger_level_three = 1
COPY_EXISTING ~mxsplran.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 3 numcolumns num_spells_level_three
		PATCH_IF num_spells_level_three > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns ranger_level_three
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classranger BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR356   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 ranger_level_three 1 ~GA_MEPR356~
					IF_EXISTS
					UNLESS ~GA_MEPR356~
			END
		END
	END

COPY_EXISTING ~clabrn01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR356   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows ranger_level_three 1 ~GA_MEPR356~
	IF_EXISTS
	UNLESS ~GA_MEPR356~

COPY_EXISTING ~mepr357.spl~ ~override~
	SAY NAME1 @31357
	SAY UNIDENTIFIED_DESC @32357

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classranger BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR357   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 ranger_level_three 1 ~GA_MEPR357~
					IF_EXISTS
					UNLESS ~GA_MEPR357~
			END
		END
	END

COPY_EXISTING ~clabrn01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR357   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows ranger_level_three 1 ~GA_MEPR357~
	IF_EXISTS
	UNLESS ~GA_MEPR357~

OUTER_SPRINT me_30043 @30043
OUTER_SPRINT me_31358 @31358
LAF ADD_CONTINGENCY INT_VAR new_action=1 description=RESOLVE_STR_REF(@32358) STR_VAR resource= EVAL ~mepr358~ title=~ME_FAMILIAR_SPELL_TITLE~ title_name= EVAL ~%me_31358%~ action=~ME_ADD_SPELLS_FAMILIAR_LABEL~ action_name= EVAL ~%me_30043%~ END

COPY_EXISTING ~mepr358.spl~ ~override~
	SAY NAME1 @31358
	SAY UNIDENTIFIED_DESC @32358

COPY_EXISTING ~clabrn04.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR358   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows ranger_level_three 1 ~GA_MEPR358~
	IF_EXISTS
	UNLESS ~GA_MEPR358~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR3~ RET mepr360=filename END
COPY_EXISTING ~mepr360.spl~ ~override/%mepr360%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr360~ resource= EVAL ~%mepr360%~ END
	SAY NAME1 @31360
	SAY UNIDENTIFIED_DESC @32360

COPY_EXISTING ~mepr361.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mestwnst END
	SAY NAME1 @31361
	SAY UNIDENTIFIED_DESC @32361

LAF EXCLUDE_SPELL_FROM_CONTINGENCY STR_VAR resource= EVAL ~MEPR361~ END

COPY_EXISTING ~mestwnst.pro~ ~override~
	WRITE_SHORT 0x21A meintrv4

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classranger BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR361   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 ranger_level_three 1 ~GA_MEPR361~
					IF_EXISTS
					UNLESS ~GA_MEPR361~
			END
		END
	END

COPY_EXISTING ~clabrn01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR361   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows ranger_level_three 1 ~GA_MEPR361~
	IF_EXISTS
	UNLESS ~GA_MEPR361~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR4~ RET mepr451=filename END
COPY_EXISTING ~mepr451.spl~ ~override/%mepr451%.spl~
	SAY NAME1 @31451
	SAY UNIDENTIFIED_DESC @32451

COPY_EXISTING ~mepr451d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30000 parameter1=RESOLVE_STR_REF(@30000) END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromstring match_parameter1=30001 parameter1=RESOLVE_STR_REF(@30001) END

COPY_EXISTING ~mepr451s.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30001 parameter1=RESOLVE_STR_REF(@30001) END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR4~ RET mepr452=filename END
COPY_EXISTING ~mepr452.spl~ ~override/%mepr452%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=immunitytospellandmessage match_parameter2=1250 parameter2=splprot_areaisnotforest special=RESOLVE_STR_REF(@30002) END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mepr452~ resource= EVAL ~%mepr452%~ END
	SAY NAME1 @31452
	SAY UNIDENTIFIED_DESC @32452

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR4~ RET mepr453=filename END
COPY_EXISTING ~mepr453.spl~ ~override/%mepr453%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr453~ resource= EVAL ~%mepr453%~ END
	SAY NAME1 @31453
	SAY UNIDENTIFIED_DESC @32453

OUTER_SET produce_fire_found = 0
OUTER_SPRINT stringproducefirename @41419
COPY_EXISTING_REGEXP ~sppr4[0-9][0-9]\.spl~ ~override~
	READ_LONG NAME1 thespellnameref
	GET_STRREF thespellnameref thespellname
	PATCH_IF (produce_fire_found = 0) AND (~%thespellname%~ STRING_EQUAL_CASE ~%stringproducefirename%~) BEGIN
		produce_fire_found = 1
		TEXT_SPRINT mepr454 ~%SOURCE_RES%~
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF produce_fire_found = 0 BEGIN
	LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR4~ RET mepr454=filename END
END

COPY_EXISTING ~mepr454.spl~ ~override/%mepr454%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mewofire END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mepr454~ resource= EVAL ~%mepr454%~ END
	SAY NAME1 @31454
	SAY UNIDENTIFIED_DESC @32454

COPY_EXISTING ~mepr455.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr455 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY NAME1 @31455
	SAY UNIDENTIFIED_DESC @32455

OUTER_SET ranger_level_four = 1
COPY_EXISTING ~mxsplran.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns > 4 BEGIN
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 4 numcolumns num_spells_level_four
			PATCH_IF num_spells_level_four > 0 BEGIN
				READ_2DA_ENTRY i 0 numcolumns ranger_level_four
				i = numrows
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF ranger_level_four > 1 BEGIN

	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_ROWS 10 numrows
		FOR (i = 1; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 8 10 class_of_kit
			PATCH_IF class_of_kit=classranger BEGIN
				READ_2DA_ENTRY i 5 10 abilities_of_kit
				INNER_ACTION BEGIN
					COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
						COUNT_2DA_ROWS 1 numrows_2
						INSERT_2DA_ROW numrows_2 1 ~ME_PR455   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
						SET_2DA_ENTRY numrows_2 ranger_level_four 1 ~GA_MEPR455~
						IF_EXISTS
						UNLESS ~GA_MEPR455~
				END
			END
		END
	
	COPY_EXISTING ~clabrn01.2da~ ~override~
		COUNT_2DA_ROWS 1 numrows
		INSERT_2DA_ROW numrows 1 ~ME_PR455   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
		SET_2DA_ENTRY numrows ranger_level_four 1 ~GA_MEPR455~
		IF_EXISTS
		UNLESS ~GA_MEPR455~

END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR4~ RET mepr456=filename END
COPY_EXISTING ~mepr456.spl~ ~override/%mepr456%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr456 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=408 special=(i / 3) END
	END
	LPF ALTER_SPELL_EFFECT INT_VAR header=1 match_opcode=408 special=1 END
	LPF ALTER_SPELL_EFFECT INT_VAR header=2 match_opcode=408 special=1 END
	SAY NAME1 @31456
	SAY UNIDENTIFIED_DESC @32456

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR5~ RET mepr551=filename END
COPY_EXISTING ~mepr551.spl~ ~override/%mepr551%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30020 parameter1=RESOLVE_STR_REF(@30020) END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr551~ resource= EVAL ~%mepr551%~ END
	SAY NAME1 @31551
	SAY UNIDENTIFIED_DESC @32551

COPY_EXISTING ~mepr551d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=30019 parameter1=RESOLVE_STR_REF(@30019) END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR5~ RET mepr552=filename END
COPY_EXISTING ~mepr552.spl~ ~override/%mepr552%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr552~ resource= EVAL ~%mepr552%~ END
	SAY NAME1 @31552
	SAY UNIDENTIFIED_DESC @32552

COPY_EXISTING ~instant.ids~ ~override~
	REPLACE_TEXTUALLY ~327~ ~323 CreateCreatureImpassableAllowOverlap(S:NewObject*,P:Location*,I:Face*DIR)
323 CreateCreatureImpassableAllowOverlapEffect(S:NewObject*,S:Effect*,P:Location*,I:Face*DIR)
327~
	UNLESS ~323~



COPY_EXISTING ~mepr554.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi559 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=2500 parameter2=splprot_meinflight END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=1 timing=0 duration=1 parameter2=splprot_areaisanoteleportzone special=RESOLVE_STR_REF(@30030) STR_VAR resource=~MEPR554~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 7) * 3) END
//		LPF ALTER_EFFECT INT_VAR header=i match_opcode=eeexsetextendedstat match_special=640 parameter1=(i + 21) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @31554
	SAY UNIDENTIFIED_DESC @32554

LAF ADD_CLASS_SPELL STR_VAR resref=~MEPR554~ class_include=~{21}~ END
/*
OUTER_SET shaman_level_five = 1
COPY_EXISTING ~mxsplshm.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 5 numcolumns num_spells_level_five
		PATCH_IF num_spells_level_five > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns shaman_level_five
			i = numrows
		END
	END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classshaman BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR554   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 shaman_level_five 1 ~GA_MEPR554~
					IF_EXISTS
					UNLESS ~GA_MEPR554~
			END
		END
	END

COPY_EXISTING ~clabsh01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR554   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	LPF GET_2DA_ROW INT_VAR numcolumns=1 match_column=0 STR_VAR match=~ME_PR554~ RET therow=matched END
	SET_2DA_ENTRY numrows shaman_level_five 1 ~GA_MEPR554~
	IF_EXISTS
	UNLESS ~GA_MEPR554~
*/

COPY_EXISTING ~mepr555.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi562 END
	SAY NAME1 @33562
	SAY UNIDENTIFIED_DESC @34562

OUTER_SPRINT me_30076 @30076
OUTER_SPRINT me_31555 @31555
LAF ADD_CONTINGENCY INT_VAR new_action=1 description=RESOLVE_STR_REF(@32555) STR_VAR resource= EVAL ~MEPR555~ title=~ME_CRITICAL_SPELL_TITLE~ title_name= EVAL ~%me_31555%~ action=~ME_CRITICAL_SPELL_LABEL~ action_name= EVAL ~%me_30076%~ END

COPY_EXISTING ~m_mealtc.lua~ ~override~
	ref_30068 = RESOLVE_STR_REF(@30068)
	ref_30069 = RESOLVE_STR_REF(@30069)
	ref_30070 = RESOLVE_STR_REF(@30070)
	ref_30071 = RESOLVE_STR_REF(@30071)
	ref_30072 = RESOLVE_STR_REF(@30072)
	ref_30073 = RESOLVE_STR_REF(@30073)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_alt_contingency = {~ ~me_alt_contingency = {
['MEPR555'] = {['conditions'] = {{['strref'] = %ref_30068%, ['desc'] = %ref_30069%}}, ['targets'] = {{['strref'] = %ref_30070%, ['desc'] = %ref_30071%}, {['strref'] = %ref_30072%, ['desc'] = %ref_30073%}},},~

OUTER_SET ranger_level_five = 1
COPY_EXISTING ~mxsplran.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns > 5 BEGIN
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 5 numcolumns num_spells_level_five
			PATCH_IF num_spells_level_five > 0 BEGIN
				READ_2DA_ENTRY i 0 numcolumns ranger_level_five
				i = numrows
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF ranger_level_five > 1 BEGIN

	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_ROWS 10 numrows
		FOR (i = 1; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 8 10 class_of_kit
			PATCH_IF class_of_kit=classranger BEGIN
				READ_2DA_ENTRY i 5 10 abilities_of_kit
				INNER_ACTION BEGIN
					COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
						COUNT_2DA_ROWS 1 numrows_2
						INSERT_2DA_ROW numrows_2 1 ~ME_PR555   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
						SET_2DA_ENTRY numrows_2 ranger_level_five 1 ~GA_MEPR555~
						IF_EXISTS
						UNLESS ~GA_MEPR555~
				END
			END
		END
	
	COPY_EXISTING ~clabrn01.2da~ ~override~
		COUNT_2DA_ROWS 1 numrows
		INSERT_2DA_ROW numrows 1 ~ME_PR555   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
		SET_2DA_ENTRY numrows ranger_level_five 1 ~GA_MEPR555~
		IF_EXISTS
		UNLESS ~GA_MEPR555~

END

OUTER_SET paladin_level_five = 1
COPY_EXISTING ~mxsplpal.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns > 5 BEGIN
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 5 numcolumns num_spells_level_five
			PATCH_IF num_spells_level_five > 0 BEGIN
				READ_2DA_ENTRY i 0 numcolumns paladin_level_five
				i = numrows
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF paladin_level_five > 1 BEGIN

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classpaladin BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_ROWS 1 numrows_2
					INSERT_2DA_ROW numrows_2 1 ~ME_PR555   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					SET_2DA_ENTRY numrows_2 paladin_level_five 1 ~GA_MEPR555~
					IF_EXISTS
					UNLESS ~GA_MEPR555~
			END
		END
	END

COPY_EXISTING ~clabpa01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR555   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows paladin_level_five 1 ~GA_MEPR555~
	IF_EXISTS
	UNLESS ~GA_MEPR555~

END

COPY_EXISTING ~mepr556.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr556 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 3) END
	END
	SAY NAME1 @31556
	SAY UNIDENTIFIED_DESC @32556

OUTER_SET ranger_level_five = 1
COPY_EXISTING ~mxsplran.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns > 5 BEGIN
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 5 numcolumns num_spells_level_five
			PATCH_IF num_spells_level_five > 0 BEGIN
				READ_2DA_ENTRY i 0 numcolumns ranger_level_five
				i = numrows
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF ranger_level_five > 1 BEGIN

	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_ROWS 10 numrows
		FOR (i = 1; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 8 10 class_of_kit
			PATCH_IF class_of_kit=classranger BEGIN
				READ_2DA_ENTRY i 5 10 abilities_of_kit
				INNER_ACTION BEGIN
					COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
						COUNT_2DA_ROWS 1 numrows_2
						INSERT_2DA_ROW numrows_2 1 ~ME_PR556   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
						SET_2DA_ENTRY numrows_2 ranger_level_five 1 ~GA_MEPR556~
						IF_EXISTS
						UNLESS ~GA_MEPR556~
				END
			END
		END
	
	COPY_EXISTING ~clabrn01.2da~ ~override~
		COUNT_2DA_ROWS 1 numrows
		INSERT_2DA_ROW numrows 1 ~ME_PR556   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
		SET_2DA_ENTRY numrows ranger_level_five 1 ~GA_MEPR556~
		IF_EXISTS
		UNLESS ~GA_MEPR556~

END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR5~ RET mepr557=filename END
COPY_EXISTING ~mepr557.spl~ ~override/%mepr557%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr557~ resource= EVAL ~%mepr557%~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@30151) END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY NAME1 @31557
	SAY UNIDENTIFIED_DESC @32557

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR5~ RET mepr558=filename END
COPY_EXISTING ~mepr558.spl~ ~override/%mepr558%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr558~ resource= EVAL ~%mepr558%~ END
	SAY NAME1 @31558
	SAY UNIDENTIFIED_DESC @32558

COPY_EXISTING ~mepr558.2da~ ~override/%mepr558%.2da~

COPY_EXISTING ~mesos01.spl~ ~override~
	SAY NAME1 @30141

COPY_EXISTING ~mesos02.spl~ ~override~
	SAY NAME1 @30142

COPY_EXISTING ~mesos03.spl~ ~override~
	SAY NAME1 @30143

COPY_EXISTING ~mesos04.spl~ ~override~
	SAY NAME1 @30144

COPY_EXISTING ~mesos05.spl~ ~override~
	SAY NAME1 @30145

COPY_EXISTING ~mesos06.spl~ ~override~
	SAY NAME1 @30146

COPY_EXISTING ~mesos07.spl~ ~override~
	SAY NAME1 @30147

COPY_EXISTING_REGEXP ~mesos0[1-7]\.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr558 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY UNIDENTIFIED_DESC @32558

COPY_EXISTING_REGEXP ~mesos0[1-7]d\.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meinap10 END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR6~ RET mepr652=filename END
COPY_EXISTING ~mepr652.spl~ ~override/%mepr652%.spl~
	SAY NAME1 @31652
	SAY UNIDENTIFIED_DESC @32652

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR6~ RET mepr653=filename END
COPY_EXISTING ~mepr653.spl~ ~override/%mepr653%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr653~ resource= EVAL ~%mepr653%~ END
	SAY NAME1 @31653
	SAY UNIDENTIFIED_DESC @32653

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR6~ RET mepr654=filename END
COPY_EXISTING ~mepr654.spl~ ~override/%mepr654%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr654 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr654~ resource= EVAL ~%mepr654%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) match_opcode=333 parameter1=(i + 1) parameter2=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @31654
	SAY UNIDENTIFIED_DESC @32654

COPY_EXISTING ~mepr654d.spl~ ~override~
//	LPF ALTER_SPELL_HEADER INT_VAR projectile=melivlig END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=castspell opcode=eeexinvokelua parameter1=0x5250454D parameter2=0x45343536 savingthrow=0x1740000 special=240 STR_VAR match_resource=~mepr654e~ resource=~MERANDSP~ END

COPY_EXISTING ~mepr654e.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) match_opcode=damage dicenumber=((i + 1) / 2) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END

COPY_EXISTING ~mepr655.spl~ ~override~
	SAY NAME1 @31655
	SAY UNIDENTIFIED_DESC @32655

COPY_EXISTING ~mepr655d.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END

LAF ADD_CLASS_SPELL STR_VAR resref=~MEPR655~ class_include=~{21}~ END

COPY_EXISTING ~mepr656.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@30099) END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr656 END
	SAY NAME1 @31656
	SAY UNIDENTIFIED_DESC @32656

OUTER_SET druid_level_six = 1
COPY_EXISTING ~mxspldru.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 6 numcolumns num_spells_level_six
		PATCH_IF num_spells_level_six > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns druid_level_six
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~clabdr03.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR656   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows druid_level_six 1 ~GA_MEPR656~
	IF_EXISTS
	UNLESS ~GA_MEPR656~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR6~ RET mepr657=filename END
COPY_EXISTING ~mepr657.spl~ ~override/%mepr657%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mewofir2 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr657~ resource= EVAL ~%mepr657%~ END
	SAY NAME1 @31657
	SAY UNIDENTIFIED_DESC @32657

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR6~ RET mepr658=filename END
COPY_EXISTING ~sppr702.spl~ ~override/%mepr658%.spl~
	WRITE_LONG spelllevel 6
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_power=7 power=6 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~sppr702~ resource= EVAL ~%mepr658%~ END
	SAY NAME1 @31658
	SAY UNIDENTIFIED_DESC @32658

COPY_EXISTING ~hidespl.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns = 3 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~sppr702    1          0~
	END ELSE PATCH_IF numcolumns = 4 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~sppr702    1          0          0~
	END

COPY_EXISTING ~mepr659.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mestwnst END
	SAY NAME1 @31659
	SAY UNIDENTIFIED_DESC @32659

LAF EXCLUDE_SPELL_FROM_CONTINGENCY STR_VAR resource= EVAL ~MEPR659~ END
/*
OUTER_SET ranger_level_six = 1
COPY_EXISTING ~mxsplran.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns > 5 BEGIN
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 5 numcolumns num_spells_level_six
			PATCH_IF num_spells_level_six > 0 BEGIN
				READ_2DA_ENTRY i 0 numcolumns ranger_level_six
				i = numrows
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF ranger_level_six > 1 BEGIN

	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_ROWS 10 numrows
		FOR (i = 1; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 8 10 class_of_kit
			PATCH_IF class_of_kit=classranger BEGIN
				READ_2DA_ENTRY i 5 10 abilities_of_kit
				INNER_ACTION BEGIN
					COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
						COUNT_2DA_ROWS 1 numrows_2
						INSERT_2DA_ROW numrows_2 1 ~ME_PR659   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
						SET_2DA_ENTRY numrows_2 ranger_level_six 1 ~GA_MEPR659~
						IF_EXISTS
						UNLESS ~GA_MEPR659~
				END
			END
		END

	COPY_EXISTING ~clabrn01.2da~ ~override~
		COUNT_2DA_ROWS 1 numrows
		INSERT_2DA_ROW numrows 1 ~ME_PR659   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
		SET_2DA_ENTRY numrows ranger_level_six 1 ~GA_MEPR659~
		IF_EXISTS
		UNLESS ~GA_MEPR659~

END
*/
LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR6~ RET mepr660=filename END
COPY_EXISTING ~mepr660.spl~ ~override/%mepr660%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr660~ resource= EVAL ~%mepr660%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=((i * 3) + 30) END
	END
	SAY NAME1 @31660
	SAY UNIDENTIFIED_DESC @32660

COPY_EXISTING ~mepr661.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mepr661 END
	SAY NAME1 @31661
	SAY UNIDENTIFIED_DESC @32661

OUTER_SET paladin_level_six = 1
COPY_EXISTING ~mxsplpal.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 6 numcolumns num_spells_level_six
		PATCH_IF num_spells_level_six > 0 BEGIN
			READ_2DA_ENTRY i 0 numcolumns paladin_level_six
			i = numrows
		END
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF paladin_level_six > 1 BEGIN

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classpaladin BEGIN
			READ_2DA_ENTRY i 1 10 name_of_kit
			PATCH_IF !(~%name_of_kit%~ STRING_EQUAL_CASE ~Blackguard~) BEGIN
				READ_2DA_ENTRY i 5 10 abilities_of_kit
				INNER_ACTION BEGIN
					COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
						COUNT_2DA_ROWS 1 numrows_2
						INSERT_2DA_ROW numrows_2 1 ~ME_PR661   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
						SET_2DA_ENTRY numrows_2 paladin_level_six 1 ~GA_MEPR661~
						IF_EXISTS
						UNLESS ~GA_MEPR661~
				END
			END
		END
	END

COPY_EXISTING ~clabpa01.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows
	INSERT_2DA_ROW numrows 1 ~ME_PR661   ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	SET_2DA_ENTRY numrows paladin_level_six 1 ~GA_MEPR661~
	IF_EXISTS
	UNLESS ~GA_MEPR661~

END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR7~ RET mepr751=filename END
COPY_EXISTING ~mepr751.spl~ ~override/%mepr751%.spl~
	SAY NAME1 @31751
	SAY UNIDENTIFIED_DESC @32751

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR7~ RET mepr753=filename END
COPY_EXISTING ~mepr753.spl~ ~override/%mepr753%.spl~
	SAY NAME1 @31753
	SAY UNIDENTIFIED_DESC @32753

COPY_EXISTING ~mepr754.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meverdig END
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	SAY NAME1 @31754
	SAY UNIDENTIFIED_DESC @32754

COPY_EXISTING ~ludr0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR754~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR754~

COPY_EXISTING ~lufd0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR754~ min_lev=~16~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR754~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~11~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR754~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR754~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR7~ RET mepr755=filename END
COPY_EXISTING ~mepr755.spl~ ~override/%mepr755%.spl~
	SAY NAME1 @31755
	SAY UNIDENTIFIED_DESC @32755

COPY_EXISTING ~mepr756.spl~ ~override~
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	SAY NAME1 @31756
	SAY UNIDENTIFIED_DESC @32756

COPY_EXISTING ~mepr756d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=protectionfromspell match_parameter1=30037 parameter1=RESOLVE_STR_REF(@30037) END
	SAY NAME1 @31756
	SAY UNIDENTIFIED_DESC @32756

COPY_EXISTING_REGEXP ~.*\.are~ ~override~
	READ_LONG 0x14 theareaflags
	theareaflags|=0x10
	WRITE_LONG 0x14 theareaflags
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~baldur.bcs~ ~override~ ~baldur25.bcs~ ~override~ ~bdbaldur.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY ~!InParty(Player1)~ ~!InParty(Player1)
!CheckSpellState(Player1,FAVORED_OF_THE_SPIRITS)~
	END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~lucl0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR756~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR756~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lucr0.2da~ ~override~ ~luct0.2da~ ~override~ ~lufc0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR756~ min_lev=~16~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR756~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~3~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR756~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR756~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR7~ RET mepr757=filename END
COPY_EXISTING ~mepr757.spl~ ~override/%mepr757%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr757~ resource= EVAL ~%mepr757%~ END
	SAY NAME1 @31757
	SAY UNIDENTIFIED_DESC @32757

COPY_EXISTING ~lupa0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEHA150~ min_lev=~1~ max_lev=~99~ num_allowed=~20~ END
	IF_EXISTS
	UNLESS ~GA_MEHA150~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~6~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEHA150~ min_lev=~1~ max_lev=~99~ num_allowed=~20~ END
								IF_EXISTS
								UNLESS ~GA_MEHA150~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mehl043.spl~ ~override~
	SAY NAME1 @30047
	SAY UNIDENTIFIED_DESC @30048

COPY_EXISTING ~luba0.2da~ ~override~ ~luct0.2da~ ~override~ ~lufmt.2da~ ~override~ ~luft0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~AP_MEHL043~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~AP_MEHL043~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~5~) OR (~%theclass%~ STRING_EQUAL_CASE ~9~) OR (~%theclass%~ STRING_EQUAL_CASE ~10~) OR (~%theclass%~ STRING_EQUAL_CASE ~15~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~AP_MEHL043~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~AP_MEHL043~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mehl044.spl~ ~override~
	SAY NAME1 @30049
	SAY UNIDENTIFIED_DESC @30050

COPY_EXISTING ~luba0.2da~ ~override~ ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~AP_MEHL044~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~AP_MEHL044~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~5~) OR (~%theclass%~ STRING_EQUAL_CASE ~7~) OR (~%theclass%~ STRING_EQUAL_CASE ~10~) OR (~%theclass%~ STRING_EQUAL_CASE ~13~) OR (~%theclass%~ STRING_EQUAL_CASE ~14~) OR (~%theclass%~ STRING_EQUAL_CASE ~17~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~AP_MEHL044~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~AP_MEHL044~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mepr758.spl~ ~override~
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	SAY NAME1 @31758
	SAY UNIDENTIFIED_DESC @32758

COPY_EXISTING ~lucl0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR758~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR758~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lucr0.2da~ ~override~ ~luct0.2da~ ~override~ ~lufc0.2da~ ~override~ ~lufmc.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR758~ min_lev=~16~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR758~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~3~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR758~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR758~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mepr759.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi855 END
	SAY NAME1 @31759
	SAY UNIDENTIFIED_DESC @32759

LAF ADD_CLASS_SPELL STR_VAR resref=~MEPR759~ class_include=~{21}~ END
/*
COPY_EXISTING ~lush0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR759~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR759~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~21~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR759~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR759~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR7~ RET mepr760=filename END
COPY_EXISTING ~mepr760.spl~ ~override/%mepr760%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mepr760~ resource= EVAL ~%mepr760%~ END
	SAY NAME1 @31760
	SAY UNIDENTIFIED_DESC @32760

COPY_EXISTING ~mepr761.spl~ ~override~
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	SAY NAME1 @31761
	SAY UNIDENTIFIED_DESC @32761

COPY_EXISTING ~ludr0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR761~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR761~

COPY_EXISTING ~lufd0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR761~ min_lev=~16~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR761~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~11~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR761~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR761~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~missile.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	meteorswarmrow = newrow
	FOR (i = 1; i <= 50; ++i) BEGIN
 		INSERT_2DA_ROW numrows 2 ~%newrow% New Meteor Swarm %i%~
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~projectl.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	FOR (i = 1; i <= 50; ++i) BEGIN
		INSERT_2DA_ROW numrows 2 ~%newrow% memswa%i%~
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~memswarx.pro~ ~override~
	READ_SHORT 0x200 theareaflags
	theareaflags&=0xFEFF
	WRITE_SHORT 0x200 theareaflags

OUTER_FOR (i = 1; i <= 50; ++i) BEGIN
	COPY_EXISTING ~memswarx.pro~ ~override/memswa%i%.pro~
		WRITE_BYTE 0x216 i
END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR7~ RET mepr762=filename END
COPY_EXISTING ~mepr762.spl~ ~override/%mepr762%.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	startrow = meteorswarmrow
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i projectile=startrow END
		startrow = startrow + 1
	END
	SAY NAME1 @31762
	SAY UNIDENTIFIED_DESC @32762

COPY_EXISTING ~mepr762d.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meelyst END

COPY_EXISTING ~missile.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	startrow = newrow
	FOR (i = 1; i <= 5; ++i) BEGIN
 		INSERT_2DA_ROW numrows 2 ~%newrow% True Living Lightning %i%~
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~projectl.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	FOR (i = 1; i <= 5; ++i) BEGIN
		INSERT_2DA_ROW numrows 2 ~%newrow% meligl%i%~
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~meligl1.pro~ ~override~
	WRITE_SHORT 0x21A meslight

OUTER_FOR (i = 2; i <= 5; ++i) BEGIN
	COPY_EXISTING ~meligl1.pro~ ~override/meligl%i%.pro~
		WRITE_SHORT 0x202 i
		WRITE_SHORT 0x224 (360 / i)
END

COPY_EXISTING ~mepr763.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 5; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=((i * 10) + 10) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i projectile=startrow END
		startrow = startrow + 1
	END
	SAY NAME1 @31763
	SAY UNIDENTIFIED_DESC @32763

COPY_EXISTING ~ludr0.2da~ ~override~ ~lush0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR763~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR763~

COPY_EXISTING ~lufd0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR763~ min_lev=~16~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR763~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~11~) OR (~%theclass%~ STRING_EQUAL_CASE ~21~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR763~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR763~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mepr764.spl~ ~override~
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=metornad END
	SAY NAME1 @31764
	SAY UNIDENTIFIED_DESC @32764

COPY_EXISTING ~ludr0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR764~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR764~

COPY_EXISTING ~lufd0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR764~ min_lev=~16~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR764~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~11~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR764~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR764~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mepr765.spl~ ~override~
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	SAY NAME1 @31765
	SAY UNIDENTIFIED_DESC @32765

COPY_EXISTING ~mepr765e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=protectionfromspell parameter1=RESOLVE_STR_REF(@30116) STR_VAR match_resource=~MEPR765~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@30117) STR_VAR match_resource=~MEPR765~ END
	SAY NAME1 @30118
	SAY UNIDENTIFIED_DESC @30119

EXTEND_BOTTOM ~baldur.bcs~ ~override/mespipol.bcs~

COPY_EXISTING ~mepr766.spl~ ~override~
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	SAY NAME1 @31766
	SAY UNIDENTIFIED_DESC @32766

COPY_EXISTING ~mepr766.spl~ ~override~ ~mepr766d.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meinar15 END

COPY_EXISTING ~lucl0.2da~ ~override~ ~lush0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR766~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR766~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lucr0.2da~ ~override~ ~luct0.2da~ ~override~ ~lufc0.2da~ ~override~ ~lufmc.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEPR766~ min_lev=~16~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEPR766~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~3~) OR (~%theclass%~ STRING_EQUAL_CASE ~21~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEPR766~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEPR766~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi151=filename END
COPY_EXISTING ~mewi151.spl~ ~override/%mewi151%.spl~
	SAY NAME1 @33151
	SAY UNIDENTIFIED_DESC @34151

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi152=filename END
COPY_EXISTING ~mewi152.spl~ ~override/%mewi152%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi152~ resource= EVAL ~%mewi152%~ END
	SAY NAME1 @33152
	SAY UNIDENTIFIED_DESC @34152

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi153=filename END
COPY_EXISTING ~mewi153.spl~ ~override/%mewi153%.spl~
	SAY NAME1 @33153
	SAY UNIDENTIFIED_DESC @34153

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi154=filename END
COPY_EXISTING ~mewi154.spl~ ~override/%mewi154%.spl~
	SAY NAME1 @33154
	SAY UNIDENTIFIED_DESC @34154

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi155=filename END
COPY_EXISTING ~spwi402.spl~ ~override/%mewi155%.spl~
	READ_LONG 0x18 thespellflags
	thespellflags|=0x800
	WRITE_LONG 0x18 thespellflags
	WRITE_LONG spelllevel 1
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_power=4 power=1 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~spwi402~ resource= EVAL ~%mewi155%~ END
	SAY NAME1 @33155
	SAY UNIDENTIFIED_DESC @34155

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi156=filename END
COPY_EXISTING ~mewi156.spl~ ~override/%mewi156%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi156~ resource= EVAL ~%mewi156%~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@30024) END
	SAY NAME1 @33156
	SAY UNIDENTIFIED_DESC @34156

COPY_EXISTING ~mejmps01.spl~ ~override~ ~mejmps05.spl~ ~override~ ~mejmps10.spl~ ~override~ ~mejmps15.spl~ ~override~ ~mejmps20.spl~ ~override~ ~mejmps25.spl~ ~override~ ~mejmps30.spl~ ~override~
	SAY NAME1 @30025
	SAY UNIDENTIFIED_DESC @30026

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi157=filename END
COPY_EXISTING ~mewi157.spl~ ~override/%mewi157%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi157 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi157~ resource= EVAL ~%mewi157%~ END
	SAY NAME1 @33157
	SAY UNIDENTIFIED_DESC @34157

COPY_EXISTING ~sppr307.spl~ ~override~ ~spwi410.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource= EVAL ~%mewi157%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi158=filename END
COPY_EXISTING ~mewi158.spl~ ~override/%mewi158%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi158 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi158~ resource= EVAL ~%mewi158%~ END
	SAY NAME1 @33158
	SAY UNIDENTIFIED_DESC @34158

LAF EXCLUDE_SPELL_FROM_CONTINGENCY STR_VAR resource= EVAL ~%mewi158%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi159=filename END
COPY_EXISTING ~mewi159.spl~ ~override/%mewi159%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi159~ resource= EVAL ~%mewi159%~ END
	SAY NAME1 @33159
	SAY UNIDENTIFIED_DESC @34159

COPY_EXISTING ~mewi159d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi159~ resource= EVAL ~%mewi159%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi160=filename END
COPY_EXISTING ~mewi160.spl~ ~override/%mewi160%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi160~ resource= EVAL ~%mewi160%~ END
	SAY NAME1 @33160
	SAY UNIDENTIFIED_DESC @34160

COPY_EXISTING ~medimche.cre~ ~override~
	SAY NAME1 @33160
	SAY NAME2 @33160

COMPILE ~override/medimche.d~

COPY_EXISTING ~medimche.sto~ ~override~
	SAY NAME2 @33160

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi251=filename END
COPY_EXISTING ~mewi251.spl~ ~override/%mewi251%.spl~
	SAY NAME1 @33251
	SAY UNIDENTIFIED_DESC @34251

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi252=filename END
COPY_EXISTING ~mewi252.spl~ ~override/%mewi252%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi559 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi252~ resource= EVAL ~%mewi252%~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=2500 parameter2=splprot_meinflight END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter2=splprot_areaisanoteleportzone special=RESOLVE_STR_REF(@30030) STR_VAR resource = EVAL ~%mewi252%~ END
	SAY NAME1 @33252
	SAY UNIDENTIFIED_DESC @34252
/*
COPY_EXISTING ~ar0900.are~ ~override~ ~ar2600.are~ ~override~ ~ar2626.are~ ~override~
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Prevent Ghostwalking~ fj_reg_script=~MENOTEL~ END
*/
LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi253=filename END
COPY_EXISTING ~mewi253.spl~ ~override/%mewi253%.spl~
	SAY NAME1 @33253
	SAY UNIDENTIFIED_DESC @34253

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi254=filename END
COPY_EXISTING ~mewi254.spl~ ~override/%mewi254%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi254~ resource= EVAL ~%mewi254%~ END
	SAY NAME1 @33254
	SAY UNIDENTIFIED_DESC @34254

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi255=filename END
COPY_EXISTING ~mewi255.spl~ ~override/%mewi255%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi255 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi255~ resource= EVAL ~%mewi255%~ END
	SAY NAME1 @33255
	SAY UNIDENTIFIED_DESC @34255

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi256=filename END
COPY_EXISTING ~mewi256.spl~ ~override/%mewi256%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi256~ resource= EVAL ~%mewi256%~ END
	SAY NAME1 @33256
	SAY UNIDENTIFIED_DESC @34256

COPY_EXISTING ~mewi256f.spl~ ~override~
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x90 numeffects
	FOR (i = 0; i < numeffects; ++i) BEGIN
		me_off = effectsoffset + (i * 0x30)
		READ_SHORT me_off theopcode
		READ_ASCII (me_off + 0x14) theresource
		PATCH_IF theopcode = 402 AND (~%theresource%~ STRING_EQUAL_CASE ~MESPLIM1~) BEGIN
			WRITE_ASCIIE (me_off + 0x4) ~%mewi256%~ #8
		END
	END

OUTER_SPRINT me_30012 @30012
OUTER_SPRINT me_30013 @30013
LAF ADD_CONTINGENCY INT_VAR new_title=0 new_action=1 description=RESOLVE_STR_REF(@34256) STR_VAR resource= EVAL ~mesplim1~ title=~ME_SPECIFIC_IMMUNITY_TITLE~ title_name= EVAL ~%me_30012%~ action=~ME_ADD_SPELLS_IMMUNITY_LABEL~ action_name= EVAL ~%me_30013%~ END
LAF ADD_CONTINGENCY INT_VAR new_title=0 description=RESOLVE_STR_REF(@34256) STR_VAR resource= EVAL ~mesplim2~ title=~ME_SPECIFIC_IMMUNITY_TITLE~ title_name= EVAL ~%me_30012%~ action=~ME_ADD_SPELLS_IMMUNITY_LABEL~ END
LAF ADD_CONTINGENCY INT_VAR new_title=0 description=RESOLVE_STR_REF(@34256) STR_VAR resource= EVAL ~mesplim3~ title=~ME_SPECIFIC_IMMUNITY_TITLE~ title_name= EVAL ~%me_30012%~ action=~ME_ADD_SPELLS_IMMUNITY_LABEL~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi257=filename END
COPY_EXISTING ~mewi257.spl~ ~override/%mewi257%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi257~ resource= EVAL ~%mewi257%~ END
	SAY NAME1 @33257
	SAY UNIDENTIFIED_DESC @34257

COPY_EXISTING ~%mewi257%.spl~ ~override~ ~mewi257d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi257 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 7) * 3) END
//		LPF ALTER_EFFECT INT_VAR header=i match_opcode=eeexsetextendedstat match_special=640 parameter1=(i + 21) END
		numheaders = numheaders + 1
	END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi258=filename END
COPY_EXISTING ~mewi258.spl~ ~override/%mewi258%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi258~ resource= EVAL ~%mewi258%~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 opcode=403 parameter1=1 parameter2=9 savingthrow=0x6C0000 special=1 STR_VAR match_resource=~mewi258b~ resource=~EXSPLDEF~ END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=403 opcode=198 parameter1=0 parameter2=121 savingthrow=0 special=0 END
	LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=spellturning END
	SAY NAME1 @33258
	SAY UNIDENTIFIED_DESC @34258

COPY_EXISTING ~mewi258b.spl~ ~override/%mewi258%f.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi258~ resource= EVAL ~%mewi258%~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi258b~ resource= EVAL ~%mewi258%f~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi259=filename END
COPY_EXISTING ~mewi259.spl~ ~override/%mewi259%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi259 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi259~ resource= EVAL ~%mewi259%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 60) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33259
	SAY UNIDENTIFIED_DESC @34259

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI2~ RET mewi260=filename END
COPY_EXISTING ~mewi260.spl~ ~override/%mewi260%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi260~ resource= EVAL ~%mewi260%~ END
	SAY NAME1 @33260
	SAY UNIDENTIFIED_DESC @34260

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi351=filename END
COPY_EXISTING ~mewi351.spl~ ~override/%mewi351%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi351~ resource= EVAL ~%mewi351%~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 opcode=403 parameter1=1 parameter2=9 savingthrow=0xAC0000 special=1 STR_VAR match_resource=~mewi351b~ resource=~EXSPLDEF~ END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=403 opcode=205 parameter1=0 parameter2=121 savingthrow=0 special=0 END
	LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=spelltrap END
	SAY NAME1 @33351
	SAY UNIDENTIFIED_DESC @34351

COPY_EXISTING ~mewi351b.spl~ ~override/%mewi351%f.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi351~ resource= EVAL ~%mewi351%~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi351b~ resource= EVAL ~%mewi351%f~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi352=filename END
COPY_EXISTING ~mewi352.spl~ ~override/%mewi352%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi352~ resource= EVAL ~%mewi352%~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter2=splprot_areaisanoteleportzone special=RESOLVE_STR_REF(@30030) STR_VAR resource = EVAL ~%mewi352%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_EFFECT INT_VAR header=i match_opcode=eeexinvokelua special=(i + 1) STR_VAR match_resource=~MESELFSP~ END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33352
	SAY UNIDENTIFIED_DESC @34352

COPY_EXISTING ~mewi352d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi352 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=2500 parameter2=splprot_meinflight END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 11) * 6) END
		LPF ALTER_EFFECT INT_VAR header=i match_opcode=eeexsetextendedstat match_special=640 parameter1=(i + 21) END
		numheaders = numheaders + 1
	END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi353=filename END
COPY_EXISTING ~mewi353.spl~ ~override/%mewi353%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi353 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi353~ resource= EVAL ~%mewi353%~ END
	SAY NAME1 @33353
	SAY UNIDENTIFIED_DESC @34353

COPY_EXISTING ~%mewi353%.spl~ ~override~ ~mewi353d.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi354=filename END
COPY_EXISTING ~mewi354.spl~ ~override/%mewi354%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi354~ resource= EVAL ~%mewi354%~ END
	SAY NAME1 @33354
	SAY UNIDENTIFIED_DESC @34354

COPY_EXISTING ~mewi355.spl~ ~override~
	SAY NAME1 @33355
	SAY UNIDENTIFIED_DESC @34355

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi356=filename END
COPY_EXISTING ~mewi356.spl~ ~override/%mewi356%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi356~ resource= EVAL ~%mewi356%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33356
	SAY UNIDENTIFIED_DESC @34356

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi357=filename END
COPY_EXISTING ~mewi357.spl~ ~override/%mewi357%.spl~
	SAY NAME1 @33357
	SAY UNIDENTIFIED_DESC @34357

COPY_EXISTING ~mewi357e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi357~ resource= EVAL ~%mewi357%~ END

OUTER_SPRINT me_33357 @33357
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34357) STR_VAR resource= EVAL ~%mewi357%~ title=~ME_GLYPH_STORING_TITLE~ title_name= EVAL ~%me_33357%~ action=~ADD_SPELLS_SEQUENCER_LABEL~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi358=filename END
COPY_EXISTING ~mewi358.spl~ ~override/%mewi358%.spl~
	SAY NAME1 @33358
	SAY UNIDENTIFIED_DESC @34358

OUTER_SPRINT me_30043 @30043
OUTER_SPRINT me_33358 @33358
LAF ADD_CONTINGENCY INT_VAR new_title=0 description=RESOLVE_STR_REF(@34358) STR_VAR resource= EVAL ~%mewi358%~ title=~ME_FAMILIAR_SPELL_TITLE~ action=~ME_ADD_SPELLS_FAMILIAR_LABEL~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi359=filename END
COPY_EXISTING ~mewi359.spl~ ~override/%mewi359%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi359~ resource= EVAL ~%mewi359%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_EFFECT INT_VAR header=i match_savingthrow=0 match_special=1 parameter1=(i / 2 * 3 + 27) STR_VAR match_resource=~MEHGTST~ END
		LPF ALTER_EFFECT INT_VAR header=i match_savingthrow=16 match_special=1 parameter1=((i + 1) / 2 * 3) STR_VAR match_resource=~MEHGTST~ END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33359
	SAY UNIDENTIFIED_DESC @34359

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI3~ RET mewi360=filename END
COPY_EXISTING ~mewi360.spl~ ~override/%mewi360%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi360 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi360~ resource= EVAL ~%mewi360%~ END
	SAY NAME1 @33360
	SAY UNIDENTIFIED_DESC @34360

COPY_EXISTING ~mewi361.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meconegr END
	SAY NAME1 @33361
	SAY UNIDENTIFIED_DESC @34361

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi451=filename END
COPY_EXISTING ~mewi451.spl~ ~override/%mewi451%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mewofire END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi451~ resource= EVAL ~%mewi451%~ END
	SAY NAME1 @33451
	SAY UNIDENTIFIED_DESC @34451

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi452=filename END
COPY_EXISTING ~mewi452.spl~ ~override/%mewi452%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi452~ resource= EVAL ~%mewi452%~ END
	SAY NAME1 @33452
	SAY UNIDENTIFIED_DESC @34452

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi453=filename END
COPY_EXISTING ~mewi453.spl~ ~override/%mewi453%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi453 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi453~ resource= EVAL ~%mewi453%~ END
	SAY NAME1 @33453
	SAY UNIDENTIFIED_DESC @34453

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi454=filename END
COPY_EXISTING ~mewi454.spl~ ~override/%mewi454%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi454~ resource= EVAL ~%mewi454%~ END
	SAY NAME1 @33454
	SAY UNIDENTIFIED_DESC @34454

COPY_EXISTING ~mewi454e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi454~ resource= EVAL ~%mewi454%~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=250 parameter2=splprot_backstabmultiplierlessthan END

COPY_EXISTING ~mewi454f.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=750 parameter2=splprot_backstabmultipliergreaterthanorequalto END

OUTER_SPRINT me_30023 @30023
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34454) STR_VAR resource= EVAL ~%mewi454%~ title=~ME_BACKSTAB_SEQUENCER_TITLE~ title_name= EVAL ~%me_30023%~ action=~ADD_SPELLS_SEQUENCER_LABEL~ END

/*
COPY_EXISTING ~HighPower/New_Spells/meteleportotherbg1.2da~ ~override~
	FOR (i = 0; i < 100; ++i) BEGIN
		READ_2DA_ENTRY i 1 4 thearea
		READ_2DA_ENTRY i 2 4 thexcoord
		READ_2DA_ENTRY i 3 4 theycoord
		INNER_ACTION BEGIN
			COPY_EXISTING ~metobg00.eff~ ~override/metobg%i%.eff~
				WRITE_ASCIIE 0x30 ~%thearea%~ #8
				WRITE_LONG 0x80 thexcoord
				WRITE_LONG 0x84 theycoord
				WRITE_LONG 0x88 thexcoord
				WRITE_LONG 0x8C theycoord

			COPY_EXISTING ~metelobg.spl~ ~override~
				LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 parameter1=eaanyone parameter2=idsea probability1=i probability2=i STR_VAR resource= EVAL ~metobg%i%~ END
		END
	END
*/
LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi455=filename END
COPY_EXISTING ~mewi455.spl~ ~override/%mewi455%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi455~ resource= EVAL ~%mewi455%~ END
	SAY NAME1 @33455
	SAY UNIDENTIFIED_DESC @34455

LAF EXCLUDE_SPELL_FROM_CONTINGENCY STR_VAR resource= EVAL ~%mewi455%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi456=filename END
COPY_EXISTING ~mewi456.spl~ ~override/%mewi456%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi456~ resource= EVAL ~%mewi456%~ END
	SAY NAME1 @33456
	SAY UNIDENTIFIED_DESC @34456

LAF EXCLUDE_SPELL_FROM_CONTINGENCY STR_VAR resource= EVAL ~%mewi456%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi457=filename END
COPY_EXISTING ~mewi457.spl~ ~override/%mewi457%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi457~ resource= EVAL ~%mewi457%~ END
	SAY NAME1 @33457
	SAY UNIDENTIFIED_DESC @34457

LAF EXCLUDE_SPELL_FROM_CONTINGENCY STR_VAR resource= EVAL ~%mewi457%~ END

COPY_EXISTING ~meportl1.spl~ ~override~ ~meportl2.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meportl END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi458=filename END
COPY_EXISTING ~mewi458.spl~ ~override/%mewi458%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi458~ resource= EVAL ~%mewi458%~ END
	SAY NAME1 @33458
	SAY UNIDENTIFIED_DESC @34458

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI4~ RET mewi459=filename END
COPY_EXISTING ~mewi459.spl~ ~override/%mewi459%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi459~ resource= EVAL ~%mewi459%~ END
	SAY NAME1 @33459
	SAY UNIDENTIFIED_DESC @34459

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi551=filename END
COPY_EXISTING ~mewi551.spl~ ~override/%mewi551%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi551~ resource= EVAL ~%mewi551%~ END
	SAY NAME1 @33551
	SAY UNIDENTIFIED_DESC @34551

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi552=filename END
COPY_EXISTING ~mewi552.spl~ ~override/%mewi552%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi552~ resource= EVAL ~%mewi552%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_EFFECT INT_VAR header=i match_opcode=402 parameter1=((i + 1) / 3) STR_VAR match_resource=~MESTEALS~ END
		numheaders = numheaders + 1
	END
	LPF ALTER_EFFECT INT_VAR header=0 match_opcode=402 parameter1=1 STR_VAR match_resource=~MESTEALS~ END
	LPF ALTER_EFFECT INT_VAR header=1 match_opcode=402 parameter1=1 STR_VAR match_resource=~MESTEALS~ END
	SAY NAME1 @33552
	SAY UNIDENTIFIED_DESC @34552

COPY_EXISTING ~hidespl.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns = 3 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~%mewi552%    1          0~
	END ELSE PATCH_IF numcolumns = 4 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~%mewi552%    1          0          0~
	END

COPY_EXISTING ~missile.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	startrow = newrow + 8
	FOR (i = 1; i <= 30; ++i) BEGIN
 		INSERT_2DA_ROW numrows 2 ~%newrow% Ball Lightning %i%~
		INNER_ACTION BEGIN
			COPY_EXISTING ~m_mestr1.lua~ ~override~
				REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_lightning_projectiles = {~ ~me_lightning_projectiles = {[%newrow%] = true, ~
		END
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~projectl.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	INSERT_2DA_ROW numrows 2 ~%newrow% meballi~
	numrows = numrows + 1
	newrow = newrow + 1
	FOR (i = 2; i <= 30; ++i) BEGIN
		INSERT_2DA_ROW numrows 2 ~%newrow% meballi2~
		numrows = numrows + 1
		newrow = newrow + 1
	END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi554=filename END
COPY_EXISTING ~mewi554.spl~ ~override/%mewi554%.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i projectile=startrow END
		startrow = startrow + 1
	END
	SAY NAME1 @33554
	SAY UNIDENTIFIED_DESC @34554

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi555=filename END
COPY_EXISTING ~mewi555.spl~ ~override/%mewi555%.spl~
	SAY NAME1 @33555
	SAY UNIDENTIFIED_DESC @34555

COPY_EXISTING ~mewi555d.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
		LPF ADD_SPELL_EFFECT INT_VAR header=(i + 1) power=5 opcode=projectimage target=1 timing=0 duration=6 parameter2=1 resist_dispel=3 END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 4) * 6) END
	END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource= EVAL ~%mewi555%~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeinvisibility1 target=1 timing=1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeinvisibility2 target=1 timing=1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeinvisibility1 target=1 timing=4 duration=1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeinvisibility2 target=1 timing=4 duration=1 END

COPY_EXISTING ~mislead.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=applyeffectslist target=1 timing=1 parameter1=69 parameter2=110 STR_VAR resource= EVAL ~mewi555i~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi556=filename END
COPY_EXISTING ~mewi556.spl~ ~override/%mewi556%.spl~
	SAY NAME1 @33556
	SAY UNIDENTIFIED_DESC @34556

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi557=filename END
COPY_EXISTING ~mewi557.spl~ ~override/%mewi557%.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33557
	SAY UNIDENTIFIED_DESC @34557

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi558=filename END
COPY_EXISTING ~mewi558.spl~ ~override/%mewi558%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi558~ resource= EVAL ~%mewi558%~ END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mepatien END
	SAY NAME1 @33558
	SAY UNIDENTIFIED_DESC @34558

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi559=filename END
COPY_EXISTING ~mewi559.spl~ ~override/%mewi559%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi559 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi559~ resource= EVAL ~%mewi559%~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=2500 parameter2=splprot_meinflight END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=1 timing=0 duration=1 parameter2=splprot_areaisanoteleportzone special=RESOLVE_STR_REF(@30030) STR_VAR resource = EVAL ~%mewi559%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 7) * 3) END
//		LPF ALTER_EFFECT INT_VAR header=i match_opcode=eeexsetextendedstat match_special=640 parameter1=(i + 21) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33559
	SAY UNIDENTIFIED_DESC @34559

COPY_EXISTING ~mewi559d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi559~ resource= EVAL ~%mewi559%~ END

COPY_EXISTING ~mewi559d.eff~ ~override~
	WRITE_LONG effparameter1 0
	WRITE_LONG effparameter2 splprot_meflyingspeedequalto

COPY_EXISTING ~meethreo.eff~ ~override~
	WRITE_LONG effparameter1 0
	WRITE_LONG effparameter2 splprot_meflyingspeedequalto

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi560=filename END
COPY_EXISTING ~mewi560.spl~ ~override/%mewi560%.spl~
	SAY NAME1 @33560
	SAY UNIDENTIFIED_DESC @34560

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi561=filename END
COPY_EXISTING ~mewi561.spl~ ~override/%mewi561%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi561~ resource= EVAL ~%mewi561%~ END
	SAY NAME1 @33561
	SAY UNIDENTIFIED_DESC @34561

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi563=filename END
COPY_EXISTING ~mewi563.spl~ ~override/%mewi563%.spl~
	SAY NAME1 @33563
	SAY UNIDENTIFIED_DESC @34563

COPY_EXISTING ~mewi563d.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell opcode=protectionfromspell2 parameter2=splprot_canhavemultiplesimulacra special=0 STR_VAR match_resource=~mewi563~ insert=~above~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi563~ resource= EVAL ~%mewi563%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi564=filename END
COPY_EXISTING ~mewi564.spl~ ~override/%mewi564%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi564~ resource= EVAL ~%mewi564%~ END
	SAY NAME1 @33564
	SAY UNIDENTIFIED_DESC @34564

COPY_EXISTING ~instant.ids~ ~override~
	REPLACE_TEXTUALLY ~327~ ~323 CreateCreatureImpassableAllowOverlap(S:NewObject*,P:Location*,I:Face*DIR)
323 CreateCreatureImpassableAllowOverlapEffect(S:NewObject*,S:Effect*,P:Location*,I:Face*DIR)
327~
	UNLESS ~323~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi562=filename END
COPY_EXISTING ~mewi562.spl~ ~override/%mewi562%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi562 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi562~ resource= EVAL ~%mewi562%~ END
	SAY NAME1 @33562
	SAY UNIDENTIFIED_DESC @34562

COPY_EXISTING ~mewi562e.spl~ ~override~
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x90 numeffects
	FOR (i = 0; i < numeffects; ++i) BEGIN
		me_off = effectsoffset + (i * 0x30)
		READ_SHORT me_off theopcode
		READ_ASCII (me_off + 0x14) theresource
		PATCH_IF theopcode = 402 AND (~%theresource%~ STRING_EQUAL_CASE ~MECRTSPL~) BEGIN
			WRITE_ASCIIE (me_off + 0x4) ~%mewi562%~ #8
		END
	END

OUTER_SPRINT me_30076 @30076
OUTER_SPRINT me_33562 @33562
LAF ADD_CONTINGENCY INT_VAR new_title=0 description=RESOLVE_STR_REF(@34562) STR_VAR resource= EVAL ~%mewi562%~ title=~ME_CRITICAL_SPELL_TITLE~ action=~ME_CRITICAL_SPELL_LABEL~ END

COPY_EXISTING ~m_mealtc.lua~ ~override~
	ref_30068 = RESOLVE_STR_REF(@30068)
	ref_30069 = RESOLVE_STR_REF(@30069)
	ref_30070 = RESOLVE_STR_REF(@30070)
	ref_30071 = RESOLVE_STR_REF(@30071)
	ref_30072 = RESOLVE_STR_REF(@30072)
	ref_30073 = RESOLVE_STR_REF(@30073)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_alt_contingency = {~ ~me_alt_contingency = {
['%mewi562%'] = {['conditions'] = {{['strref'] = %ref_30068%, ['desc'] = %ref_30069%}}, ['targets'] = {{['strref'] = %ref_30070%, ['desc'] = %ref_30071%}, {['strref'] = %ref_30072%, ['desc'] = %ref_30073%}},},~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi565=filename END
COPY_EXISTING ~mewi565.spl~ ~override/%mewi565%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi565~ resource= EVAL ~%mewi565%~ END
	SAY NAME1 @33565
	SAY UNIDENTIFIED_DESC @34565

COPY_EXISTING ~mewi565d.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mesacrif END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi566=filename END
COPY_EXISTING ~mewi566.spl~ ~override/%mewi566%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi566~ resource= EVAL ~%mewi566%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) duration_high=((i + 1) * 6) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=((i + 3) * 6) END
	END
	SAY NAME1 @33566
	SAY UNIDENTIFIED_DESC @34566

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi567=filename END
COPY_EXISTING ~mewi567.spl~ ~override~
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi567~ resource= EVAL ~%mewi567%~ END
	SAY NAME1 @33567
	SAY UNIDENTIFIED_DESC @34567

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI5~ RET mewi568=filename END
COPY_EXISTING ~mewi568.spl~ ~override/%mewi568%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi568~ resource= EVAL ~%mewi568%~ END
	SAY NAME1 @33568
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~mewi568.2da~ ~override/%mewi568%.2da~

COPY_EXISTING ~metelc1.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash|=0x80000000
	WRITE_LONG 0x18 ulgiash
	SAY NAME1 @30171
	SAY NAME2 @30121
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~metelc2.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash|=0x80000000
	WRITE_LONG 0x18 ulgiash
	SAY NAME1 @30172
	SAY NAME2 @30122
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~metelc3.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash|=0x80000000
	WRITE_LONG 0x18 ulgiash
	SAY NAME1 @30173
	SAY NAME2 @30123
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~metelc4.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash|=0x80000000
	WRITE_LONG 0x18 ulgiash
	SAY NAME1 @30174
	SAY NAME2 @30124
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~metelc5.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash|=0x80000000
	WRITE_LONG 0x18 ulgiash
	SAY NAME1 @30175
	SAY NAME2 @30125
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~metelc6.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash|=0x80000000
	WRITE_LONG 0x18 ulgiash
	SAY NAME1 @30176
	SAY NAME2 @30126
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~metelc7.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash|=0x80000000
	WRITE_LONG 0x18 ulgiash
	SAY NAME1 @30177
	SAY NAME2 @30127
	SAY UNIDENTIFIED_DESC @34568

COPY_EXISTING ~metelci1.cre~ ~override~
	WRITE_LONG animation slotteleportcircledecimal
	SAY NAME1 @30121
	SAY NAME2 @30121

COPY_EXISTING ~metelci2.cre~ ~override~
	WRITE_LONG animation slotteleportcircledecimal
	SAY NAME1 @30122
	SAY NAME2 @30122

COPY_EXISTING ~metelci3.cre~ ~override~
	WRITE_LONG animation slotteleportcircledecimal
	SAY NAME1 @30123
	SAY NAME2 @30123

COPY_EXISTING ~metelci4.cre~ ~override~
	WRITE_LONG animation slotteleportcircledecimal
	SAY NAME1 @30124
	SAY NAME2 @30124

COPY_EXISTING ~metelci5.cre~ ~override~
	WRITE_LONG animation slotteleportcircledecimal
	SAY NAME1 @30125
	SAY NAME2 @30125

COPY_EXISTING ~metelci6.cre~ ~override~
	WRITE_LONG animation slotteleportcircledecimal
	SAY NAME1 @30126
	SAY NAME2 @30126

COPY_EXISTING ~metelci7.cre~ ~override~
	WRITE_LONG animation slotteleportcircledecimal
	SAY NAME1 @30127
	SAY NAME2 @30127

COMPILE ~override/metelcir.d~

COPY_EXISTING ~metelcir.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE ~30133~ @30133
	END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi651=filename END
COPY_EXISTING ~mewi651.spl~ ~override/%mewi651%.spl~
//	LPF ALTER_SPELL_HEADER INT_VAR projectile=memissto END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=castspell opcode=eeexinvokelua target=2 timing=0 duration=0 parameter1=0x4957454D parameter2=0x44313536 savingthrow=0x700000 special=256 STR_VAR match_resource=~MEWI651D~ resource=~MERANDSP~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
//		LPF ADD_SPELL_EFFECT INT_VAR header=(i + 1) opcode=castspell target=2 timing=1 parameter2=1 resist_dispel=2 STR_VAR resource=~MEWI651D~ END
		LPF ADD_SPELL_EFFECT INT_VAR header=(i + 1) opcode=eeexinvokelua target=2 timing=0 parameter1=0x4957454D parameter2=0x44313536 savingthrow=0x700000 special=256 STR_VAR resource=~MERANDSP~ END
	END
	SAY NAME1 @33651
	SAY UNIDENTIFIED_DESC @30100

COPY_EXISTING ~mewi651d.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meranmis END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi652=filename END
COPY_EXISTING ~mewi652.spl~ ~override/%mewi652%.spl~
	SAY NAME1 @33652
	SAY UNIDENTIFIED_DESC @34652

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi653=filename END
COPY_EXISTING ~mewi653.spl~ ~override/%mewi653%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=2250 parameter2=splprot_isnotsleeping END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi653~ resource= EVAL ~%mewi653%~ END
	SAY NAME1 @33653
	SAY UNIDENTIFIED_DESC @34653

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi654=filename END
COPY_EXISTING ~mewi654.spl~ ~override/%mewi654%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi654 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi654~ resource= EVAL ~%mewi654%~ END
	SAY NAME1 @33654
	SAY UNIDENTIFIED_DESC @34654

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi655=filename END
COPY_EXISTING ~mewi655.spl~ ~override/%mewi655%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi655~ resource= EVAL ~%mewi655%~ END
	SAY NAME1 @33655
	SAY UNIDENTIFIED_DESC @34655

COPY_EXISTING ~mewi655e.spl~ ~override~
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x90 numeffects
	FOR (i = 0; i < numeffects; ++i) BEGIN
		me_off = effectsoffset + (i * 0x30)
		READ_SHORT me_off theopcode
		READ_ASCII (me_off + 0x14) theresource
		PATCH_IF theopcode = 402 AND (~%theresource%~ STRING_EQUAL_CASE ~MEKILLCN~) BEGIN
			WRITE_ASCIIE (me_off + 0x4) ~%mewi655%~ #8
		END
	END

OUTER_SPRINT me_30014 @30014
OUTER_SPRINT me_30015 @30015
LAF ADD_CONTINGENCY INT_VAR new_action=1 description=RESOLVE_STR_REF(@34655) STR_VAR resource= EVAL ~%mewi655%~ title=~ME_SLAYING_SEQUENCER_TITLE~ title_name= EVAL ~%me_30014%~ action=~ME_SLAYING_SEQUENCER_LABEL~ action_name= EVAL ~%me_30015%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi656=filename END
COPY_EXISTING ~mewi656.spl~ ~override/%mewi656%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi656~ resource= EVAL ~%mewi656%~ END
	LPF ALTER_EFFECT INT_VAR multi_match=1 match_opcode=immunitytospellandmessage match_parameter2=113 parameter2=splprot_nothumanoidorgianthumanoid END
	SAY NAME1 @33656
	SAY UNIDENTIFIED_DESC @34656

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi657=filename END
COPY_EXISTING ~mewi657.spl~ ~override/%mewi657%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=memindfo END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi657~ resource= EVAL ~%mewi657%~ END
	SAY NAME1 @33657
	SAY UNIDENTIFIED_DESC @34657

COPY_EXISTING ~mindflay.itm~ ~override~ ~plyjelly.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=RESOLVE_STR_REF(@30037) STR_VAR resource= EVAL ~%mewi657%~ END
	IF_EXISTS

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi658=filename END
COPY_EXISTING ~mewi658.spl~ ~override/%mewi658%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi658~ resource= EVAL ~%mewi658%~ END
	SAY NAME1 @33658
	SAY UNIDENTIFIED_DESC @34658

COPY_EXISTING ~mewi658d.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 25; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=((i + 1) * 2) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) check_headers=1 check_globals=0 match_opcode=modifydamage parameter1=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) check_headers=1 check_globals=0 match_opcode=modifythac0 parameter1=(i + 1) END
		numheaders = numheaders + 1
	END

COPY_EXISTING ~mewi659.spl~ ~override~
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
	SAY NAME1 @33659
	SAY UNIDENTIFIED_DESC @34659

COPY_EXISTING ~mewi659e.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) check_headers=1 check_globals=0 match_opcode=401 probability1=((i * 2) + 1) END
		numheaders = numheaders + 1
	END

OUTER_SPRINT me_33659 @33659
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34659) STR_VAR resource=~MEWI659~ title=~ME_BARDIC_SEQUENCER_TITLE~ title_name= EVAL ~%me_33659%~ action=~ADD_SPELLS_SEQUENCER_LABEL~ END

COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	READ_SHORT spelltype thespelltype
	PATCH_IF thespelltype = 5 BEGIN
		LPF CLONE_EFFECT INT_VAR silent=1 multi_match=1 check_headers=1 check_globals=0 match_target=3 opcode=402 parameter1=0x4957454D parameter2=0x393536 probability1=100 probability2=0 timing=0 duration=0 dicenumber=0 dicesize=0 special=0 STR_VAR resource=~MEBRDSEQ~ insert=~last~ END
	END
	UNLESS ~MEBRDSEQ~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	READ_SHORT spelltype thespelltype
	PATCH_IF thespelltype = 5 BEGIN
		LPF CLONE_EFFECT INT_VAR silent=1 multi_match=1 check_headers=1 check_globals=0 match_target=2 opcode=402 parameter1=0x4957454D parameter2=0x393536 probability1=100 probability2=0 timing=0 duration=0 dicenumber=0 dicesize=0 special=0 STR_VAR resource=~MEBRDSEQ~ insert=~last~ END
	END
	UNLESS ~MEBRDSEQ~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~luba0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI659~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI659~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		READ_2DA_ENTRY i 1 numcolumns theclassname
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~5~) AND !(~%theclassname%~ STRING_EQUAL_CASE ~C0WLOCK~) BEGIN
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI659~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI659~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI6~ RET mewi660=filename END
COPY_EXISTING ~mewi660.spl~ ~override/%mewi660%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mehole END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi660~ resource= EVAL ~%mewi660%~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=216 parameter2=splprot_minheightnotequalto END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=217 parameter2=splprot_minheightgreaterthanorequalto END
	SAY NAME1 @33660
	SAY UNIDENTIFIED_DESC @34660

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi751=filename END
COPY_EXISTING ~mewi751.spl~ ~override/%mewi751%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi751~ resource= EVAL ~%mewi751%~ END
	SAY NAME1 @33751
	SAY UNIDENTIFIED_DESC @34751

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi752=filename END
/*
COPY_EXISTING ~mewi752.spl~ ~override/%mewi752%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi752~ resource= EVAL ~%mewi752%~ END
	SAY NAME1 @33752
	SAY UNIDENTIFIED_DESC @34752

COPY_EXISTING ~mewi752e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi752~ resource= EVAL ~%mewi752%~ END

LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34752) STR_VAR resource= EVAL ~%mewi752%~ title=~ME_FAR_SEQUENCER_TITLE~ title_name=~Far Sequencer~ action=~ADD_SPELLS_SEQUENCER_LABEL~ END
*/
LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi753=filename END
COPY_EXISTING ~mewi753.spl~ ~override/%mewi753%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi753~ resource= EVAL ~%mewi753%~ END
	SAY NAME1 @33753
	SAY UNIDENTIFIED_DESC @34753

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi754=filename END
COPY_EXISTING ~mewi754.spl~ ~override/%mewi754%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi754~ resource= EVAL ~%mewi754%~ END
	SAY NAME1 @33754
	SAY UNIDENTIFIED_DESC @34754

COPY_EXISTING ~mewi754.eff~ ~override~
	SAY effparameter1 @30011

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi755=filename END
COPY_EXISTING ~mewi755.spl~ ~override/%mewi755%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi755~ resource= EVAL ~%mewi755%~ END
	SAY NAME1 @33755
	SAY UNIDENTIFIED_DESC @34755

COPY_EXISTING ~mewi755e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi755~ resource= EVAL ~%mewi755%~ END
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x90 numeffects
	FOR (i = 0; i < numeffects; ++i) BEGIN
		me_off = effectsoffset + (i * 0x30)
		READ_SHORT me_off theopcode
		READ_ASCII (me_off + 0x14) theresource
		PATCH_IF theopcode = 402 AND (~%theresource%~ STRING_EQUAL_CASE ~MEDEATCS~) BEGIN
			WRITE_ASCIIE (me_off + 0x4) ~%mewi755%~ #8
		END
	END

COPY_EXISTING ~mewi755f.spl~ ~override~
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x90 numeffects
	FOR (i = 0; i < numeffects; ++i) BEGIN
		me_off = effectsoffset + (i * 0x30)
		READ_SHORT me_off theopcode
		READ_ASCII (me_off + 0x14) theresource
		PATCH_IF theopcode = 402 AND (~%theresource%~ STRING_EQUAL_CASE ~MEDEATCN~) BEGIN
			WRITE_ASCIIE (me_off + 0x4) ~%mewi755%~ #8
		END
	END

OUTER_SPRINT me_30016 @30016
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34755) STR_VAR resource= EVAL ~%mewi755%~ title=~ME_DEATH_TRIGGER_TITLE~ title_name= EVAL ~%me_30016%~ action=~ADD_SPELLS_TRIGGER_LABEL~ END

COPY_EXISTING ~m_mealtc.lua~ ~override~
	ref_30074 = RESOLVE_STR_REF(@30074)
	ref_30075 = RESOLVE_STR_REF(@30075)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_alt_contingency = {~ ~me_alt_contingency = {
['%mewi755%'] = {['conditions'] = {{['strref'] = %ref_30074%, ['desc'] = %ref_30075%}},},~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi756=filename END
COPY_EXISTING ~mewi756.spl~ ~override/%mewi756%.spl~ ~mewi756e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi756~ resource= EVAL ~%mewi756%~ END
	SAY NAME1 @33756
	SAY UNIDENTIFIED_DESC @34756

OUTER_SPRINT me_33756 @33756
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34756) STR_VAR resource= EVAL ~%mewi756%~ title=~ME_CRITICAL_SEQUENCER_TITLE~ title_name= EVAL ~%me_33756%~ action=~ADD_SPELLS_SEQUENCER_LABEL~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi757=filename END
COPY_EXISTING ~mewi757.spl~ ~override/%mewi757%.spl~
	SAY NAME1 @33757
	SAY UNIDENTIFIED_DESC @34757

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi758=filename END
COPY_EXISTING ~mewi758.spl~ ~override/%mewi758%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi758~ resource= EVAL ~%mewi758%~ END
	SAY NAME1 @33758
	SAY UNIDENTIFIED_DESC @34758
/*
COPY_EXISTING_REGEXP ~clab[a-zA-Z][a-zA-Z]0[0-9]\.2da~ ~override~
	COUNT_2DA_ROWS 1 numrows_2
	INSERT_2DA_ROW numrows_2 1 ~ME_TIMELG   AP_METIMELG ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ~
	IF_EXISTS
	UNLESS ~ME_TIMELG~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 5 10 abilities_of_kit
		INNER_ACTION BEGIN
			COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
				COUNT_2DA_ROWS 1 numrows_2
				INSERT_2DA_ROW numrows_2 1 ~ME_TIMELG   AP_METIMELG ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ~
				IF_EXISTS
				UNLESS ~ME_TIMELG~
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/
LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi759=filename END
COPY_EXISTING ~mewi759.spl~ ~override/%mewi759%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi759~ resource= EVAL ~%mewi759%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= 50; ++i) BEGIN
		LPF ALTER_EFFECT INT_VAR silent=1 header=(i - 1) match_parameter1=5 parameter1=(i * 5) END
		LPF ALTER_EFFECT INT_VAR silent=1 header=(i - 1) match_parameter1=1 parameter1=i END
	END
	SAY NAME1 @33759
	SAY UNIDENTIFIED_DESC @34759

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi760=filename END
COPY_EXISTING ~mewi760.spl~ ~override/%mewi760%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi760~ resource= EVAL ~%mewi760%~ END
	SAY NAME1 @33760
	SAY UNIDENTIFIED_DESC @34760

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI7~ RET mewi762=filename END
COPY_EXISTING ~mewi762.spl~ ~override/%mewi762%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi762~ resource= EVAL ~%mewi762%~ END
	SAY NAME1 @33762
	SAY UNIDENTIFIED_DESC @34762

COPY_EXISTING ~sppr607.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource= EVAL ~%mewi762%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi851=filename END
COPY_EXISTING ~mewi851.spl~ ~override/%mewi851%.spl~
	SAY NAME1 @33851
	SAY UNIDENTIFIED_DESC @34851

COPY_EXISTING ~mewi851d.spl~ ~override~
	SAY NAME1 @30004

COPY_EXISTING ~mewi851e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi851e END
	SAY NAME1 @30005

COPY_EXISTING ~mewi851f.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi851f END
	SAY NAME1 @30006

COPY_EXISTING ~mewi851g.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi851g END
	SAY NAME1 @30007

COPY_EXISTING ~mewi851h.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi851h END
	SAY NAME1 @30008

COPY_EXISTING ~mewi851i.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi851i END
	SAY NAME1 @30009

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi852=filename END
COPY_EXISTING ~mewi852.spl~ ~override/%mewi852%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi852~ resource= EVAL ~%mewi852%~ END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meinvglb END
	SAY NAME1 @33852
	SAY UNIDENTIFIED_DESC @34852

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi853=filename END
COPY_EXISTING ~mewi853.spl~ ~override/%mewi853%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=removeeffectsbyresource STR_VAR match_resource=~mewi853~ resource= EVAL ~%mewi853%~ END
	SAY NAME1 @33853
	SAY UNIDENTIFIED_DESC @34853

COPY_EXISTING ~mewi853e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi853~ resource= EVAL ~%mewi853%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi854=filename END
COPY_EXISTING ~mewi854.spl~ ~override/%mewi854%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi854~ resource= EVAL ~%mewi854%~ END
	SAY NAME1 @33854
	SAY UNIDENTIFIED_DESC @34854

COPY_EXISTING ~mewi854d.spl~ ~override~
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x90 numeffects
	FOR (i = 0; i < numeffects; ++i) BEGIN
		me_off = effectsoffset + (i * 0x30)
		READ_SHORT me_off theopcode
		READ_ASCII (me_off + 0x14) theresource
		PATCH_IF theopcode = 402 AND (~%theresource%~ STRING_EQUAL_CASE ~MEPERMCN~) BEGIN
			WRITE_ASCIIE (me_off + 0x4) ~%mewi854%~ #8
		END
	END

OUTER_SPRINT me_30017 @30017
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34854) STR_VAR resource= EVAL ~%mewi854%~ title=~ME_RECURRING_CONTINGENCY_TITLE~ title_name= EVAL ~%me_30017%~ action=~ADD_SPELLS_CONTINGENCY_LABEL~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi855=filename END
COPY_EXISTING ~mewi855.spl~ ~override/%mewi855%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi855 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi855~ resource= EVAL ~%mewi855%~ END
	SAY NAME1 @33855
	SAY UNIDENTIFIED_DESC @34855

COPY_EXISTING ~mepr759.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi855~ resource= EVAL ~%mewi855%~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi856=filename END
COPY_EXISTING ~mewi856.spl~ ~override/%mewi856%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi856~ resource= EVAL ~%mewi856%~ END
	SAY NAME1 @33856
	SAY UNIDENTIFIED_DESC @34856
/*
COPY_EXISTING ~mewi856e.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meintrv3 END
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x90 numeffects
	FOR (i = 0; i < numeffects; ++i) BEGIN
		me_off = effectsoffset + (i * 0x30)
		READ_SHORT me_off theopcode
		READ_ASCII (me_off + 0x14) theresource
		PATCH_IF theopcode = 402 AND (~%theresource%~ STRING_EQUAL_CASE ~MECURSCN~) BEGIN
			WRITE_ASCIIE (me_off + 0x4) ~%mewi856%~ #8
		END
	END
*/
OUTER_SPRINT me_33856 @33856
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34856) STR_VAR resource= EVAL ~mewi856d~ title=~ME_CURSE_CONTINGENCY_TITLE~ title_name= EVAL ~%me_33856%~ action=~ADD_SPELLS_CONTINGENCY_LABEL~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi857=filename END
COPY_EXISTING ~mewi857.spl~ ~override/%mewi857%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi857 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi857~ resource= EVAL ~%mewi857%~ END
	SAY NAME1 @33857
	SAY UNIDENTIFIED_DESC @34857

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi858=filename END
COPY_EXISTING ~mewi858.spl~ ~override/%mewi858%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi858~ resource= EVAL ~%mewi858%~ END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=megrvglb END
	SAY NAME1 @33858
	SAY UNIDENTIFIED_DESC @34858

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi859=filename END
COPY_EXISTING ~mewi859.spl~ ~override/%mewi859%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi255 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi859~ resource= EVAL ~%mewi859%~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) match_opcode=modifycurrenthp parameter1=((i + 1) * 10) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) match_opcode=modifymaxhp parameter1=((i + 1) * 10) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33859
	SAY UNIDENTIFIED_DESC @34859

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi860=filename END
COPY_EXISTING ~mewi860.spl~ ~override/%mewi860%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi860~ resource= EVAL ~%mewi860%~ END
	PATCH_IF (MOD_IS_INSTALLED ~EEex.tp2~ ~0~) BEGIN
		LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=82 opcode=400 END
		LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=charm1 STR_VAR resource=~MEPRTOPC~ END
	END
	SAY NAME1 @33860
	SAY UNIDENTIFIED_DESC @34860

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi861=filename END
/*
COPY_EXISTING ~mewi861.spl~ ~override/%mewi861%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mepolera END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi861~ resource= EVAL ~%mewi861%~ END
	SAY NAME1 @33861
	SAY UNIDENTIFIED_DESC @34861
*/
COPY_EXISTING ~mewi861n.spl~ ~override/%mewi861%.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi861~ resource= EVAL ~%mewi861%~ END
	SAY NAME1 @33861
	SAY UNIDENTIFIED_DESC @30098

COPY_EXISTING ~mewi861d.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi861~ resource= EVAL ~%mewi861%~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=damage dicenumber=24 END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mepolera END
	SAY NAME1 @33861

COPY_EXISTING ~mepolera.pro~ ~override~
	READ_LONG 0xC thebehavior
	thebehavior|=0x10000
	WRITE_LONG 0xC thebehavior
	WRITE_SHORT 0x38 120
	WRITE_ASCII 0x104 ~MEPOLERA~

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi862=filename END
COPY_EXISTING ~mewi862.spl~ ~override/%mewi862%.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi862~ resource= EVAL ~%mewi862%~ END
	LPF ALTER_EFFECT INT_VAR match_opcode=displaystring match_parameter1=30036 parameter1=RESOLVE_STR_REF(@30036) END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 0; i < numheaders; ++i) BEGIN
		LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 header=i match_dicenumber=1 dicenumber=(i + 6) END
		LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 header=i match_dicesize=2 dicesize=(i + 7) END
	END
	SAY NAME1 @33862
	SAY UNIDENTIFIED_DESC @34862

COPY_EXISTING ~spwi804.spl~ ~override~ ~spcl936.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR silent=1 multi_match=1 check_headers=1 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%mewi862%~ insert=~above~ END
	IF_EXISTS

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI8~ RET mewi863=filename END
COPY_EXISTING ~mewi863.spl~ ~override/%mewi863%.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=memetafb END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi863~ resource= EVAL ~%mewi863%~ END
	SAY NAME1 @33863
	SAY UNIDENTIFIED_DESC @34863

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi951=filename END
COPY_EXISTING ~mewi951.spl~ ~override~
	SAY NAME1 @33951
	SAY UNIDENTIFIED_DESC @34951

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi952=filename END
COPY_EXISTING ~mewi952.spl~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi952~ resource= EVAL ~%mewi952%~ END
	SAY NAME1 @33952
	SAY UNIDENTIFIED_DESC @34952

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI952~ scroll=~MEWI952X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi953=filename END
COPY_EXISTING ~mewi953.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi953 END
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi953~ resource= EVAL ~%mewi953%~ END
	SAY NAME1 @33953
	SAY UNIDENTIFIED_DESC @34953

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI953~ scroll=~MEWI953X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi954=filename END
COPY_EXISTING ~mewi954.spl~ ~override~
/*
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= 50; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=damage parameter1=(i * 3) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifycurrenthp parameter1=(i * 3) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifymaxhp parameter1=(i * 3) END
	END
*/
	SAY NAME1 @33954
	SAY UNIDENTIFIED_DESC @34954

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI954~ scroll=~MEWI954X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi955=filename END
COPY_EXISTING ~mewi955.spl~ ~override~ ~mewi955d.spl~ ~override~ ~mewi955p.spl~ ~override~
	SAY NAME1 @33955
	SAY UNIDENTIFIED_DESC @34955

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI955~ scroll=~MEWI955X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END
/*
COPY_EXISTING ~mewi955e.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi955~ resource= EVAL ~%mewi955%~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi955d~ resource= EVAL ~%mewi955%d~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi955p~ resource= EVAL ~%mewi955%p~ END
*/
OUTER_SPRINT me_30018 @30018
LAF ADD_CONTINGENCY INT_VAR description=RESOLVE_STR_REF(@34955) STR_VAR resource=~MEWI955~ title=~ME_MASS_SEQUENCER_TITLE~ title_name= EVAL ~%me_30018%~ action=~ADD_SPELLS_SEQUENCER_LABEL~ END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi956=filename END
COPY_EXISTING ~mewi956.spl~ ~override~
	SAY NAME1 @33956
	SAY UNIDENTIFIED_DESC @34956

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI956~ scroll=~MEWI956X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi957=filename END
COPY_EXISTING ~mewi957.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi957 END
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi957~ resource= EVAL ~%mewi957%~ END
	SAY NAME1 @33957
	SAY UNIDENTIFIED_DESC @34957

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI957~ scroll=~MEWI957X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi958=filename END
COPY_EXISTING ~mewi958.spl~ ~override~
	SAY NAME1 @33958
	SAY UNIDENTIFIED_DESC @34958

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI958~ scroll=~MEWI958X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

COPY_EXISTING ~medragph.cre~ ~override~
	SAY NAME1 @30032
	SAY NAME2 @30032
	IF_EXISTS

ACTION_IF NOT FILE_EXISTS_IN_GAME ~spin682.spl~ BEGIN
	COPY ~HighPower/no_overwrite/spin682.spl~ ~override~
		SAY NAME1 @19378
END
ACTION_IF NOT FILE_EXISTS_IN_GAME ~spin692.spl~ BEGIN
	COPY ~HighPower/no_overwrite/spin692.spl~ ~override~
		SAY NAME1 @19379
END
ACTION_IF NOT FILE_EXISTS_IN_GAME ~spin693.spl~ BEGIN
	COPY ~HighPower/no_overwrite/spin693.spl~ ~override~
END
ACTION_IF NOT FILE_EXISTS_IN_GAME ~spin694.spl~ BEGIN
	COPY ~HighPower/no_overwrite/spin694.spl~ ~override~
		SAY NAME1 @19380
END
ACTION_IF NOT FILE_EXISTS_IN_GAME ~spin695.spl~ BEGIN
	COPY ~HighPower/no_overwrite/spin695.spl~ ~override~
		SAY NAME1 @19381
END
ACTION_IF NOT FILE_EXISTS_IN_GAME ~spin894.spl~ BEGIN
	COPY ~HighPower/no_overwrite/spin894.spl~ ~override~
		SAY NAME1 @19382
END
ACTION_IF NOT FILE_EXISTS_IN_GAME ~spin895.spl~ BEGIN
	COPY ~HighPower/no_overwrite/spin895.spl~ ~override~
		SAY NAME1 @19383
END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi959=filename END
COPY_EXISTING ~mewi959.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi959 END
	LPF ALTER_EFFECT INT_VAR match_opcode=displaystring match_parameter1=30038 parameter1=RESOLVE_STR_REF(@30038) END
	SAY NAME1 @33959
	SAY UNIDENTIFIED_DESC @34959

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi960=filename END
COPY_EXISTING ~mewi960.spl~ ~override~
	SAY NAME1 @33960
	SAY UNIDENTIFIED_DESC @34960
/*
COPY_EXISTING ~luma0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI960~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI960~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI960~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI960~

COPY_EXISTING ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI960~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	IF ~GA_SPWI921~
	UNLESS ~GA_MEWI960~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~1~) OR (~%theclass%~ STRING_EQUAL_CASE ~19~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI960~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI960~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi961=filename END
COPY_EXISTING ~mewi961.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi961 END
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi961~ resource= EVAL ~%mewi961%~ END
	SAY NAME1 @33961
	SAY UNIDENTIFIED_DESC @34961

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI961~ scroll=~MEWI961X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

COPY_EXISTING ~mewi962.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi962 END
/*
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
*/
	SAY NAME1 @33962
	SAY UNIDENTIFIED_DESC @34962

/*
COPY_EXISTING_REGEXP ~menecrp[0-9]\.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 parameter1=1 parameter2=splprot_currenthpgreaterthanorequalto END
*/

COPY_EXISTING ~menecrde.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meintrv3 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 parameter1=1 parameter2=splprot_currenthpgreaterthanorequalto END
/*
COPY_EXISTING ~luma0.2da~ ~override~ ~luso0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI962~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI962~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI962~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI962~

COPY_EXISTING ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI962~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	IF ~GA_SPWI921~
	UNLESS ~GA_MEWI962~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~1~) OR (~%theclass%~ STRING_EQUAL_CASE ~19~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI962~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI962~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/

COPY_EXISTING ~mewi963.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi963 END
/*
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
*/
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) match_opcode=modifycastingtime parameter1=((i + 1) / 3) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= 50; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration=(i * 2) END
	END
	SAY NAME1 @33963
	SAY UNIDENTIFIED_DESC @34963
/*
COPY_EXISTING ~luma0.2da~ ~override~ ~luso0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI963~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI963~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI963~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI963~

COPY_EXISTING ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI963~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	IF ~GA_SPWI921~
	UNLESS ~GA_MEWI963~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~1~) OR (~%theclass%~ STRING_EQUAL_CASE ~19~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI963~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI963~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/

COPY_EXISTING ~mewi964.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mewavefr END
/*
	PATCH_IF innate_hla = 1 BEGIN
		WRITE_SHORT spelltype 4
		WRITE_LONG spelllevel 1
		LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	END
*/
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) match_opcode=damage dicenumber=(i + 1) END
		numheaders = numheaders + 1
	END
	SAY NAME1 @33964
	SAY UNIDENTIFIED_DESC @34964
/*
COPY_EXISTING ~luma0.2da~ ~override~ ~luso0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI964~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI964~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI964~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI964~

COPY_EXISTING ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI964~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	IF ~GA_SPWI921~
	UNLESS ~GA_MEWI964~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~1~) OR (~%theclass%~ STRING_EQUAL_CASE ~19~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI964~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI964~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

*/

COPY_EXISTING ~missile.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	startrow = newrow
	FOR (i = 1; i <= 50; ++i) BEGIN
 		INSERT_2DA_ROW numrows 2 ~%newrow% Rampant Lightning %i%~
		numrows = numrows + 1
		newrow = newrow + 1
	END

COPY_EXISTING ~projectl.ids~ ~override~
	COUNT_2DA_ROWS 2 numrows
	READ_2DA_ENTRY (numrows - 1) 0 2 newrow
	newrow = newrow + 1
	FOR (i = 1; i <= 50; ++i) BEGIN
		INSERT_2DA_ROW numrows 2 ~%newrow% meligr%i%~
		numrows = numrows + 1
		newrow = newrow + 1
	END

ACTION_IF NOT GAME_IS ~iwdee~ BEGIN
	COPY_EXISTING ~meligr1.pro~ ~override~
		WRITE_SHORT 0x21A 40
END

OUTER_FOR (i = 2; i <= 50; ++i) BEGIN
	COPY_EXISTING ~meligr1.pro~ ~override/meligr%i%.pro~
		WRITE_SHORT 0x202 i
		WRITE_SHORT 0x224 (360 / i)
END

//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi965=filename END
COPY_EXISTING ~mewi965.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i projectile=startrow END
		startrow = startrow + 1
	END
	SAY NAME1 @33965
	SAY UNIDENTIFIED_DESC @34965
/*
COPY_EXISTING ~luma0.2da~ ~override~ ~luso0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI965~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI965~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI965~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI965~

COPY_EXISTING ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI965~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	IF ~GA_SPWI921~
	UNLESS ~GA_MEWI965~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~1~) OR (~%theclass%~ STRING_EQUAL_CASE ~19~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI965~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI965~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/
//LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI9~ RET mewi966=filename END
COPY_EXISTING ~mewi966.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi966 END
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi753~ resource= EVAL ~%mewi753%~ END
	SAY NAME1 @33966
	SAY UNIDENTIFIED_DESC @34966

LAF ADD_CLASS_SPELL STR_VAR resref=~MEWI966~ scroll=~MEWI966X~ class_include=~{1, 5, 7, 10, 13, 14, 17, 19}~ END

COPY_EXISTING ~mewi967.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@30101) END
	SAY NAME1 @33967
	SAY UNIDENTIFIED_DESC @34967

COPY_EXISTING ~mecullth.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=eeexinvokelua special=RESOLVE_STR_REF(@30102) STR_VAR match_resource=~MECULLPR~ END
	SAY NAME1 @33967
	SAY UNIDENTIFIED_DESC @30103

COPY_EXISTING ~luma0.2da~ ~override~ ~luso0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI967~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI967~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI967~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI967~

COPY_EXISTING ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI967~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	IF ~GA_SPWI921~
	UNLESS ~GA_MEWI967~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~1~) OR (~%theclass%~ STRING_EQUAL_CASE ~19~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI967~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI967~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mewi968.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 3) END
	END
	SAY NAME1 @33968
	SAY UNIDENTIFIED_DESC @34968

COPY_EXISTING ~mesannih.cre~ ~override~
	WRITE_LONG animation slotsphereofannihilationdecimal
	SAY NAME1 @33968
	SAY NAME2 @33968

COPY_EXISTING ~mesannih.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mesannih END

COPY_EXISTING ~luma0.2da~ ~override~ ~luso0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI968~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI968~

COPY_EXISTING ~lucm0.2da~ ~override~ ~lufm0.2da~ ~override~ ~lumt0.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI968~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	UNLESS ~GA_MEWI968~

COPY_EXISTING ~lufmc.2da~ ~override~ ~lufmt.2da~ ~override~
	LPF ADD_HLA STR_VAR ability=~GA_MEWI968~ min_lev=~32~ max_lev=~99~ num_allowed=~1~ END
	IF_EXISTS
	IF ~GA_SPWI921~
	UNLESS ~GA_MEWI968~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 numcolumns theclass
		PATCH_IF (~%theclass%~ STRING_EQUAL_CASE ~1~) OR (~%theclass%~ STRING_EQUAL_CASE ~19~) BEGIN
			READ_2DA_ENTRY i 1 numcolumns theclassname
			INNER_ACTION BEGIN
				COPY_EXISTING ~luabbr.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR found_it=1 STR_VAR match= EVAL ~%theclassname%~ RET numcolumns2=numcols row=matched END
					PATCH_IF row > ~-1~ BEGIN
						READ_2DA_ENTRY row 1 numcolumns2 thehlatable
						INNER_ACTION BEGIN
							COPY_EXISTING ~lu%thehlatable%.2da~ ~override~
								LPF ADD_HLA STR_VAR ability=~GA_MEWI968~ min_lev=~1~ max_lev=~99~ num_allowed=~1~ END
								IF_EXISTS
								UNLESS ~GA_MEWI968~
						END
					END
					BUT_ONLY_IF_IT_CHANGES
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~mewi151x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi151~ resource= EVAL ~%mewi151%~ END
	SAY NAME2 @33151
	SAY IDENTIFIED_DESC @34151

COPY_EXISTING ~neadoy.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY ~GiveItem(\"NEBELT01\",Player1)~ ~GiveItem("NEBELT01",Player1)
GiveItemCreate("MEWI151X",Player1,1,0,0)~
	END
	IF_EXISTS

COPY_EXISTING ~mewi152x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi152~ resource= EVAL ~%mewi152%~ END
	SAY NAME2 @33152
	SAY IDENTIFIED_DESC @34152

COPY_EXISTING ~ar5405.are~ ~override~
	LPF REPLACE_AREA_ITEM INT_VAR STR_VAR old_item=~scrl81~ new_item=~mewi152x~ END

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi152x~ AFTER ~scrl76~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi153x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi153~ resource= EVAL ~%mewi153%~ END
	SAY NAME2 @33153
	SAY IDENTIFIED_DESC @34153

COPY_EXISTING ~friend.sto~ ~override~ //Friendly Arm Inn
	ADD_STORE_ITEM ~mewi153x~ BEFORE ~book40~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi153x~ AFTER ~scrl70~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi154x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi154~ resource= EVAL ~%mewi154%~ END
	SAY NAME2 @33154
	SAY IDENTIFIED_DESC @34154

COPY_EXISTING ~tarnes.cre~ ~override~
	ADD_CRE_ITEM ~mewi154x~ #0 #0 #0 ~NONE~ ~INV5~

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi154x~ AFTER ~scrl81~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi154x~ AFTER ~scrl81~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~mewi155x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~spwi402~ resource= EVAL ~%mewi155%~ END
	SAY NAME2 @33155
	SAY IDENTIFIED_DESC @34155

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi155x~ AFTER ~scrl77~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~friend.sto~ ~override~ //Friendly Arm Inn
	ADD_STORE_ITEM ~mewi155x~ BEFORE ~book40~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~venkt.cre~ ~override~
	REPLACE_CRE_ITEM ~mewi155x~ #0 #0 #0 ~NONE~ ~QITEM3~

COPY_EXISTING ~kirian.cre~ ~override~
	REPLACE_CRE_ITEM ~mewi155x~ #0 #0 #0 ~NONE~ ~INV1~

COPY_EXISTING ~mewi156x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi156~ resource= EVAL ~%mewi156%~ END
	SAY NAME2 @33156
	SAY IDENTIFIED_DESC @34156

COPY_EXISTING ~inn3351.sto~ ~override~ //Feldepost's Inn
	ADD_STORE_ITEM ~mewi156x~ AFTER ~scrl5u~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~sto4906.sto~ ~override~ //Carnival Magic Trinkets Shop
	ADD_STORE_ITEM ~mewi156x~ BEFORE ~amul01~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi157x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi157~ resource= EVAL ~%mewi157%~ END
	SAY NAME2 @33157
	SAY IDENTIFIED_DESC @34157

COPY_EXISTING ~yago.cre~ ~override~
	ADD_CRE_ITEM ~mewi157x~ #0 #0 #0 ~NONE~ ~INV1~

COPY_EXISTING ~ar5001.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~mewi157x~ END

COPY_EXISTING ~mewi158x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi158~ resource= EVAL ~%mewi158%~ END
	SAY NAME2 @33158
	SAY IDENTIFIED_DESC @34158

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi158x~ AFTER ~scrl78~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~ar1900.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=21 STR_VAR item_to_add=~mewi158x~ END

COPY_EXISTING ~mewi159x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi159~ resource= EVAL ~%mewi159%~ END
	SAY NAME2 @33159
	SAY IDENTIFIED_DESC @34159

COPY_EXISTING ~inn3351.sto~ ~override~ //Feldepost's Inn
	ADD_STORE_ITEM ~mewi159x~ AFTER ~mewi156x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi160x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi160~ resource= EVAL ~%mewi160%~ END
	SAY NAME2 @33160
	SAY IDENTIFIED_DESC @34160

COPY_EXISTING ~gorion.cre~ ~override~
	ADD_CRE_ITEM ~mewi160x~ #0 #0 #0 ~NONE~ ~QITEM3~

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi160x~ AFTER ~scrl70~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~mewi251x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi251~ resource= EVAL ~%mewi251%~ END
	SAY NAME2 @33251
	SAY IDENTIFIED_DESC @34251

COPY_EXISTING ~ar0512.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=25 STR_VAR item_to_add=~mewi251x~ END

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi251x~ AFTER ~scrl6e~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi252x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi252~ resource= EVAL ~%mewi252%~ END
	SAY NAME2 @33252
	SAY IDENTIFIED_DESC @34252

COPY_EXISTING ~ar1803.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=10 STR_VAR item_to_add=~mewi252x~ END

COPY_EXISTING ~ar3901.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~mewi252x~ END

COPY_EXISTING ~mewi253x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi253~ resource= EVAL ~%mewi253%~ END
	SAY NAME2 @33253
	SAY IDENTIFIED_DESC @34253

COPY_EXISTING ~ar0615.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~mewi253x~ END

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi253x~ AFTER ~scrl6e~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi254x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi254~ resource= EVAL ~%mewi254%~ END
	SAY NAME2 @33254
	SAY IDENTIFIED_DESC @34254

COPY_EXISTING ~inn2616.sto~ ~override~ //Winthrop
	ADD_STORE_ITEM ~mewi254x~ AFTER ~helm01~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~inn3351.sto~ ~override~ //Feldepost's Inn
	ADD_STORE_ITEM ~mewi254x~ AFTER ~scrla3~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~ulgoth.sto~ ~override~ //Ulgoth's Beard Inn
	ADD_STORE_ITEM ~mewi254x~ BEFORE ~scrl5g~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi255x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi255~ resource= EVAL ~%mewi255%~ END
	SAY NAME2 @33255
	SAY IDENTIFIED_DESC @34255

COPY_EXISTING ~ar0505.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=4 STR_VAR item_to_add=~mewi255x~ END

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi255x~ AFTER ~scrl94~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~mewi256x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi256~ resource= EVAL ~%mewi256%~ END
	SAY NAME2 @33256
	SAY IDENTIFIED_DESC @34256

COPY_EXISTING ~ar4501.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi256x~ END

COPY_EXISTING ~mewi257x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi257~ resource= EVAL ~%mewi257%~ END
	SAY NAME2 @33257
	SAY IDENTIFIED_DESC @34257

COPY_EXISTING ~ar3100.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi257x~ END

COPY_EXISTING ~rndscrol.2da~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~SCRL98~ ~MEWI257X~

COPY_EXISTING ~mewi258x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi258~ resource= EVAL ~%mewi258%~ END
	SAY NAME2 @33258
	SAY IDENTIFIED_DESC @34258

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi258x~ AFTER ~scrl1k~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi259x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi259~ resource= EVAL ~%mewi259%~ END
	SAY NAME2 @33259
	SAY IDENTIFIED_DESC @34259

COPY_EXISTING ~friend.sto~ ~override~ //Friendly Arm Inn
	ADD_STORE_ITEM ~mewi259x~ BEFORE ~book40~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~sto0703.sto~ ~override~
	ADD_STORE_ITEM ~mewi259x~ AFTER ~scrl87~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~bdsorcsc.sto~ ~override~
	ADD_STORE_ITEM ~mewi259x~ AFTER ~scrl87~ #1 #0 #0 ~IDENTIFIED~ #6
	IF_EXISTS

COPY_EXISTING ~bpding01.sto~ ~override~ //Black Pits scroll store
	ADD_STORE_ITEM ~mewi259x~ AFTER ~scrl87~ #1 #0 #0 ~IDENTIFIED~ #5
	IF_EXISTS

COPY_EXISTING ~ar0145.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi258x~ END

COPY_EXISTING ~mewi260x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi260~ resource= EVAL ~%mewi260%~ END
	SAY NAME2 @33260
	SAY IDENTIFIED_DESC @34260

COPY_EXISTING ~ar2614.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi260x~ END

COPY_EXISTING ~mewi351x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi351~ resource= EVAL ~%mewi351%~ END
	SAY NAME2 @33351
	SAY IDENTIFIED_DESC @34351

COPY_EXISTING ~ar0511.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=8 STR_VAR item_to_add=~mewi351x~ END

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi351x~ AFTER ~scrlal~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi352x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi352~ resource= EVAL ~%mewi352%~ END
	SAY NAME2 @33352
	SAY IDENTIFIED_DESC @34352

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi352x~ AFTER ~scrl1q~ #1 #0 #0 ~IDENTIFIED~ #3
	IF_EXISTS

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi352x~ AFTER ~scrl1t~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~mewi353x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi353~ resource= EVAL ~%mewi353%~ END
	SAY NAME2 @33353
	SAY IDENTIFIED_DESC @34353

COPY_EXISTING ~rndscrol.2da~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~SCRL1T~ ~MEWI353X~

COPY_EXISTING ~mewi354x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi354~ resource= EVAL ~%mewi354%~ END
	SAY NAME2 @33354
	SAY IDENTIFIED_DESC @34354

COPY_EXISTING ~ar4400.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~mewi354x~ END

COPY_EXISTING ~mewi355x.itm~ ~override~
	SAY NAME2 @33355
	SAY IDENTIFIED_DESC @34355

COPY_EXISTING ~narcil.cre~ ~override~
	ADD_CRE_ITEM ~mewi355x~ #0 #0 #0 ~NONE~ ~INV3~

COPY_EXISTING ~mewi356x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi356~ resource= EVAL ~%mewi356%~ END
	SAY NAME2 @33356
	SAY IDENTIFIED_DESC @34356
/*
COPY_EXISTING ~tem2601.sto~ ~override~ //Temple of Oghma
	ADD_STORE_ITEM ~mewi356x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS
*/
COPY_EXISTING ~ar5400.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi356x~ END

COPY_EXISTING ~mewi357x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi357~ resource= EVAL ~%mewi357%~ END
	SAY NAME2 @33357
	SAY IDENTIFIED_DESC @34357

COPY_EXISTING ~gorion.cre~ ~override~
	ADD_CRE_ITEM ~mewi357x~ #0 #0 #0 ~NONE~ ~INV1~

COPY_EXISTING ~mewi358x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi358~ resource= EVAL ~%mewi358%~ END
	SAY NAME2 @33358
	SAY IDENTIFIED_DESC @34358

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi358x~ AFTER ~scrl6l~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi359x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi359~ resource= EVAL ~%mewi359%~ END
	SAY NAME2 @33359
	SAY IDENTIFIED_DESC @34359

COPY_EXISTING ~highhedg.sto~ ~override~
	ADD_STORE_ITEM ~mewi359x~ AFTER ~mewi352x~ #1 #0 #0 ~IDENTIFIED~ #3
	IF_EXISTS

COPY_EXISTING ~ulgoth.sto~ ~override~
	ADD_STORE_ITEM ~mewi359x~ AFTER ~mewi254x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~bpding01.sto~ ~override~ //Black Pits scroll store
	ADD_STORE_ITEM ~mewi359x~ BEFORE ~scrl1q~ #1 #0 #0 ~IDENTIFIED~ #4
	IF_EXISTS

COPY_EXISTING ~mewi360x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi360~ resource= EVAL ~%mewi360%~ END
	SAY NAME2 @33360
	SAY IDENTIFIED_DESC @34360

COPY_EXISTING ~highhedg.sto~ ~override~
	ADD_STORE_ITEM ~mewi360x~ AFTER ~mewi359x~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~ar0511.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=8 STR_VAR item_to_add=~mewi360x~ END

COPY_EXISTING ~bdsorcsc.sto~ ~override~
	ADD_STORE_ITEM ~mewi360x~ AFTER ~scrl1h~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~bpding01.sto~ ~override~ //Black Pits scroll store
	ADD_STORE_ITEM ~mewi360x~ AFTER ~scrl1h~ #1 #0 #0 ~IDENTIFIED~ #4
	IF_EXISTS

COPY_EXISTING ~mewi361x.itm~ ~override~
	SAY NAME2 @33361
	SAY IDENTIFIED_DESC @34361

COPY_EXISTING ~mewi451x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi451~ resource= EVAL ~%mewi451%~ END
	SAY NAME2 @33451
	SAY IDENTIFIED_DESC @34451

COPY_EXISTING ~ar0511.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=10 STR_VAR item_to_add=~mewi451x~ END

COPY_EXISTING ~ar1802.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=42 STR_VAR item_to_add=~mewi451x~ END

COPY_EXISTING ~mewi452x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi452~ resource= EVAL ~%mewi452%~ END
	SAY NAME2 @33452
	SAY IDENTIFIED_DESC @34452
/*
COPY_EXISTING ~halaca.cre~ ~override~
	ADD_CRE_ITEM ~mewi452x~ #0 #0 #0 ~NONE~ ~INV4~
*/
COPY_EXISTING ~ar0500.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi452x~ END

COPY_EXISTING ~mewi453x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi453~ resource= EVAL ~%mewi453%~ END
	SAY NAME2 @33453
	SAY IDENTIFIED_DESC @34453

COPY_EXISTING ~ar5001.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=5 STR_VAR item_to_add=~mewi453x~ END

COPY_EXISTING ~mewi454x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi454~ resource= EVAL ~%mewi454%~ END
	SAY NAME2 @33454
	SAY IDENTIFIED_DESC @34454

COPY_EXISTING ~stosilen.sto~ ~override~ //Silence store
	ADD_STORE_ITEM ~mewi454x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi455x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi455~ resource= EVAL ~%mewi455%~ END
	SAY NAME2 @33455
	SAY IDENTIFIED_DESC @34455

COPY_EXISTING ~kysus.cre~ ~override~
	ADD_CRE_ITEM ~mewi455x~ #0 #0 #0 ~NONE~ ~INV2~

COPY_EXISTING ~mewi456x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi456~ resource= EVAL ~%mewi456%~ END
	SAY NAME2 @33456
	SAY IDENTIFIED_DESC @34456

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi456x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi456x~ AFTER ~scrl6o~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi457x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi457~ resource= EVAL ~%mewi457%~ END
	SAY NAME2 @33457
	SAY IDENTIFIED_DESC @34457

COPY_EXISTING ~sto4906.sto~ ~override~ //Carnival Magic Trinkets Shop
	ADD_STORE_ITEM ~mewi457x~ BEFORE ~amul01~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi458x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi458~ resource= EVAL ~%mewi458%~ END
	SAY NAME2 @33458
	SAY IDENTIFIED_DESC @34458

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi458x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~knightsk.cre~ ~override~
	ADD_CRE_ITEM ~mewi458x~ #0 #0 #0 ~NONE~ ~INV4~

COPY_EXISTING ~mewi459x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi459~ resource= EVAL ~%mewi459%~ END
	SAY NAME2 @33459
	SAY IDENTIFIED_DESC @34459

COPY_EXISTING ~highhedg.sto~ ~override~
	ADD_STORE_ITEM ~mewi459x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~bdbeleg3.sto~ ~override~
	ADD_STORE_ITEM ~mewi459x~ BEFORE ~scrl6o~ #1 #0 #0 ~IDENTIFIED~ #6
	IF_EXISTS

COPY_EXISTING ~bpding01.sto~ ~override~ //Black Pits scroll store
	ADD_STORE_ITEM ~mewi459x~ AFTER ~scrl5m~ #1 #0 #0 ~IDENTIFIED~ #3
	IF_EXISTS

COPY_EXISTING ~mewi551x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi551~ resource= EVAL ~%mewi551%~ END
	SAY NAME2 @33551
	SAY IDENTIFIED_DESC @34551

COPY_EXISTING ~ar2613.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi551x~ END

COPY_EXISTING ~mewi552x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi552~ resource= EVAL ~%mewi552%~ END
	SAY NAME2 @33552
	SAY IDENTIFIED_DESC @34552

COPY_EXISTING ~mewi554x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi554~ resource= EVAL ~%mewi554%~ END
	SAY NAME2 @33554
	SAY IDENTIFIED_DESC @34554

COPY_EXISTING ~ar0161.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~mewi554x~ END

COPY_EXISTING ~ar4101.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi554x~ END

COPY_EXISTING ~mewi555x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi555~ resource= EVAL ~%mewi555%~ END
	SAY NAME2 @33555
	SAY IDENTIFIED_DESC @34555

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi555x~ AFTER ~mewi552x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi556x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi556~ resource= EVAL ~%mewi556%~ END
	SAY NAME2 @33556
	SAY IDENTIFIED_DESC @34556

COPY_EXISTING ~niemai.cre~ ~override~
	ADD_CRE_ITEM ~mewi556x~ #0 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~mewi557x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi557~ resource= EVAL ~%mewi557%~ END
	SAY NAME2 @33557
	SAY IDENTIFIED_DESC @34557

COPY_EXISTING ~baruk.cre~ ~override~
	ADD_CRE_ITEM ~mewi557x~ #0 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~oldaenni.cre~ ~override~
	ADD_CRE_ITEM ~mewi557x~ #0 #0 #0 ~NONE~ ~INV6~
	IF_EXISTS

COPY_EXISTING ~mewi558x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi558~ resource= EVAL ~%mewi558%~ END
	SAY NAME2 @33558
	SAY IDENTIFIED_DESC @34558

COPY_EXISTING ~ar0126.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi558x~ END

COPY_EXISTING ~mewi559x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi559~ resource= EVAL ~%mewi559%~ END
	SAY NAME2 @33559
	SAY IDENTIFIED_DESC @34559

/*
COPY_EXISTING ~tranzi.cre~ ~override~
	ADD_CRE_ITEM ~mewi559x~ #0 #0 #0 ~NONE~ ~INV2~
*/
COPY_EXISTING ~ar0504.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=5 STR_VAR item_to_add=~mewi559x~ END

COPY_EXISTING ~mewi560x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi560~ resource= EVAL ~%mewi560%~ END
	SAY NAME2 @33560
	SAY IDENTIFIED_DESC @34560

COPY_EXISTING ~schlum.cre~ ~override~
	ADD_CRE_ITEM ~mewi560x~ #0 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~mewi561x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi561~ resource= EVAL ~%mewi561%~ END
	SAY NAME2 @33561
	SAY IDENTIFIED_DESC @34561

COPY_EXISTING ~friend.sto~ ~override~ //Friendly Arm Inn
	ADD_STORE_ITEM ~mewi561x~ BEFORE ~book40~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi562x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi562~ resource= EVAL ~%mewi562%~ END
	SAY NAME2 @33562
	SAY IDENTIFIED_DESC @34562


COPY_EXISTING ~mewi563x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi563~ resource= EVAL ~%mewi563%~ END
	SAY NAME2 @33563
	SAY IDENTIFIED_DESC @34563

COPY_EXISTING ~ardeno.cre~ ~override~
	ADD_CRE_ITEM ~mewi563x~ #0 #0 #0 ~NONE~ ~INV12~

COPY_EXISTING ~mewi564x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi564~ resource= EVAL ~%mewi564%~ END
	SAY NAME2 @33564
	SAY IDENTIFIED_DESC @34564

COPY_EXISTING ~ar0511.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=12 STR_VAR item_to_add=~mewi564x~ END

COPY_EXISTING ~davaeo.cre~ ~override~
	REPLACE_CRE_ITEM ~mewi564x~ #0 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~mewi565x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi565~ resource= EVAL ~%mewi565%~ END
	SAY NAME2 @33565
	SAY IDENTIFIED_DESC @34565

COPY_EXISTING ~ar2613.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi565x~ END

COPY_EXISTING ~ar5300.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi565x~ END

COPY_EXISTING ~mewi566x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi566~ resource= EVAL ~%mewi566%~ END
	SAY NAME2 @33566
	SAY IDENTIFIED_DESC @34566

COPY_EXISTING ~ar0161.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~mewi566x~ END

COPY_EXISTING ~mewi567x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi567~ resource= EVAL ~%mewi567%~ END
	SAY NAME2 @33567
	SAY IDENTIFIED_DESC @34567

COPY_EXISTING ~ar0161.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~mewi567x~ END

COPY_EXISTING ~mewi568x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi568~ resource= EVAL ~%mewi568%~ END
	SAY NAME2 @33568
	SAY IDENTIFIED_DESC @34568

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi568x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #2
	IF_EXISTS

COPY_EXISTING ~sto0703.sto~ ~override~
	ADD_STORE_ITEM ~mewi568x~ AFTER ~scrlal~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi651x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi651~ resource= EVAL ~%mewi651%~ END
	SAY NAME2 @33651
	SAY IDENTIFIED_DESC @34651

COPY_EXISTING ~ar1803.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 STR_VAR item_to_add=~mewi651x~ END

COPY_EXISTING ~mewi652x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi652~ resource= EVAL ~%mewi652%~ END
	SAY NAME2 @33652
	SAY IDENTIFIED_DESC @34652

COPY_EXISTING ~ar0138.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 STR_VAR item_to_add=~mewi652x~ END

COPY_EXISTING ~mewi653x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi653~ resource= EVAL ~%mewi653%~ END
	SAY NAME2 @33653
	SAY IDENTIFIED_DESC @34653

COPY_EXISTING ~ulgoth.sto~ ~override~ //Ulgoth's Beard Inn
	ADD_STORE_ITEM ~mewi653x~ AFTER ~scrl1y~ #1 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~mewi654x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi654~ resource= EVAL ~%mewi654%~ END
	SAY NAME2 @33654
	SAY IDENTIFIED_DESC @34654

COPY_EXISTING ~ar4701.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi654x~ END

COPY_EXISTING ~mewi655x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi655~ resource= EVAL ~%mewi655%~ END
	SAY NAME2 @33655
	SAY IDENTIFIED_DESC @34655

COPY_EXISTING ~vayya.cre~ ~override~
	ADD_CRE_ITEM ~mewi655x~ #0 #0 #0 ~NONE~ ~INV4~

COPY_EXISTING ~mewi656x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi656~ resource= EVAL ~%mewi656%~ END
	SAY NAME2 @33656
	SAY IDENTIFIED_DESC @34656

COPY_EXISTING ~arlin.cre~ ~override~
	ADD_CRE_ITEM ~mewi656x~ #0 #0 #0 ~NONE~ ~INV4~

COPY_EXISTING ~mewi657x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi657~ resource= EVAL ~%mewi657%~ END
	SAY NAME2 @33657
	SAY IDENTIFIED_DESC @34657

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi657x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~ar3901.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 STR_VAR item_to_add=~mewi657x~ END

COPY_EXISTING ~mewi658x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi658~ resource= EVAL ~%mewi658%~ END
	SAY NAME2 @33658
	SAY IDENTIFIED_DESC @34658

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi658x~ AFTER ~mewi358x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi660x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi660~ resource= EVAL ~%mewi660%~ END
	SAY NAME2 @33660
	SAY IDENTIFIED_DESC @34660

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi660x~ AFTER ~mewi657x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi751x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi751~ resource= EVAL ~%mewi751%~ END
	SAY NAME2 @33751
	SAY IDENTIFIED_DESC @34751

COPY_EXISTING ~ar1504.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi751x~ END
/*
COPY_EXISTING ~mewi752x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi752~ resource= EVAL ~%mewi752%~ END
	SAY NAME2 @33752
	SAY IDENTIFIED_DESC @34752

COPY_EXISTING ~ar2614.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi752x~ END
*/
COPY_EXISTING ~mewi753x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi753~ resource= EVAL ~%mewi753%~ END
	SAY NAME2 @33753
	SAY IDENTIFIED_DESC @34753

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi753x~ AFTER ~scrl5k~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS
/*
COPY_EXISTING ~ar0512.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=24 STR_VAR item_to_add=~mewi753x~ END
*/
COPY_EXISTING ~mewi754x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi754~ resource= EVAL ~%mewi754%~ END
	SAY NAME2 @33754
	SAY IDENTIFIED_DESC @34754

COPY_EXISTING ~meyxbudu.cre~ ~override~
	ADD_CRE_ITEM ~mewi754x~ #0 #0 #0 ~NONE~ ~INV9~

COPY_EXISTING ~mewi755x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi755~ resource= EVAL ~%mewi755%~ END
	SAY NAME2 @33755
	SAY IDENTIFIED_DESC @34755

COPY_EXISTING ~melichdr.cre~ ~override~
	ADD_CRE_ITEM ~mewi755x~ #0 #0 #0 ~NONE~ ~INV8~

COPY_EXISTING ~mewi756x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi756~ resource= EVAL ~%mewi756%~ END
	SAY NAME2 @33756
	SAY IDENTIFIED_DESC @34756

COPY_EXISTING ~ulgoth.sto~ ~override~ //Friendly Arm Inn
	ADD_STORE_ITEM ~mewi756x~ AFTER ~scrl1y~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi757x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi757~ resource= EVAL ~%mewi757%~ END
	SAY NAME2 @33757
	SAY IDENTIFIED_DESC @34757

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi757x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~kryll.cre~ ~override~
	ADD_CRE_ITEM ~mewi757x~ #0 #0 #0 ~NONE~ ~INV5~
	IF_EXISTS

COPY_EXISTING ~mewi758x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi758~ resource= EVAL ~%mewi758%~ END
	SAY NAME2 @33758
	SAY IDENTIFIED_DESC @34758

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi758x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi759x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi759~ resource= EVAL ~%mewi759%~ END
	SAY NAME2 @33759
	SAY IDENTIFIED_DESC @34759

COPY_EXISTING ~tem0132.sto~ ~override~ //Temple of Tymora
	ADD_STORE_ITEM ~mewi759x~ AFTER ~scrl93~ #1 #0 #0 ~IDENTIFIED~ #3
	IF_EXISTS

COPY_EXISTING ~mewi760x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi760~ resource= EVAL ~%mewi760%~ END
	SAY NAME2 @33760
	SAY IDENTIFIED_DESC @34760

COPY_EXISTING ~mewi762x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi762~ resource= EVAL ~%mewi762%~ END
	SAY NAME2 @33762
	SAY IDENTIFIED_DESC @34762

COPY_EXISTING ~mewi851x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi851~ resource= EVAL ~%mewi851%~ END
	SAY NAME2 @33851
	SAY IDENTIFIED_DESC @34851

COPY_EXISTING ~friend.sto~ ~override~ //Friendly Arm Inn
	ADD_STORE_ITEM ~mewi851x~ BEFORE ~book40~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi852x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi852~ resource= EVAL ~%mewi852%~ END
	SAY NAME2 @33852
	SAY IDENTIFIED_DESC @34852

COPY_EXISTING ~ulgoth.sto~ ~override~ //Ulgoth's Beard Inn
	ADD_STORE_ITEM ~mewi852x~ AFTER ~mewi653x~ #1 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~mewi853x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi853~ resource= EVAL ~%mewi853%~ END
	SAY NAME2 @33853
	SAY IDENTIFIED_DESC @34853

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi853x~ AFTER ~mewi753x~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi854x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi854~ resource= EVAL ~%mewi854%~ END
	SAY NAME2 @33854
	SAY IDENTIFIED_DESC @34854

COPY_EXISTING ~kahrk.cre~ ~override~
	ADD_CRE_ITEM ~mewi854x~ #0 #0 #0 ~NONE~ ~INV10~

COPY_EXISTING ~mewi855x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi855~ resource= EVAL ~%mewi855%~ END
	SAY NAME2 @33855
	SAY IDENTIFIED_DESC @34855

COPY_EXISTING ~ar0514.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mewi855x~ END

COPY_EXISTING ~ar2613.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~mewi855x~ END

COPY_EXISTING ~mewi856x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi856~ resource= EVAL ~%mewi856%~ END
	SAY NAME2 @33856
	SAY IDENTIFIED_DESC @34856

COPY_EXISTING ~yago.cre~ ~override~
	ADD_CRE_ITEM ~mewi856x~ #0 #0 #0 ~NONE~ ~INV10~

COPY_EXISTING ~mewi857x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi857~ resource= EVAL ~%mewi857%~ END
	SAY NAME2 @33857
	SAY IDENTIFIED_DESC @34857

COPY_EXISTING ~rinnie.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItem(\"SCRL08\",LastTalkedToBy)~ ~GiveItemCreate("MEWI857X",LastTalkedToBy,1,0,0)~
    END

COPY_EXISTING ~mewi858x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi858~ resource= EVAL ~%mewi858%~ END
	SAY NAME2 @33858
	SAY IDENTIFIED_DESC @34858

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi858x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi859x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi859~ resource= EVAL ~%mewi859%~ END
	SAY NAME2 @33859
	SAY IDENTIFIED_DESC @34859

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi859x~ BEFORE ~wand02~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi860x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi860~ resource= EVAL ~%mewi860%~ END
	SAY NAME2 @33860
	SAY IDENTIFIED_DESC @34860

COPY_EXISTING ~droth.cre~ ~override~
	ADD_CRE_ITEM ~mewi860x~ #0 #0 #0 ~NONE~ ~INV5~

/*
COPY_EXISTING ~mewi861x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi861~ resource= EVAL ~%mewi861%~ END
	SAY NAME2 @33861
	SAY IDENTIFIED_DESC @34861
*/

COPY_EXISTING ~mewi861x.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR header=1 target=4 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi861~ resource= EVAL ~%mewi861%~ END
	SAY NAME2 @33861
	SAY IDENTIFIED_DESC @30098

COPY_EXISTING ~dezkie.cre~ ~override~
	ADD_CRE_ITEM ~mewi861x~ #0 #0 #0 ~NONE~ ~INV1~

COPY_EXISTING ~mewi862x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi862~ resource= EVAL ~%mewi862%~ END
	SAY NAME2 @33862
	SAY IDENTIFIED_DESC @34862

COPY_EXISTING ~ar0138.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~mewi862x~ END

COPY_EXISTING ~ar0514.are~ ~override~
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=5 STR_VAR item_to_add=~mewi862x~ END

COPY_EXISTING ~mewi863x.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi863~ resource= EVAL ~%mewi863%~ END
	SAY NAME2 @33863
	SAY IDENTIFIED_DESC @34863

COPY_EXISTING ~mewi951x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi951~ resource= EVAL ~%mewi951%~ END
	SAY NAME2 @33951
	SAY IDENTIFIED_DESC @34951

COPY_EXISTING ~tellan.cre~ ~override~
	ADD_CRE_ITEM ~mewi951x~ #0 #0 #0 ~NONE~ ~INV8~

COPY_EXISTING ~mewi952x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi952~ resource= EVAL ~%mewi952%~ END
	SAY NAME2 @33952
	SAY IDENTIFIED_DESC @34952

COPY_EXISTING ~mewi953x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi953~ resource= EVAL ~%mewi953%~ END
	SAY NAME2 @33953
	SAY IDENTIFIED_DESC @34953

COPY_EXISTING ~ramazi.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItem(\"BRAC02\",LastTalkedToBy)~ ~GiveItem("BRAC02",LastTalkedToBy)
GiveItemCreate("MEWI953X",Player1,1,0,0)~
    END

COPY_EXISTING ~mewi954x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi954~ resource= EVAL ~%mewi954%~ END
	SAY NAME2 @33954
	SAY IDENTIFIED_DESC @34954

COPY_EXISTING ~cult2.cre~ ~override~
	ADD_CRE_ITEM ~mewi954x~ #0 #0 #0 ~NONE~ ~INV8~

COPY_EXISTING ~mewi955x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi955~ resource= EVAL ~%mewi955%~ END
	SAY NAME2 @33955
	SAY IDENTIFIED_DESC @34955

COPY_EXISTING ~mewi956x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi956~ resource= EVAL ~%mewi956%~ END
	SAY NAME2 @33956
	SAY IDENTIFIED_DESC @34956

COPY_EXISTING ~shandal2.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyItem(\"MISC2H\")~ ~TakePartyItem("MISC2H")
GiveItemCreate("MEWI956X",Player1,1,0,0)~
    END

COPY_EXISTING ~mewi957x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi957~ resource= EVAL ~%mewi957%~ END
	SAY NAME2 @33957
	SAY IDENTIFIED_DESC @34957
/*
COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi957x~ BEFORE ~wand02~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS
*/
COPY_EXISTING ~mewi958x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi958~ resource= EVAL ~%mewi958%~ END
	SAY NAME2 @33958
	SAY IDENTIFIED_DESC @34958
/*
COPY_EXISTING ~menoobdr.cre~ ~override~
	ADD_CRE_ITEM ~mewi958x~ #0 #0 #0 ~NONE~ ~INV11~
*/

COPY_EXISTING ~mewi959x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi959~ resource= EVAL ~%mewi959%~ END
	SAY NAME2 @33959
	SAY IDENTIFIED_DESC @34959

COPY_EXISTING ~mewi960x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi960~ resource= EVAL ~%mewi960%~ END
	SAY NAME2 @33960
	SAY IDENTIFIED_DESC @34960

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	ADD_STORE_ITEM ~mewi960x~ BEFORE ~wand08~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi961x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi961~ resource= EVAL ~%mewi961%~ END
	SAY NAME2 @33961
	SAY IDENTIFIED_DESC @34961

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mewi961x~ BEFORE ~wand02~ #1 #0 #0 ~IDENTIFIED~ #1
	IF_EXISTS

COPY_EXISTING ~mewi962x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi962~ resource= EVAL ~%mewi962%~ END
	SAY NAME2 @33962
	SAY IDENTIFIED_DESC @34962

COPY_EXISTING ~mewi965x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi965~ resource= EVAL ~%mewi965%~ END
	SAY NAME2 @33965
	SAY IDENTIFIED_DESC @34965

COPY_EXISTING ~mewi966x.itm~ ~override~
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi753~ resource= EVAL ~%mewi753%~ END
	SAY NAME2 @33966
	SAY IDENTIFIED_DESC @34966

COPY_EXISTING_REGEXP ~.*\.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR151\"~ ~"%mepr151%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR155\"~ ~"%mepr155%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR156\"~ ~"%mepr156%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR251\"~ ~"%mepr251%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR252\"~ ~"%mepr252%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR253\"~ ~"%mepr253%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR256\"~ ~"%mepr256%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR351\"~ ~"%mepr351%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR352\"~ ~"%mepr352%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR353\"~ ~"%mepr353%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR354\"~ ~"%mepr354%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR360\"~ ~"%mepr360%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR451\"~ ~"%mepr451%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR452\"~ ~"%mepr452%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR453\"~ ~"%mepr453%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR454\"~ ~"%mepr454%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR456\"~ ~"%mepr456%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR551\"~ ~"%mepr551%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR552\"~ ~"%mepr552%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR553\"~ ~"%mepr553%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR557\"~ ~"%mepr557%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR558\"~ ~"%mepr558%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR652\"~ ~"%mepr652%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR653\"~ ~"%mepr653%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR654\"~ ~"%mepr654%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR657\"~ ~"%mepr657%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR658\"~ ~"%mepr658%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR660\"~ ~"%mepr660%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR751\"~ ~"%mepr751%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR752\"~ ~"%mepr752%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR753\"~ ~"%mepr753%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR755\"~ ~"%mepr755%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR757\"~ ~"%mepr757%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR760\"~ ~"%mepr760%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEPR762\"~ ~"%mepr762%"~
	END
	IF ~MEPR~

COPY_EXISTING_REGEXP ~.*\.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI151\"~ ~"%mewi151%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI152\"~ ~"%mewi152%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI153\"~ ~"%mewi153%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI154\"~ ~"%mewi154%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI155\"~ ~"%mewi155%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI156\"~ ~"%mewi156%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI157\"~ ~"%mewi157%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI158\"~ ~"%mewi158%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI159\"~ ~"%mewi159%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI251\"~ ~"%mewi251%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI252\"~ ~"%mewi252%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI253\"~ ~"%mewi253%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI254\"~ ~"%mewi254%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI255\"~ ~"%mewi255%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI257\"~ ~"%mewi257%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI258\"~ ~"%mewi258%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI259\"~ ~"%mewi259%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI260\"~ ~"%mewi260%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI351\"~ ~"%mewi351%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI352\"~ ~"%mewi352%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI353\"~ ~"%mewi353%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI354\"~ ~"%mewi354%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI356\"~ ~"%mewi356%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI358\"~ ~"%mewi358%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI359\"~ ~"%mewi359%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI360\"~ ~"%mewi360%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI451\"~ ~"%mewi451%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI452\"~ ~"%mewi452%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI453\"~ ~"%mewi453%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI454\"~ ~"%mewi454%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI455\"~ ~"%mewi455%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI456\"~ ~"%mewi456%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI457\"~ ~"%mewi457%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI458\"~ ~"%mewi458%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI459\"~ ~"%mewi459%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI551\"~ ~"%mewi551%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI552\"~ ~"%mewi552%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI554\"~ ~"%mewi554%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI555\"~ ~"%mewi555%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI556\"~ ~"%mewi556%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI557\"~ ~"%mewi557%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI558\"~ ~"%mewi558%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI559\"~ ~"%mewi559%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI560\"~ ~"%mewi560%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI561\"~ ~"%mewi561%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI562\"~ ~"%mewi562%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI563\"~ ~"%mewi563%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI564\"~ ~"%mewi564%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI565\"~ ~"%mewi565%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI566\"~ ~"%mewi566%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI651\"~ ~"%mewi651%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI652\"~ ~"%mewi652%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI653\"~ ~"%mewi653%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI654\"~ ~"%mewi654%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI655\"~ ~"%mewi655%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI656\"~ ~"%mewi656%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI657\"~ ~"%mewi657%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI658\"~ ~"%mewi658%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI751\"~ ~"%mewi751%"~
//		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI752\"~ ~"%mewi752%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI753\"~ ~"%mewi753%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI754\"~ ~"%mewi754%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI755\"~ ~"%mewi755%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI756\"~ ~"%mewi756%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI757\"~ ~"%mewi757%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI758\"~ ~"%mewi758%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI759\"~ ~"%mewi759%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI760\"~ ~"%mewi760%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI762\"~ ~"%mewi762%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI851\"~ ~"%mewi851%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI852\"~ ~"%mewi852%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI853\"~ ~"%mewi853%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI855\"~ ~"%mewi855%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI856\"~ ~"%mewi856%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI857\"~ ~"%mewi857%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI858\"~ ~"%mewi858%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI859\"~ ~"%mewi859%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI860\"~ ~"%mewi860%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI861\"~ ~"%mewi861%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI862\"~ ~"%mewi862%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI863\"~ ~"%mewi863%"~
/*
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI952\"~ ~"%mewi952%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI953\"~ ~"%mewi953%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI954\"~ ~"%mewi954%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI955\"~ ~"%mewi955%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI956\"~ ~"%mewi956%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI957\"~ ~"%mewi957%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI958\"~ ~"%mewi958%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI959\"~ ~"%mewi959%"~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"MEWI961\"~ ~"%mewi961%"~
*/
	END
	IF ~MEWI~

COPY_EXISTING ~sppr101.spl~ ~override~ ~sppr104.spl~ ~override~ ~sppr111.spl~ ~override~ ~sppr310.spl~ ~override~ ~sppr311.spl~ ~override~ ~sppr312.spl~ ~override~ ~sppr709.spl~ ~override~
	READ_LONG 0x1E ulgiash
	ulgiash|=0x80000000 //Makes the spell unusable by druids
	WRITE_LONG 0x1E ulgiash

COPY_EXISTING ~sppr106.spl~ ~override~ ~sppr308.spl~ ~override~ ~sppr318.spl~ ~override~ ~sppr403.spl~ ~override~ ~sppr417.spl~ ~override~ ~sppr503.spl~ ~override~ ~sppr614.spl~ ~override~
	READ_LONG 0x1E ulgiash
	ulgiash&=0x7FFFFFFF //Makes the spell usable by druids
	WRITE_LONG 0x1E ulgiash

COPY_EXISTING ~sppr110.spl~ ~override~ ~sppr202.spl~ ~override~ ~sppr206.spl~ ~override~ ~sppr210.spl~ ~override~ ~sppr306.spl~ ~override~ ~mepr402.spl~ ~override~ ~mepr501.spl~ ~override~ ~mepr602.spl~ ~override~ ~sppr604.spl~ ~override~
	READ_LONG 0x1E ulgiash
	ulgiash|=0x40000000 //Makes the spell unusable by clerics
	WRITE_LONG 0x1E ulgiash

COPY_EXISTING ~sppr314.spl~ ~override~
	READ_LONG 0x1E ulgiash
	ulgiash|=0x8 //Makes the spell unusable by lawful/true/chaotic neutral
	WRITE_LONG 0x1E ulgiash

COPY_EXISTING ~sppr709.spl~ ~override~
	READ_LONG 0x1E ulgiash
	ulgiash|=0x16 //Makes the spell unusable by lawful characters
	WRITE_LONG 0x1E ulgiash

COPY_EXISTING_REGEXP ~.*\.are~ ~override~
	READ_SHORT 0x48 theareatype
	PATCH_IF ((theareatype BAND 0b00000001) = 0b00000001) AND !(~%SOURCE_RES%~ STRING_EQUAL_CASE ~OH2000~) BEGIN
		LPF fj_are_structure INT_VAR fj_loc_x=0 fj_loc_y=0 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Fix_Wing_Buffet~ fj_cre_resref=~MEFIXWBU~ END
	END
	BUT_ONLY_IF_IT_CHANGES

PRINT @102

COPY_EXISTING ~cdsw1h03.eff~ ~override~
	WRITE_LONG effparameter1 9

COPY_EXISTING ~dopphit.eff~ ~override~
	WRITE_LONG effparameter3 9

COPY_EXISTING ~giantdam.eff~ ~override~
	WRITE_LONG effparameter1 19

COPY_EXISTING ~gianthit.eff~ ~override~
	WRITE_LONG effparameter3 19

COPY_EXISTING ~ft1dam.eff~ ~override~
	WRITE_LONG effparameter1 5
	WRITE_LONG effparameter2 firedamage

COPY_EXISTING ~ft2dam.eff~ ~override~
	WRITE_LONG effparameter1 10
	WRITE_LONG effparameter2 firedamage

COPY_EXISTING ~lycanhit.eff~ ~override~
	WRITE_LONG effparameter3 9

COPY_EXISTING ~monkchil.eff~ ~override~
	WRITE_LONG effparameter1 5

COPY_EXISTING_REGEXP ~sp313l.*.eff~ ~override~ //Holy Smite and Unholy Blight damage
	WRITE_LONG effparameter2 crushingdamage

COPY_EXISTING_REGEXP ~spcl902.*.eff~ ~override~ //Deathblow on-hit
	WRITE_LONG effsavingthrow vsdeath

COPY_EXISTING_REGEXP ~spcl906.*.eff~ ~override~ ~spcl909b.eff~ ~override~ ~spcl909c.eff~ ~override~
	WRITE_BYTE effresistdispel dispelnotbypassresistance

COPY_EXISTING ~spcl906b.eff~ ~override~ //Stunning Attack stun string
	SAY effstring #26050 //Stunned

COPY_EXISTING ~spcl909b.eff~ ~override~ ~spcl909c.eff~ ~override~ //Smite on-hit stun
	WRITE_LONG effsavingthrow vsdeath
	WRITE_LONG effsavebonus 0xFFFFFFFC //-4 penalty to save

COPY_EXISTING ~sw1h79.eff~ ~override~
	WRITE_LONG effparameter1 5
	WRITE_LONG effparameter2 magicdamage

COPY_EXISTING ~undedhit.eff~ ~override~
	WRITE_LONG effparameter3 5

COPY_EXISTING ~wyvernsu.eff~ ~override~
	WRITE_ASCII effresource2 ~MENOBAM~ #8

COPY_EXISTING ~meprt001.eff~ ~override~ ~meprt002.eff~ ~override~
	SAY effstring @501

COPY_EXISTING ~meprt003.eff~ ~override~
	SAY effstring @502

COPY_EXISTING ~meprt004.eff~ ~override~ ~meprt005.eff~ ~override~ ~meprt006.eff~ ~override~
	SAY effstring @503

COPY_EXISTING ~meprt007.eff~ ~override~
	SAY effstring @504

COPY_EXISTING ~meprt008.eff~ ~override~
	SAY effstring @505

COPY_EXISTING ~mestr001.eff~ ~override~
	SAY effstring @601

COPY_EXISTING ~mestr002.eff~ ~override~
	SAY effstring @602

COPY_EXISTING ~mestr003.eff~ ~override~
	SAY effstring @603

COPY_EXISTING ~mestr004.eff~ ~override~
	SAY effstring @604

COPY_EXISTING ~mestr005.eff~ ~override~
	SAY effstring @605

COPY_EXISTING ~mestr006.eff~ ~override~
	SAY effstring @606

COPY_EXISTING ~mestr007.eff~ ~override~
	SAY effstring @607

COPY_EXISTING ~mestr008.eff~ ~override~
	SAY effstring @608

COPY_EXISTING ~mestr009.eff~ ~override~
	SAY effstring @609

COPY_EXISTING ~mestr010.eff~ ~override~
	SAY effstring @610

COPY_EXISTING ~mestr011.eff~ ~override~
	SAY effstring @611

COPY_EXISTING ~mestr012.eff~ ~override~
	SAY effstring @612

COPY_EXISTING ~mestr013.eff~ ~override~
	SAY effstring @613

COPY_EXISTING ~mestr014.eff~ ~override~
	SAY effstring @614

COPY_EXISTING ~mestr015.eff~ ~override~
	SAY effstring @615

COPY_EXISTING ~mestr016.eff~ ~override~
	SAY effstring @616

COPY_EXISTING ~mestr017.eff~ ~override~
	SAY effstring @617

COPY_EXISTING ~mestr018.eff~ ~override~
	SAY effstring @618

COPY_EXISTING ~mestr019.eff~ ~override~
	SAY effstring @619

COPY_EXISTING ~mestr020.eff~ ~override~
	SAY effstring @620

COPY_EXISTING ~mestr021.eff~ ~override~
	SAY effstring @621

COPY_EXISTING ~mestr022.eff~ ~override~
	SAY effstring @622

COPY_EXISTING ~mestr023.eff~ ~override~
	SAY effstring @623

COPY_EXISTING ~mestr024.eff~ ~override~
	SAY effstring @624

COPY_EXISTING ~mestr025.eff~ ~override~
	SAY effstring @625

COPY_EXISTING ~mestr026.eff~ ~override~
	SAY effstring @626

COPY_EXISTING ~mestr027.eff~ ~override~
	SAY effstring @627

COPY_EXISTING ~icestorm.pro~ ~override~
	WRITE_SHORT 0x210 75
	WRITE_BYTE 0x216 4 //Now Ice Storm hits 4 times over 4 rounds, rather than 3 times over 4 rounds

COPY_EXISTING_REGEXP ~inarea.*\.pro~ ~override~
	WRITE_SHORT 0x21a 1

COPY_EXISTING ~smllarea.pro~ ~override~ ~smllarnc.pro~ ~override~
	WRITE_ASCII 0x10 ~~ #8
	WRITE_BYTE 0x217 255
	IF_EXISTS

PRINT @103

STRING_SET_EVALUATE 16428 @1001

STRING_SET_EVALUATE 16431 @1002

STRING_SET_EVALUATE 8921 @1051

STRING_SET_EVALUATE 107 @1101

STRING_SET_EVALUATE 180 @1102

STRING_SET_EVALUATE 181 @1103

STRING_SET_EVALUATE 183 @1104

STRING_SET_EVALUATE 184 @1105

STRING_SET_EVALUATE 185 @1106

STRING_SET_EVALUATE 191 @1107

STRING_SET_EVALUATE 201 @1108

STRING_SET_EVALUATE 202 @1109

STRING_SET_EVALUATE 204 @1110

STRING_SET_EVALUATE 26787 @1111

STRING_SET_EVALUATE 27450 @1112

STRING_SET_EVALUATE 27452 @1113

STRING_SET_EVALUATE 27453 @1114

STRING_SET_EVALUATE 15159 @1115

STRING_SET_EVALUATE 15160 @1116

STRING_SET_EVALUATE 27077 @1117

STRING_SET_EVALUATE 27078 @1118

STRING_SET_EVALUATE 15164 @1119

STRING_SET_EVALUATE 27126 @1120

STRING_SET_EVALUATE 1095 @1121

STRING_SET_EVALUATE 935 @1122

STRING_SET_EVALUATE 26828 @1123

STRING_SET_EVALUATE 2815 @1124

STRING_SET_EVALUATE 2837 @1125

STRING_SET_EVALUATE 2838 @1126

STRING_SET_EVALUATE 2839 @1127

STRING_SET_EVALUATE 2840 @1128

STRING_SET_EVALUATE 772 @1129

STRING_SET_EVALUATE 773 @1130

STRING_SET_EVALUATE 776 @1131

STRING_SET_EVALUATE 701 @1132

STRING_SET_EVALUATE 15494 @1133

STRING_SET_EVALUATE 15496 @1134

STRING_SET_EVALUATE 26884 @1135

STRING_SET_EVALUATE 11873 @1136

STRING_SET_EVALUATE 2661 @1137

STRING_SET_EVALUATE 6111 @1138

STRING_SET_EVALUATE 10397 @1139

STRING_SET_EVALUATE 10417 @1140

STRING_SET_EVALUATE 14809 @1141

STRING_SET_EVALUATE 14810 @1142

STRING_SET_EVALUATE 14816 @1143

STRING_SET_EVALUATE 14923 @1144

STRING_SET_EVALUATE 14925 @1145

STRING_SET_EVALUATE 15108 @1146

STRING_SET_EVALUATE 15110 @1147

STRING_SET_EVALUATE 15111 @1148

STRING_SET_EVALUATE 15109 @1149

STRING_SET_EVALUATE 27360 @1150

STRING_SET_EVALUATE 15231 @1151

STRING_SET_EVALUATE 15335 @1152

STRING_SET_EVALUATE 18657 @1153

STRING_SET_EVALUATE 19545 @1154

STRING_SET_EVALUATE 19554 @1155

STRING_SET_EVALUATE 19561 @1156

STRING_SET_EVALUATE 19562 @1157

STRING_SET_EVALUATE 19563 @1158

STRING_SET_EVALUATE 19564 @1159

STRING_SET_EVALUATE 19565 @1160

STRING_SET_EVALUATE 8539 @1161

STRING_SET_EVALUATE 15096 @1162

STRING_SET_EVALUATE 16479 @1165

STRING_SET_EVALUATE 31446 @1166

STRING_SET_EVALUATE 16009 @1167

STRING_SET_EVALUATE 16010 @1168

STRING_SET_EVALUATE 14852 @1169

STRING_SET_EVALUATE 14981 @1170

STRING_SET_EVALUATE 1377 @1171

STRING_SET_EVALUATE 1379 @1172

STRING_SET_EVALUATE 16639 @1173

STRING_SET_EVALUATE 16642 @1174

STRING_SET_EVALUATE 19457 @1175

STRING_SET_EVALUATE 19461 @1176

STRING_SET_EVALUATE 14834 @1177

STRING_SET_EVALUATE 11889 @1178

STRING_SET_EVALUATE 11897 @1179

STRING_SET_EVALUATE 272 @1180

STRING_SET_EVALUATE 19466 @1181

STRING_SET_EVALUATE 19469 @1182

STRING_SET_EVALUATE 19470 @1183

STRING_SET_EVALUATE 27501 @1184

STRING_SET_EVALUATE 16184 @1185

STRING_SET_EVALUATE 16186 @1186

STRING_SET_EVALUATE 27080 @1187

STRING_SET_EVALUATE 27356 @1188

STRING_SET_EVALUATE 14953 @1189

STRING_SET_EVALUATE 24077 @1190

STRING_SET_EVALUATE 10747 @1303

STRING_SET_EVALUATE 10752 @1304

STRING_SET_EVALUATE 10755 @1305

STRING_SET_EVALUATE 10761 @1306

STRING_SET_EVALUATE 10766 @1307

STRING_SET_EVALUATE 10746 @1308

STRING_SET_EVALUATE 23213 @1401

STRING_SET_EVALUATE 23215 @1402

STRING_SET_EVALUATE 22984 @1403

STRING_SET_EVALUATE 22995 @1404

STRING_SET_EVALUATE 18743 @1406

STRING_SET_EVALUATE 835 @1601

STRING_SET_EVALUATE 839 @1602

STRING_SET_EVALUATE 840 @1603

STRING_SET_EVALUATE 841 @1604

STRING_SET_EVALUATE 845 @1605

STRING_SET_EVALUATE 846 @1606

STRING_SET_EVALUATE 847 @1607

STRING_SET_EVALUATE 376 @1608

STRING_SET_EVALUATE 385 @1609

STRING_SET_EVALUATE 389 @1610

STRING_SET_EVALUATE 397 @1611

STRING_SET_EVALUATE 18108 @1612

STRING_SET_EVALUATE 18109 @1613

STRING_SET_EVALUATE 18238 @1614

STRING_SET_EVALUATE 18651 @1615

STRING_SET_EVALUATE 27224 @1616

STRING_SET_EVALUATE 349 @1617

STRING_SET_EVALUATE 351 @1618

STRING_SET_EVALUATE 352 @1619

STRING_SET_EVALUATE 5750 @1620

STRING_SET_EVALUATE 373 @1621

STRING_SET_EVALUATE 374 @1622

STRING_SET_EVALUATE 10100 @1623

STRING_SET_EVALUATE 7949 @1624

STRING_SET_EVALUATE 7957 @1625

STRING_SET_EVALUATE 17950 @1626

STRING_SET_EVALUATE 15988 @2751

STRING_SET_EVALUATE 15990 @2752

STRING_SET_EVALUATE 15991 @2753

STRING_SET_EVALUATE 15994 @2754

STRING_SET_EVALUATE 15995 @2755

STRING_SET_EVALUATE 15996 @2756

STRING_SET_EVALUATE 15997 @2757

STRING_SET_EVALUATE 15998 @2758

STRING_SET_EVALUATE 15999 @2759

STRING_SET_EVALUATE 16000 @2760

PRINT @104

COPY_EXISTING ~clabpr01.2da~ ~override~
	COUNT_2DA_COLS numcolumns_2
	COUNT_2DA_ROWS numcolumns_2 numrows_2
	INSERT_2DA_ROW numrows_2 numcolumns_2 ~MERCLNOL    AP_MERCLNOL  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	UNLESS ~MERCLNOL~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classcleric BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_COLS numcolumns_2
					COUNT_2DA_ROWS numcolumns_2 numrows_2
					INSERT_2DA_ROW numrows_2 numcolumns_2 ~MERCLNOL    AP_MERCLNOL  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					UNLESS ~MERCLNOL~
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~clabrn01.2da~ ~override~
	COUNT_2DA_COLS numcolumns_2
	COUNT_2DA_ROWS numcolumns_2 numrows_2
	INSERT_2DA_ROW numrows_2 numcolumns_2 ~MERANLEV    AP_MERANLEV  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	UNLESS ~MERANLEV~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classranger BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_COLS numcolumns_2
					COUNT_2DA_ROWS numcolumns_2 numrows_2
					INSERT_2DA_ROW numrows_2 numcolumns_2 ~MERANLEV    AP_MERANLEV  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					UNLESS ~MERANLEV~
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~clabpa01.2da~ ~override~
	COUNT_2DA_COLS numcolumns_2
	COUNT_2DA_ROWS numcolumns_2 numrows_2
	INSERT_2DA_ROW numrows_2 numcolumns_2 ~MEPALLEV    AP_MEPALLEV  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	UNLESS ~MEPALLEV~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classpaladin BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_COLS numcolumns_2
					COUNT_2DA_ROWS numcolumns_2 numrows_2
					INSERT_2DA_ROW numrows_2 numcolumns_2 ~MEPALLEV    AP_MEPALLEV  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					UNLESS ~MEPALLEV~
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~clabrn02.2da~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~AP_SPCL124~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~MERN02_1   AP_SPCL234  ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****      AP_SPCL124 ****      ****~

COPY_EXISTING ~clabrn03.2da~ ~override~ //Stalker abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA301~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA302~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA303~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~MERN03_1   ****        ****        ****       ****      ****        ****       ****      GA_SPRA301  ****       ****      ****       ****       ****      ****      ****       ****      ****       ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****~
	INSERT_2DA_ROW numrows numcolumns ~MERN03_2   ****        ****        ****       ****      ****        ****       ****      GA_SPRA302  ****       ****      ****       ****       ****      ****      ****       ****      ****       ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****~
	INSERT_2DA_ROW numrows numcolumns ~MERN03_3   ****        ****        ****       ****      ****        ****       ****      GA_SPRA303  ****       ****      ****       ****       ****      ****      ****       ****      ****       ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****~

COPY_EXISTING ~clabrn04.2da~ ~override~ //Beast Master abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~AP_SPCL341~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA304~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA305~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA306~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~MERN04_1   AP_MECL172S GA_SPRA304  ****       ****      GA_SPRA305  ****       ****      GA_SPRA306  ****       ****      ****       ****       ****      ****      ****       ****      ****       ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****      ****       ****      ****~

COPY_EXISTING ~fjbardb.spl~ ~override~ ~spcl542a.spl~ ~override~ ~spcl751a.spl~ ~override~ ~mebardb.spl~ ~override~ ~c0sasong.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR header=2 min_level=5 END
	LPF ALTER_SPELL_HEADER INT_VAR header=3 min_level=10 END
	IF_EXISTS
/*
LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SKALD~ RET therow=matched END
READ_2DA_ENTRY therow 4 9 me_class_strref
LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END
*/

ACTION_IF MOD_IS_INSTALLED ~Setup-shadowadept.tp2~ ~0~ BEGIN

	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_COLS numcols
		LPF GET_2DA_ROW INT_VAR numcolumns=numcols match_column=1 STR_VAR match=~C0SABARD~ RET therow=matched END
		READ_2DA_ENTRY therow 4 numcols me_class_strref
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~11th level: -2 penalty~ replace_with=~5th level: -2 penalty~ END
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~21st level: -3 penalty~ replace_with=~10th level: -3 penalty~ END
/*
		LPF GET_2DA_ROW INT_VAR numcolumns=numcols match_column=1 STR_VAR match=~C0SABAR2~ RET therow=matched END
		READ_2DA_ENTRY therow 4 numcols me_class_strref
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~11th level: -2 penalty~ replace_with=~5th level: -2 penalty~ END
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~21st level: -3 penalty~ replace_with=~10th level: -3 penalty~ END
*/
		BUT_ONLY_IF_IT_CHANGES
END

COPY_EXISTING ~clabmo01.2da~ ~override~
	COUNT_2DA_COLS numcolumns_2
	COUNT_2DA_ROWS numcolumns_2 numrows_2
	INSERT_2DA_ROW numrows_2 numcolumns_2 ~ME_ABIL1    AP_MECL851  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	UNLESS ~AP_MECL851~

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classmonk BEGIN
			READ_2DA_ENTRY i 5 10 abilities_of_kit
			INNER_ACTION BEGIN
				COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
					COUNT_2DA_COLS numcolumns_2
					COUNT_2DA_ROWS numcolumns_2 numrows_2
					INSERT_2DA_ROW numrows_2 numcolumns_2 ~ME_ABIL1    AP_MECL851  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
					IF_EXISTS
					UNLESS ~AP_MECL851~
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~clswpbon.2da~ ~override~
	LPF GET_2DA_ROW INT_VAR numcolumns=4 match_column=0 STR_VAR match= EVAL ~THIEF~ RET therow=matched END
	PATCH_IF therow > 0 BEGIN
		SET_2DA_ENTRY therow 1 4 ~1~
	END

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classthief BEGIN
			READ_2DA_ENTRY i 1 10 class_name
			INNER_ACTION BEGIN
				COPY_EXISTING ~clswpbon.2da~ ~override~
					LPF GET_2DA_ROW INT_VAR numcolumns=4 match_column=0 STR_VAR match= EVAL ~%class_name%~ RET therow=matched END
					PATCH_IF therow > 0 BEGIN
						SET_2DA_ENTRY therow 1 4 ~1~
					END
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~weapprof.2da~ ~override~
	COUNT_2DA_COLS numcolumns_wp
	numcolumns_wp -= 1
	READ_2DA_ENTRIES_NOW rows_wp numcolumns_wp

COPY_EXISTING ~weapprof.2da~ ~override~
	FOR (j = 3; j < numcolumns_wp; ++j) BEGIN
		new_class_profmax = 0
		READ_2DA_ENTRY_FORMER rows_wp 0 j class_name_wp
		PATCH_IF (~%class_name_wp%~ STRING_EQUAL_CASE ~THIEF~) BEGIN
			new_class_profmax = 2
		END ELSE PATCH_IF (~%class_name_wp%~ STRING_EQUAL_CASE ~RANGER~) OR (~%class_name_wp%~ STRING_EQUAL_CASE ~PALADIN~) OR (~%class_name_wp%~ STRING_EQUAL_CASE ~FIGHTER_THIEF~) OR (~%class_name_wp%~ STRING_EQUAL_CASE ~FIGHTER_MAGE~) OR (~%class_name_wp%~ STRING_EQUAL_CASE ~FIGHTER_CLERIC~) OR (~%class_name_wp%~ STRING_EQUAL_CASE ~FIGHTER_DRUID~) BEGIN
			new_class_profmax = 3
		END
		PATCH_IF new_class_profmax > 0 BEGIN
			FOR (k = 1; k <= 28; ++k) BEGIN
				READ_2DA_ENTRY_FORMER rows_wp k (j + 1) profmax_wp
				PATCH_IF profmax_wp = (new_class_profmax - 1) BEGIN
					SET_2DA_ENTRY_LATER rows_wp_out k (j + 1) ~%new_class_profmax%~
				END
			END
		END
	END

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		new_class_profmax = 0
		READ_2DA_ENTRY i 8 10 class_of_kit
		PATCH_IF class_of_kit=classthief BEGIN
			new_class_profmax = 2
		END ELSE PATCH_IF class_of_kit=classranger OR class_of_kit=classpaladin OR class_of_kit=classfighterthief OR class_of_kit=classfightermage OR class_of_kit=classfightercleric OR class_of_kit=classfighterdruid BEGIN
			new_class_profmax = 3
		END
		PATCH_IF new_class_profmax > 0 BEGIN
			READ_2DA_ENTRY i 1 10 class_name
			INNER_ACTION BEGIN
				COPY_EXISTING ~weapprof.2da~ ~override~
					FOR (j = 3; j < numcolumns_wp; ++j) BEGIN
						READ_2DA_ENTRY_FORMER rows_wp 0 j class_name_wp
						PATCH_IF (~%class_name_wp%~ STRING_EQUAL_CASE ~%class_name%~) BEGIN
							FOR (k = 1; k <= 28; ++k) BEGIN
								READ_2DA_ENTRY_FORMER rows_wp k (j + 1) profmax_wp
								PATCH_IF profmax_wp = (new_class_profmax - 1) BEGIN
									SET_2DA_ENTRY_LATER rows_wp_out k (j + 1) ~%new_class_profmax%~
								END
							END
						END
					END
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~weapprof.2da~ ~override~
	SET_2DA_ENTRIES_NOW rows_wp_out numcolumns_wp

COPY_EXISTING ~clastext.2da~ ~override~

	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~FIGHTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2400)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~BERSERKER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2401)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~WIZARD_SLAYER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2402)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~KENSAI~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2403)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~BARBARIAN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2404)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~DWARVEN_DEFENDER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2405)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~RANGER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2406)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~FERALAN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2407)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~

	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~STALKER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2408)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~

	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~BEAST_MASTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2409)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~

	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~PALADIN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2410)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~CAVALIER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2411)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~INQUISITOR~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2412)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~UNDEAD_HUNTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2413)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~BLACKGUARD~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2414)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~CLERIC~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2415)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~GODTALOS~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2416)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~GODHELM~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2417)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~GODLATHANDER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2418)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~OHTYR~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2419)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~OHTEMPUS~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2420)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~DRUID~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2421)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~TOTEMIC_DRUID~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2422)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~SHAPESHIFTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2423)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~AVENGER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2424)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~MAGE~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2425)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~WILD_MAGE~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2426)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~THIEF~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2427)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~ASSASSIN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2428)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~BOUNTY_HUNTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2429)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~SWASHBUCKLER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2430)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~SHADOWDANCER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2431)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~BARD~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2432)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~

	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~BLADE~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2433)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~

	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~JESTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2434)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~SKALD~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2435)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~SORCERER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2436)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~DRAGON_DISCIPLE~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2437)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~MONK~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2438)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~DARK_MOON~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2439)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~SUN_SOUL~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2440)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 match_column=0 STR_VAR match=~SHAMAN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2441)
	SET_2DA_ENTRY therow 4 9 ~%description_ref%~
*/

COPY_EXISTING ~kitlist.2da~ ~override~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~BERSERKER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2401)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~WIZARD_SLAYER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2402)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~KENSAI~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2403)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~BARBARIAN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2404)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~DWARVEN_DEFENDER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2405)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~FERALAN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2407)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~STALKER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2408)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~

	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~BEASTMASTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2409)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~CAVALIER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2411)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~INQUISITOR~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2412)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~UNDEAD_HUNTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2413)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~Blackguard~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2414)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~TALOS~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2416)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~HELM~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2417)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~LATHANDER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2418)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~OHTYR~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2419)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~OHTEMPUS~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2420)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~TOTEMIC_DRUID~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2422)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~SHAPESHIFTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2423)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~BEAST_FRIEND~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2424)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~WILDMAGE~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2426)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~ASSASIN~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2428)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~BOUNTY_HUNTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2429)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~SWASHBUCKLER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2430)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~SHADOWDANCER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2431)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
*/
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~BLADE~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2433)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~JESTER~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2434)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~SKALD~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2435)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
/*
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~DRAGON_DISCIPLE~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2437)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~DARK_MOON~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2439)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
	LPF GET_2DA_ROW INT_VAR numcolumns=10 match_column=1 STR_VAR match=~SUN_SOUL~ RET therow=matched END

	description_ref = RESOLVE_STR_REF(@2440)
	SET_2DA_ENTRY therow 4 10 ~%description_ref%~
*/
COPY_EXISTING ~clastext.2da~ ~override~
	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FIGHTER~ RET therow=matched END
	SPRINT me_class_abilities @2001
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~BERSERKER~ RET therow=matched END
	SPRINT me_class_abilities @2002
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~WIZARD_SLAYER~ RET therow=matched END
	SPRINT me_class_abilities @2003
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~KENSAI~ RET therow=matched END
	SPRINT me_class_abilities @2004
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~BARBARIAN~ RET therow=matched END
	SPRINT me_class_abilities @2005
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~DWARVEN_DEFENDER~ RET therow=matched END
	SPRINT me_class_abilities @2006
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~RANGER~ RET therow=matched END
	SPRINT me_class_abilities @2007
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FERALAN~ RET therow=matched END
	SPRINT me_class_abilities @2008
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~STALKER~ RET therow=matched END
	SPRINT me_class_abilities @2009
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~BEAST_MASTER~ RET therow=matched END
	SPRINT me_class_abilities @2010
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~PALADIN~ RET therow=matched END
	SPRINT me_class_abilities @2011
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~CAVALIER~ RET therow=matched END
	SPRINT me_class_abilities @2012
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~INQUISITOR~ RET therow=matched END
	SPRINT me_class_abilities @2013
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~UNDEAD_HUNTER~ RET therow=matched END
	SPRINT me_class_abilities @2014
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~BLACKGUARD~ RET therow=matched END
	SPRINT me_class_abilities @2015
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~CLERIC~ RET therow=matched END
	SPRINT me_class_abilities @2016
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~GODTALOS~ RET therow=matched END
	SPRINT me_class_abilities @2017
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~GODHELM~ RET therow=matched END
	SPRINT me_class_abilities @2018
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~GODLATHANDER~ RET therow=matched END
	SPRINT me_class_abilities @2019
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~OHTYR~ RET therow=matched END
	SPRINT me_class_abilities @2020
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~OHTEMPUS~ RET therow=matched END
	SPRINT me_class_abilities @2150
	PATCH_IF therow > 0 BEGIN
		READ_2DA_ENTRY therow 4 9 me_class_strref
		LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END
	END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~DRUID~ RET therow=matched END
	SPRINT me_class_abilities @2021
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~TOTEMIC_DRUID~ RET therow=matched END
	SPRINT me_class_abilities @2022
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SHAPESHIFTER~ RET therow=matched END
	SPRINT me_class_abilities @2023
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~AVENGER~ RET therow=matched END
	SPRINT me_class_abilities @2024
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~THIEF~ RET therow=matched END
	SPRINT me_class_abilities @2025
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~ASSASSIN~ RET therow=matched END
	SPRINT me_class_abilities @2026
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~BOUNTY_HUNTER~ RET therow=matched END
	SPRINT me_class_abilities @2027
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SWASHBUCKLER~ RET therow=matched END
	SPRINT me_class_abilities @2028
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SHADOWDANCER~ RET therow=matched END
	SPRINT me_class_abilities @2029
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~BARD~ RET therow=matched END
	SPRINT me_class_abilities @2030
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~BLADE~ RET therow=matched END
	SPRINT me_class_abilities @2031
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~JESTER~ RET therow=matched END
	SPRINT me_class_abilities @2032
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SKALD~ RET therow=matched END
	SPRINT me_class_abilities @2033
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~MAGE~ RET therow=matched END
	SPRINT me_class_abilities @2034
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~WILD_MAGE~ RET therow=matched END
	SPRINT me_class_abilities @2035
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~ABJURER~ RET therow=matched END
	SPRINT me_class_abilities @2036
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~CONJURER~ RET therow=matched END
	SPRINT me_class_abilities @2037
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~DIVINER~ RET therow=matched END
	SPRINT me_class_abilities @2038
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~ENCHANTER~ RET therow=matched END
	SPRINT me_class_abilities @2039
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~ILLUSIONIST~ RET therow=matched END
	SPRINT me_class_abilities @2040
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~INVOKER~ RET therow=matched END
	SPRINT me_class_abilities @2041
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~NECROMANCER~ RET therow=matched END
	SPRINT me_class_abilities @2042
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~TRANSMUTER~ RET therow=matched END
	SPRINT me_class_abilities @2043
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SORCERER~ RET therow=matched END
	SPRINT me_class_abilities @2044
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~DRAGON_DISCIPLE~ RET therow=matched END
	SPRINT me_class_abilities @2045
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~MONK~ RET therow=matched END
	SPRINT me_class_abilities @2046
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~DARK_MOON~ RET therow=matched END
	SPRINT me_class_abilities @2047
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SUN_SOUL~ RET therow=matched END
	SPRINT me_class_abilities @2048
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SHAMAN~ RET therow=matched END
	SPRINT me_class_abilities @2049
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FIGHTER_THIEF~ RET therow=matched END
	SPRINT me_class_abilities @2050
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FIGHTER_CLERIC~ RET therow=matched END
	SPRINT me_class_abilities @2051
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FIGHTER_MAGE~ RET therow=matched END
	SPRINT me_class_abilities @2052
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~CLERIC_MAGE~ RET therow=matched END
	SPRINT me_class_abilities @2053
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~CLERIC_THIEF~ RET therow=matched END
	SPRINT me_class_abilities @2054
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FIGHTER_DRUID~ RET therow=matched END
	SPRINT me_class_abilities @2055
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~CLERIC_RANGER~ RET therow=matched END
	SPRINT me_class_abilities @2056
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FIGHTER_MAGE_CLERIC~ RET therow=matched END
	SPRINT me_class_abilities @2057
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~FIGHTER_MAGE_THIEF~ RET therow=matched END
	SPRINT me_class_abilities @2058
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~MAGE_THIEF~ RET therow=matched END
	SPRINT me_class_abilities @2059
	READ_2DA_ENTRY therow 4 9 me_class_strref
	LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END

	BUT_ONLY_IF_IT_CHANGES

LAF ACTION_REPLACE_IN_STRING INT_VAR strref=9560 match_case=1 STR_VAR match=~into a wolf~ replace_with=~into a winter wolf~ END

COPY_EXISTING ~clabdr03.2da~ ~override~ //Shapeshifter abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPCL644~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    ****        ****        ****        ****        ****        ****        ****        ****        ****        GA_SPCL644  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~

LAF ACTION_REPLACE_IN_STRING INT_VAR strref=24311 match_case=1 STR_VAR match=~13th level:~ replace_with=~10th level:~ END

//Code taken from Tweaks Anthology
COPY_EXISTING ~clabba01.2da~ ~override~ ~clabdr01.2da~ ~override~ ~clabfi01.2da~ ~override~ ~clabma01.2da~ ~override~ ~clabmo01.2da~ ~override~ ~clabpa01.2da~ ~override~ ~clabrn01.2da~ ~override~ ~clabsh01.2da~ ~override~ ~clabth01.2da~ ~override~
	PATCH_IF (SOURCE_SIZE > 0) BEGIN
		REPLACE_TEXTUALLY ~[%WNL%%MNL%]+~ ~%LNL%~
		REPLACE_TEXTUALLY ~\(1[ %TAB%]+2[ %TAB%]+3[ %TAB%]+4[ %TAB%]+5[ %TAB%]+6[ %TAB%]+7[ %TAB%]+8[ %TAB%]+9[ %TAB%]+10[ %TAB%]+11[ %TAB%]+12[ %TAB%]+13[ %TAB%]+14[ %TAB%]+15[ %TAB%]+16[ %TAB%]+17[ %TAB%]+18[ %TAB%]+19[ %TAB%]+20[ %TAB%]+21[ %TAB%]+22[ %TAB%]+23[ %TAB%]+24[ %TAB%]+25[ %TAB%]+26[ %TAB%]+27[ %TAB%]+28[ %TAB%]+29[ %TAB%]+30[ %TAB%]+31[ %TAB%]+32[ %TAB%]+33[ %TAB%]+34[ %TAB%]+35[ %TAB%]+36[ %TAB%]+37[ %TAB%]+38[ %TAB%]+39\)\([ %TAB%]+\)40[ %TAB%]*~
            ~\1\240\241\242\243\244\245\246\247\248\249\250~
		REPLACE_TEXTUALLY ~^\(ABILITY[0-9A-Z]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+\)\([ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%%LNL%]+\)[ %TAB%]*$~
            ~\1\2\2~
	END
	IF_EXISTS
	UNLESS ~41[ %TAB%]+42[ %TAB%]+43[ %TAB%]+44[ %TAB%]+45[ %TAB%]+46[ %TAB%]+47[ %TAB%]+48[ %TAB%]+49[ %TAB%]+50~
	BUT_ONLY

COPY_EXISTING ~kitlist.2da~ ~override~
	COUNT_2DA_ROWS 10 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		READ_2DA_ENTRY i 5 10 abilities_of_kit
		INNER_ACTION BEGIN
			COPY_EXISTING ~%abilities_of_kit%.2da~ ~override~
			PATCH_IF (SOURCE_SIZE > 0) BEGIN
				REPLACE_TEXTUALLY ~[%WNL%%MNL%]+~ ~%LNL%~
				REPLACE_TEXTUALLY ~\(1[ %TAB%]+2[ %TAB%]+3[ %TAB%]+4[ %TAB%]+5[ %TAB%]+6[ %TAB%]+7[ %TAB%]+8[ %TAB%]+9[ %TAB%]+10[ %TAB%]+11[ %TAB%]+12[ %TAB%]+13[ %TAB%]+14[ %TAB%]+15[ %TAB%]+16[ %TAB%]+17[ %TAB%]+18[ %TAB%]+19[ %TAB%]+20[ %TAB%]+21[ %TAB%]+22[ %TAB%]+23[ %TAB%]+24[ %TAB%]+25[ %TAB%]+26[ %TAB%]+27[ %TAB%]+28[ %TAB%]+29[ %TAB%]+30[ %TAB%]+31[ %TAB%]+32[ %TAB%]+33[ %TAB%]+34[ %TAB%]+35[ %TAB%]+36[ %TAB%]+37[ %TAB%]+38[ %TAB%]+39\)\([ %TAB%]+\)40[ %TAB%]*~
		            ~\1\240\241\242\243\244\245\246\247\248\249\250~
				REPLACE_TEXTUALLY ~^\(ABILITY[0-9A-Z]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+\)\([ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%]+[ %TAB%]+[^ %TAB%%LNL%]+\)[ %TAB%]*$~
		            ~\1\2\2~
			END
			IF_EXISTS
			UNLESS ~41[ %TAB%]+42[ %TAB%]+43[ %TAB%]+44[ %TAB%]+45[ %TAB%]+46[ %TAB%]+47[ %TAB%]+48[ %TAB%]+49[ %TAB%]+50~
			BUT_ONLY
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~sppr[1-7][0-4][0-9]\.spl~ ~override~
	READ_SLONG spellunusability thespellunusability
	READ_LONG spelllevel thespelllevel
	TEXT_SPRINT thespellres ~%SOURCE_RES%~
	ishidden = 0
	INNER_ACTION BEGIN
		COPY_EXISTING ~hidespl.2da~ ~override~
			COUNT_2DA_COLS numcolumns
			COUNT_2DA_ROWS numcolumns numrows
			FOR (i = 130; i < numrows; ++i) BEGIN
				READ_2DA_ENTRY i 0 numcolumns theresentry
				PATCH_IF (~%theresentry%~ STRING_EQUAL_CASE ~%thespellres%~) BEGIN
					READ_2DA_ENTRY i 1 numcolumns ishidden
				END
			END
			BUT_ONLY_IF_IT_CHANGES

		ACTION_IF ishidden = 0 BEGIN
			ACTION_IF ((thespellunusability BAND 0x40000000) != 0x40000000) BEGIN
				ACTION_IF ((thespellunusability BAND 0x00000004) != 0x00000004) BEGIN
					OUTER_SET $good_cleric_spell_list(~%thespellres%~) = thespelllevel
				END
				ACTION_IF ((thespellunusability BAND 0x00000008) != 0x00000008) BEGIN
					OUTER_SET $neutral_cleric_spell_list(~%thespellres%~) = thespelllevel
				END
				ACTION_IF ((thespellunusability BAND 0x00000002) != 0x00000002) BEGIN
					OUTER_SET $evil_cleric_spell_list(~%thespellres%~) = thespelllevel
				END
			END
			ACTION_IF ((thespellunusability BAND 0x80000000) != 0x80000000) BEGIN
				OUTER_SET $druid_spell_list(~%thespellres%~) = thespelllevel
			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

PRINT @105

PRINT @106

COPY_EXISTING ~amul15.itm~ ~override~
	LPF DELETE_ITEM_HEADER INT_VAR header_type=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setstate target=1 timing=2 parameter2=126 special=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=4 parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=2 parameter2=modifyacvsmissiles END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=15 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~spwi003~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~spwi112~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~mems096~ END
	SAY IDENTIFIED_DESC @3030

COPY_EXISTING ~amul16.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=bonuswizardspells target=1 timing=2 parameter1=1 parameter2=(level3 + level4 + level5) END
	SAY IDENTIFIED_DESC @3032

COPY_EXISTING ~wa2amu.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=74 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=80 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=8 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=112 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromstring target=1 timing=2 parameter1=32786 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyvisualrange target=1 timing=2 parameter1=5 END
	WRITE_LONG price 8000
	WRITE_ASCII icon ~MEWA2AMU~ #8
	SAY IDENTIFIED_DESC @2948

PRINT @107

COPY_EXISTING ~arow03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mearow03~ END
	SAY NAME2 @3205
	SAY IDENTIFIED_DESC @3206

COPY_EXISTING ~arow06.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR dicenumber=0 dicesize=0 damage_bonus=0 damage_type=none END
//	LPF ADD_ITEM_EFFECT INT_VAR type=2 opcode=damage target=2 timing=1 parameter2=piercingdamage dicenumber=1 dicesize=6 insert_point=0 END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_ITEM_EFFECT INT_VAR type=2 opcode=402 target=2 timing=0 parameter1=0x50600 parameter2=firedamage savingthrow=0x20040000 resist_dispel=1 STR_VAR resource=~EXDAMAGE~ END
	SAY IDENTIFIED_DESC @3212

COPY_EXISTING ~arow10.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	WRITE_SHORT firstheaderprojectile mearrowp
	WRITE_SHORT firstheaderdamage 1
	WRITE_SHORT firstheaderthac0 5
	WRITE_SHORT firstheaderdamagetype 1
	WRITE_LONG price 150
	SAY IDENTIFIED_DESC @3220

PRINT @108

COPY_EXISTING ~ax1h02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhiteffect target=1 timing=2 parameter2=withthisweapon STR_VAR resource=~meax1h02~ END
	SAY IDENTIFIED_DESC @3404

COPY_EXISTING ~ax1h03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhitbonus target=1 timing=2 parameter1=2 parameter2=withthisweapon END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhitbonus target=1 timing=2 parameter1=2 parameter2=withbothweapons END
	SAY IDENTIFIED_DESC @3406

COPY_EXISTING ~ax1h05.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR type=headermelee damage_bonus=6 END
	LPF ALTER_ITEM_HEADER INT_VAR type=headerranged thac0_bonus=5 END
	SAY IDENTIFIED_DESC @3410

COPY_EXISTING ~ax1h07.itm~ ~override~
	READ_LONG itemflags ulgiash
	ulgiash&=0xFFFFFFBF //No longer a magical weapon
	WRITE_LONG itemflags ulgiash
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=classmageall parameter2=idsclass STR_VAR resource=~mewizsla~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mewizslb~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=enchantmentvscreaturetype target=1 timing=2 parameter1=classmageall parameter2=idsclass special=10 END
	SAY IDENTIFIED_DESC @3414

COPY_EXISTING ~meax1h11.itm~ ~override~
	SAY NAME2 @3421
	SAY IDENTIFIED_DESC @3422

COPY_EXISTING ~meax1h11.itm~ ~override/ax1h11.itm~

COPY_EXISTING ~ax1h17.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=9 parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~meax1h17~ END
	WRITE_BYTE minconstitution 21
	SAY IDENTIFIED_DESC @3434

COPY_EXISTING ~ax1h18.itm~ ~override~
	WRITE_ASCII icon ~meax1h18~ #8
	WRITE_ASCII 0x76 ~meax1h18~ #8
	WRITE_ASCII 0xAE ~meax1h18~ #8
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhiteffect target=1 timing=2 parameter2=1 special=2 STR_VAR resource=~meax1h18~ END
	SAY IDENTIFIED_DESC @3436

COPY_EXISTING ~ax1h19.itm~ ~override~
	WRITE_ASCII icon ~meax1h19~ #8
	WRITE_ASCII firstheadericon ~meax1h19~ #8
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhiteffect target=1 timing=2 parameter2=1 STR_VAR resource=~spwi326~ END
	SAY IDENTIFIED_DESC @3438

PRINT @109

COPY_EXISTING_REGEXP ~bag0[2356].itm~ ~override~
	WRITE_LONG price 1

PRINT @110

ACTION_IF MOD_IS_INSTALLED ~EEex.tp2~ ~0~ BEGIN
	COPY_EXISTING ~baring.itm~ ~override~
		LPF DELETE_ITEM_HEADER INT_VAR header_type=(0 - 1) END
		LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=(0 - 1) END
		LPF ADD_ITEM_EQEFFECT INT_VAR opcode=auracleansing target=1 timing=2 parameter2=1 END
		LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=159 END
		LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastingtime target=1 timing=2 parameter1=10 END
		LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=wildsurge END
		LPF ADD_ITEM_EQEFFECT INT_VAR opcode=wildsurge target=1 timing=2 parameter1=48 parameter2=2 special=1 insert_point=0 END
		SAY IDENTIFIED_DESC @2920
END

COPY_EXISTING ~belt07.itm~ ~override~
	WRITE_LONG price 15000

COPY_EXISTING ~nebelt01.itm~ ~override~
	WRITE_ASCII icon ~mebeltne~ #8
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifywildsurge target=1 timing=2 parameter1=10 END
	SAY IDENTIFIED_DESC @2917

PRINT @111

COPY_EXISTING ~blun03.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=1 parameter1=2 parameter2=piercingdamage dicenumber=1 dicesize=6 END
	SAY IDENTIFIED_DESC @4006

COPY_EXISTING ~blun05.itm~ ~override~
	READ_LONG unusability maceunusability //This is used later for the gong mallet
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifystrength target=1 timing=2 parameter1=19 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=21 END
	SAY IDENTIFIED_DESC @4010

COPY_EXISTING ~blun07.itm~ ~override~
	READ_LONG itemflags ulgiash
	ulgiash|=0x300
	WRITE_LONG itemflags ulgiash
	SAY IDENTIFIED_DESC @4014

COPY_EXISTING ~blun09.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhitbonus target=1 timing=2 parameter1=20 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=152 END
	SAY IDENTIFIED_DESC @4018

COPY_EXISTING ~blun11.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=generalhumanoid parameter2=idsgeneral savingthrow=vsdeath savebonus=2 resist_dispel=3 STR_VAR resource=~meblun11~ END
	SAY IDENTIFIED_DESC @4022

COPY_EXISTING ~blun13.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhiteffect target=1 timing=2 parameter2=1 STR_VAR resource=~meblun13~ END
	SAY IDENTIFIED_DESC @4026

COPY_EXISTING ~blun15.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifysavevsspell target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=modifysavevsspell target=2 timing=0 duration=48 parameter1=(0 - 4) END
	SAY IDENTIFIED_DESC @4030

COPY_EXISTING ~blun21.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=criticalhitbonus target=1 timing=0 duration=60 parameter1=1 END
	SAY IDENTIFIED_DESC @4042

COPY_EXISTING ~blun36.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage parameter2=crushingdamage END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage parameter2=crushingdamage END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage parameter2=crushingdamage END
	SAY IDENTIFIED_DESC @4072

COPY_EXISTING ~blun37.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=alignmentmaskgood parameter2=idsalignment STR_VAR resource=~meeqgood~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=alignmentmaskevil parameter2=idsalignment STR_VAR resource=~meeqevil~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=alignmentmasklawful parameter2=idsalignment STR_VAR resource=~meeqlawf~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=alignmentmaskchaotic parameter2=idsalignment STR_VAR resource=~meeqchao~ END
	SAY NAME2 @4073
	SAY IDENTIFIED_DESC @4074

COPY_EXISTING ~blun38.itm~ ~override~
	SAY IDENTIFIED_DESC @4076

COPY_EXISTING ~blun39.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeinvisibility1 target=2 timing=1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeinvisibility2 target=2 timing=1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeopcode target=2 timing=1 parameter1=(0 - 1) parameter2=mirrorimage1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeopcode target=2 timing=1 parameter1=(0 - 1) parameter2=mirrorimage2 END
	WRITE_LONG price 15000
	WRITE_LONG weaponenchantment 4
	WRITE_BYTE firstheaderspeedfactor 3
	WRITE_BYTE firstheaderdamage 5
	WRITE_BYTE firstheaderthac0 4
	SAY NAME2 @4077
	SAY IDENTIFIED_DESC @4078

COPY_EXISTING ~blun40.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 probability1=3 parameter1=1 parameter2=2 STR_VAR resource=~mefreeze~ END
	SAY IDENTIFIED_DESC @4080

COPY_EXISTING ~blun41.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=stun new_opcode=feeblemind END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_probability1=10 probability1=50 END
	WRITE_SHORT firstheaderthac0 2
	WRITE_SHORT firstheaderdamage 3
	WRITE_BYTE firstheaderspeedfactor 5
	WRITE_LONG weaponenchantment 2
	WRITE_LONG price 4000
	SAY NAME2 @4081
	SAY IDENTIFIED_DESC @4082

PRINT @112

COPY_EXISTING ~bolt03.itm~ ~override~
	WRITE_LONG price 200
	LPF ALTER_ITEM_HEADER INT_VAR dicenumber=0 dicesize=0 damage_bonus=0 damage_type=none projectile=40 END
//	LPF ADD_ITEM_EFFECT INT_VAR type=2 opcode=damage target=2 timing=1 parameter2=piercingdamage dicenumber=1 dicesize=6 insert_point=0 END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_ITEM_EFFECT INT_VAR type=2 opcode=402 target=2 timing=0 parameter1=0x67050800 parameter2=elecdamage savingthrow=0x20040000 resist_dispel=1 STR_VAR resource=~EXDAMAGE~ END
	SAY IDENTIFIED_DESC @4206

COPY_EXISTING ~bolt05.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=modifymaxhp END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=modifystrength END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=castingfailure END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ALTER_ITEM_EFFECT INT_VAR duration_high=2400 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~squirp~ END
	SAY IDENTIFIED_DESC @4210

COPY_EXISTING ~boot02.itm~ ~override~ ~boot02zh.itm~ ~override~
	WRITE_LONG weight 1
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifyhideinshadows parameter1=25 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifymovesilently parameter1=50 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=2 parameter1=1 parameter2=2 STR_VAR resource=~meboot02~ END
	SAY IDENTIFIED_DESC @9004
	IF_EXISTS

COPY_EXISTING ~boot11.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 STR_VAR resource= EVAL ~%mewi559%~ END
	SAY IDENTIFIED_DESC @9022

COPY_EXISTING ~boot12.itm~ ~override~
	LPF DELETE_ITEM_HEADER INT_VAR header_type=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=2 parameter1=1 parameter2=2 STR_VAR resource=~megargom~ END
	WRITE_LONG price 9000
	WRITE_LONG weight 30
	SAY IDENTIFIED_DESC @9024

COPY_EXISTING ~megargom.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=applyeffectslist match_parameter2=500 parameter2=splprot_nostoneskinsremaining END

PRINT @113

COPY_EXISTING ~bow02.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=slow target=2 timing=0 duration=18 savingthrow=vswands savebonus=4 END
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=displayportraiticon target=2 timing=0 duration=6 savingthrow=vswands savebonus=4 parameter2=41 END
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=removeportraiticon target=2 timing=1 savingthrow=vswands savebonus=4 parameter2=38 END
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=playsound target=2 timing=1 savingthrow=vswands savebonus=4 STR_VAR resource=~eff_m29~ END
	WRITE_BYTE firstheaderspeedfactor 0
	SAY IDENTIFIED_DESC @4404

COPY_EXISTING ~bow04.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=30 parameter2=bonusfire END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=30 parameter2=bonuscold END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=30 parameter2=bonuselectricity END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=30 parameter2=bonusacid END
	SAY IDENTIFIED_DESC @4408

COPY_EXISTING ~bow06.itm~ ~override~ ~compb06.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonusmissile END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonuspiercing END
	SAY IDENTIFIED_DESC @4412

COPY_EXISTING ~bow07.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhiteffect target=1 timing=2 parameter2=1 STR_VAR resource=~mebow07~ END
	SAY IDENTIFIED_DESC @4414

COPY_EXISTING ~bow08.itm~ ~override~ ~compb08.itm~ ~override~
//	WRITE_LONG weaponenchantment 3
//	WRITE_BYTE firstheaderspeedfactor 3
//	WRITE_SHORT firstheaderthac0 3
//	WRITE_SHORT firstheaderdamagebonus 3
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=2 parameter1=1 parameter2=1 special=633 END
//	SAY NAME1 @4415
	SAY IDENTIFIED_DESC @4416

COPY_EXISTING ~bow16.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=useefffile target=2 timing=1 parameter1=generalundead parameter2=idsgeneral STR_VAR resource=~mebow16d~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mebow16e~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=enchantmentvscreaturetype target=1 timing=2 parameter1=generalundead parameter2=idsgeneral special=5 END
	SAY IDENTIFIED_DESC @4432

COPY_EXISTING ~bow17.itm~ ~override~
	WRITE_ASCII 0x4 ~V1  ~ #4
	WRITE_LONG enchantment 3
	LPF ALTER_ITEM_HEADER INT_VAR new_header_type=headerranged match_icon=1 charges=0 drained=0 thac0_bonus=6 damage_bonus=5 dicenumber=1 dicesize=6 projectile=291 STR_VAR icon=~IBOW17~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=401 target=1 timing=2 parameter1=1 parameter2=1 special=687 END
	SAY IDENTIFIED_DESC @4434

COPY_EXISTING ~bow18.itm~ ~override~ ~compb18.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=modifymissiledamage target=1 timing=0 duration=42 parameter1=1 END
	SAY IDENTIFIED_DESC @4436

PRINT @114


COPY_EXISTING ~brac04.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifymissilethac0 parameter1=4 END
	WRITE_LONG unusability 0x40040180 //Can be used by fighters, rangers, paladins, thieves, bards, and monks
	SAY IDENTIFIED_DESC @4608

COPY_EXISTING ~brac06.itm~ ~override~
	WRITE_LONG unusability 0 //Can be worn by anybody

COPY_EXISTING ~brac07.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifydexterity parameter1=21 END
	SAY IDENTIFIED_DESC @4614

COPY_EXISTING ~brac08.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifydexterity END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifybasethac0 END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifydexterity target=1 timing=2 parameter1=(0 - 5) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifybasethac0 target=1 timing=2 parameter1=(0 - 5) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifydamage target=1 timing=2 parameter1=5 END
	SAY IDENTIFIED_DESC @4616

COPY_EXISTING ~brac09.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifythac0 END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifybasethac0 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifybasethac0 target=1 timing=2 parameter1=2 END
	SAY IDENTIFIED_DESC @4618

COPY_EXISTING ~brac11.itm~ ~override~
	WRITE_ASCII icon ~ibrac10~ #8 //Icon of Gauntlets of Weapon Expertise
	WRITE_ASCII descriptionimage ~cbrac10~ #8 //Description Image of Gauntlets of Weapon Expertise
	SAY NAME1 #6797 //Gauntlets
	SAY NAME2 @4621
	SAY UNIDENTIFIED_DESC #6798
	SAY IDENTIFIED_DESC @4622

COPY_EXISTING ~brac18.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=5 parameter2=modifyacvsmissiles END
	WRITE_LONG unusability 0x40040180 //Can be used by fighters, rangers, paladins, thieves, bards, and monks
	WRITE_LONG price 1200
	SAY IDENTIFIED_DESC @4636

COPY_EXISTING ~brac19.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyfistdamage END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyfistthac0 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffilewhileontype target=1 timing=2 parameter2=28 STR_VAR resource=~meei001~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffilewhileontype target=1 timing=2 parameter2=28 STR_VAR resource=~meei002~ END
	SAY IDENTIFIED_DESC @4638
/*
COPY_EXISTING ~brac20.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=curepoison END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifycurrenthp parameter1=5 END
	WRITE_SHORT firstheadercharges 0
	WRITE_SHORT firstheaderchargeflags 0
	WRITE_LONG firstheaderflags 0
	WRITE_LONG unusability 0x606FFFEB //Can only be used by lawful good paladins
	WRITE_LONG price 2000
	WRITE_BYTE mincharisma 21
	SAY IDENTIFIED_DESC @4640
*/
COPY_EXISTING ~brac20.itm~ ~override~
	LPF DELETE_ITEM_HEADER INT_VAR header_type=(0 - 1) END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=2 parameter1=50 special=620 END
	WRITE_LONG unusability 0
	WRITE_LONG price 2000
	WRITE_BYTE mincharisma 17
	SAY IDENTIFIED_DESC @4640

COPY_EXISTING ~brac26.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifymaxhp END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=2 parameter1=30 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=2 parameter1=30 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=2 parameter1=30 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymissileresistance target=1 timing=2 parameter1=30 END
	WRITE_BYTE minwisdom 25
	SAY IDENTIFIED_DESC @4652

PRINT @115

COPY_EXISTING ~chan02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~mechan02~ END
	SAY IDENTIFIED_DESC @4804

COPY_EXISTING ~chan03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymeleedamage target=1 timing=2 parameter1=3 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mechan03~ END
	SAY IDENTIFIED_DESC @4806

COPY_EXISTING ~chan05.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyfireresistance target=1 timing=2 parameter1=25 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycoldresistance target=1 timing=2 parameter1=25 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyelecresistance target=1 timing=2 parameter1=25 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyacidresistance target=1 timing=2 parameter1=25 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicfireresistance target=1 timing=2 parameter1=25 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagiccoldresistance target=1 timing=2 parameter1=25 END
	SAY IDENTIFIED_DESC @4810

COPY_EXISTING ~chan06.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=disablespellcasting END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=0 parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=2 parameter2=modifyacvsslashing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=5 parameter2=modifyacvscrushing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifydexterity target=1 timing=2 parameter1=6 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyconstitution target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~spwi513~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~meco013~ END
	WRITE_LONG weight 1
	WRITE_SHORT minstrength 1
	SAY IDENTIFIED_DESC @4812

COPY_EXISTING ~chan07.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush04~ END
	SAY IDENTIFIED_DESC @4814

COPY_EXISTING ~chan08.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifystrength target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifywisdom target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=regeneration target=1 timing=2 parameter1=12 parameter2=3 END
	SAY IDENTIFIED_DESC @4816

COPY_EXISTING ~chan12.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyfindtraps END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyhideinshadows END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifymovesilently END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyopenlocks END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifypickpockets END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 parameter2=modifyacvscrushing END
	SAY IDENTIFIED_DESC @4824

COPY_EXISTING ~mechan13.itm~ ~override~
	SAY NAME2 @4825
	SAY IDENTIFIED_DESC @4826

COPY_EXISTING ~mechan13.itm~ ~override/chan13.itm~

COPY_EXISTING ~chillt.itm~ ~override~
	WRITE_LONG weaponenchantment 6
	WRITE_SHORT firstheaderthac0 10
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncriticalhit target=1 timing=2 parameter2=thisweapononly STR_VAR resource=~spwi117a~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspellonbackstab target=1 timing=2 parameter2=thisweapononly STR_VAR resource=~spwi117a~ END
	LPF DELETE_EFFECT INT_VAR check_headers=1 match_opcode=useefffile STR_VAR match_resource=~spwi117a~ END

PRINT @116

COPY_EXISTING ~clck03.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=icon_index_mewi353 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=mirrorimage target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=translucency target=1 timing=2 parameter1=255 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~MECLCK3D~ END
	WRITE_LONG price 12000
	SAY IDENTIFIED_DESC @5006

COPY_EXISTING ~clck04.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ALTER_ITEM_HEADER INT_VAR match_icon=1 charges=3 drained=itemrecharges flag_recharge=1 STR_VAR icon=~ICLCK04~ END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=2 timing=9 parameter1=1 parameter2=2 STR_VAR resource=~SPCL643~ END
	SAY IDENTIFIED_DESC @5008

COPY_EXISTING ~clck08.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 duration_high=60 END
	SAY IDENTIFIED_DESC @5016

COPY_EXISTING ~clck09.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifycoldresistance parameter1=30 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=50 parameter2=bonuscold END
	SAY IDENTIFIED_DESC @5018

COPY_EXISTING ~clck10.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyfireresistance parameter1=50 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=30 parameter2=bonusfire END
	SAY IDENTIFIED_DESC @5020

COPY_EXISTING ~clck11.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyelectricityresistance parameter1=40 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=40 parameter2=bonuselectricity END
	SAY IDENTIFIED_DESC @5022

COPY_EXISTING ~clck12.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsdeath END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 parameter2=modifyacvsslashing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 parameter2=modifyacvspiercing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifysavevsdeath target=1 timing=2 parameter1=10 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=2 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=2 parameter1=1 parameter2=2 STR_VAR resource=~meclck12~ END
	SAY IDENTIFIED_DESC @5024

COPY_EXISTING ~meclck12.eff~ ~override~
	WRITE_LONG effparameter2 splprot_canbackstab

COPY_EXISTING ~clck13.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsbreath END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=5 parameter2=modifyacvsmissile END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifysavevsbreath target=1 timing=2 parameter1=10 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=modifyfatigue END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=modifyintoxication END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=slow END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=sleep END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=attacknearestcreature END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=403 target=1 timing=2 STR_VAR resource=~MENOPUSH~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=14 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=39 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=41 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~medagg63~ END //Dagger of Rage effect
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~mems023~ END //Blood Rage
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~mems056~ END //Berserking Gaze
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~spin695~ END //Wing Buffet
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~mepull02~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~spwi312~ END //Wizard Slow
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~mems035~ END //Dog Slow
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~mems021~ END //Exhaust
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyduration target=1 timing=2 parameter1=130 parameter2=0 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyduration target=1 timing=2 parameter1=130 parameter2=1 END
	SAY IDENTIFIED_DESC @5026

COPY_EXISTING ~clck14.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevspolymorph END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=5 parameter2=modifyacvscrushing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifysavevspolymorph target=1 timing=2 parameter1=10 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=silence END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=deafness END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=spellfailure END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=34 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=83 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=112 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=401 target=1 timing=2 parameter1=9 parameter2=0 special=669 END
	SAY IDENTIFIED_DESC @5028

COPY_EXISTING ~clck15.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyac parameter1=0 END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=auracleansing target=1 timing=2 parameter2=1 END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastingtime target=1 timing=2 parameter1=(0 - 4) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastinglevel target=1 timing=2 parameter1=5 parameter2=wizard END
	SAY IDENTIFIED_DESC @5030

COPY_EXISTING ~clck16.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifymagicresistance parameter1=25 END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyduration target=1 timing=2 parameter1=300 parameter2=wizard END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastingtime target=1 timing=2 parameter1=(0 - 2) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastinglevel target=1 timing=2 parameter1=5 parameter2=wizard END
	SAY IDENTIFIED_DESC @5032

COPY_EXISTING ~clck17.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifysavevsbreath parameter1=5 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifysavevsdeath parameter1=5 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifysavevswand parameter1=5 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifysavevsspell parameter1=5 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifysavevspolymorph parameter1=5 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyallsaves parameter1=5 END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastinglevel target=1 timing=2 parameter1=10 parameter2=wizard END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastingtime target=1 timing=2 parameter1=(0 - 4) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycastinglevel target=1 timing=2 parameter1=5 parameter2=wizard END
	SAY IDENTIFIED_DESC @5034

COPY_EXISTING ~clck20.itm~ ~override~
	LPF DELETE_ITEM_HEADER INT_VAR header_type=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=4 parameter2=modifyacvsmissiles END
	SAY IDENTIFIED_DESC @5040

COPY_EXISTING ~clck30.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=setcolor END

PRINT @117

COPY_EXISTING ~dagg02.itm~ ~override~
	READ_LONG unusability daggerunusability //This is used later for Balduran's Butter Knife
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=2 parameter1=3 parameter2=1 END
	SAY IDENTIFIED_DESC @5204

COPY_EXISTING ~dagg03.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=modifyattacksperround target=1 timing=0 duration=6 parameter1=1 END
	SAY IDENTIFIED_DESC @5206

COPY_EXISTING ~dagg04.itm~ ~override~
	WRITE_SHORT firstheaderrange 1000
	SAY IDENTIFIED_DESC @5208

COPY_EXISTING ~dagg09.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=backstabhiteffect target=1 timing=2 STR_VAR resource=~medagg09~ END
	SAY IDENTIFIED_DESC @5218

COPY_EXISTING ~medagg11.itm~ ~override/dagg11.itm~

COPY_EXISTING ~medagg15.itm~ ~override~
	SAY NAME2 @5229
	SAY IDENTIFIED_DESC @5230

COPY_EXISTING ~medagg15.itm~ ~override/dagg15.itm~

COPY_EXISTING ~medagg16.itm~ ~override~
	SAY NAME2 @5231
	SAY IDENTIFIED_DESC @5232

COPY_EXISTING ~medagg16.itm~ ~override/dagg16.itm~

PRINT @118

COPY_EXISTING ~dart02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhitbonus target=1 timing=2 parameter1=10 parameter2=1 END
	SAY IDENTIFIED_DESC @5404

COPY_EXISTING ~dart04.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR type=2 opcode=castspell target=2 timing=9 parameter1=1 parameter2=2 STR_VAR resource=~medart04~ END
	WRITE_LONG weaponenchantment 1
	SAY IDENTIFIED_DESC @5408

COPY_EXISTING ~dart05.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR type=2 opcode=summoncreature target=2 timing=0 duration=12 parameter2=5 STR_VAR resource=~measpsu~ END
	SAY IDENTIFIED_DESC @5410

COPY_EXISTING ~dart09.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 savingthrow=none END
	SAY IDENTIFIED_DESC @5418

COPY_EXISTING ~dart10.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 savingthrow=none END
	SAY IDENTIFIED_DESC @5420

COPY_EXISTING ~dart11.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 savingthrow=none END
	SAY IDENTIFIED_DESC @5422

COPY_EXISTING ~eneblade.itm~ ~override~
	WRITE_SHORT firstheaderprojectile meblade1

PRINT @119

COPY_EXISTING ~famcat.itm~ ~override~
	SAY IDENTIFIED_DESC @2901

COPY_EXISTING ~famdust.itm~ ~override~
	SAY IDENTIFIED_DESC @2902

COPY_EXISTING ~famfair.itm~ ~override~
	SAY IDENTIFIED_DESC @2903

COPY_EXISTING ~famfer.itm~ ~override~
	SAY IDENTIFIED_DESC @2904

COPY_EXISTING ~famimp.itm~ ~override~
	SAY IDENTIFIED_DESC @2905

COPY_EXISTING ~fampsd.itm~ ~override~
	SAY IDENTIFIED_DESC @2906

COPY_EXISTING ~famquas.itm~ ~override~
	SAY IDENTIFIED_DESC @2907

COPY_EXISTING ~famrab.itm~ ~override~
	SAY IDENTIFIED_DESC @2908

COPY_EXISTING ~fblade.itm~ ~override~ //Flame Blade
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyproficiency target=1 timing=2 parameter1=9 parameter2=95 END
	WRITE_BYTE weaponproficiency 95 //Uses scimitar proficiency
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=402 target=2 timing=0 parameter1=0x5F020803 parameter2=firedamage savingthrow=0x30000 STR_VAR resource=~EXDAMAGE~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncriticalhit target=1 timing=2 parameter2=1 STR_VAR resource=~mefblade~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspellonbackstab target=1 timing=2 parameter2=1 STR_VAR resource=~mefblbs1~ END
	WRITE_LONG weaponenchantment 3
	WRITE_SHORT firstheaderdamagetype none
	WRITE_SHORT firstheaderdamagebonus 0
	WRITE_SHORT firstheaderthac0 3
	WRITE_BYTE firstheadernumdice 0
	WRITE_BYTE firstheaderdicesize 0

COPY_EXISTING ~fireseed.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyproficiency target=1 timing=2 parameter1=9 parameter2=106 END
	WRITE_BYTE weaponproficiency 106 //Uses dart proficiency
	WRITE_SHORT firstheaderdamagetype none
	WRITE_SHORT firstheaderdamagebonus 0
	WRITE_SHORT firstheaderthac0 32767
	WRITE_BYTE firstheadernumdice 0
	WRITE_BYTE firstheaderdicesize 0
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_ITEM_EFFECT INT_VAR type=2 opcode=402 target=2 timing=0 parameter1=0x6A020800 parameter2=firedamage savingthrow=0x8040000 STR_VAR resource=~EXDAMAGE~ END

COPY_EXISTING ~ghost.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=slow END

COPY_EXISTING ~ghoult.itm~ ~override~
	WRITE_LONG weaponenchantment 3
	WRITE_SHORT firstheaderthac0 15
	LPF ALTER_ITEM_HEADER INT_VAR charges=1 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_savingthrow=vsspell savingthrow=vsdeath END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncriticalhit target=1 timing=2 parameter2=thisweapononly STR_VAR resource=~mecritgt~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspellonbackstab target=1 timing=2 parameter2=thisweapononly STR_VAR resource=~mecritgt~ END

PRINT @120

COPY_EXISTING ~halb02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=2 parameter2=setbaseac END
	SAY IDENTIFIED_DESC @5604

COPY_EXISTING ~halb03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyluck target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=32 END
	WRITE_BYTE firstheaderspeedfactor 6
	WRITE_SHORT firstheaderdamagebonus 3
	WRITE_SHORT firstheaderthac0 3
	WRITE_LONG weaponenchantment 3
	WRITE_LONG weight 10
	SAY IDENTIFIED_DESC @5606

COPY_EXISTING ~mehalb07.itm~ ~override~
	SAY NAME2 @5613
	SAY IDENTIFIED_DESC @5614

COPY_EXISTING ~mehalb07.itm~ ~override/halb07.itm~

COPY_EXISTING ~halb13.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=sleep target=2 timing=0 duration=6 parameter2=wakewhendamaged savingthrow=vsdeath END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=wingbuffet target=2 timing=0 duration=1 parameter1=100 parameter2=2 END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=setcolor END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=29 parameter2=16 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=124 parameter2=20 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=66 parameter2=21 END
	WRITE_BYTE firstheaderspeedfactor 9
	WRITE_BYTE firstheadernumdice 1
	WRITE_BYTE firstheaderdicesize 14
	WRITE_SHORT firstheaderdamagetype 8
	WRITE_SHORT firstheaderdamagebonus 6
	WRITE_SHORT firstheaderthac0 6
	WRITE_SHORT minstrength 20
	WRITE_LONG weaponenchantment 6
	WRITE_LONG weight 50
	WRITE_ASCII icon ~mehalb13~ #8
	WRITE_ASCII firstheadericon ~mehalb13~ #8
	SAY NAME2 @5625
	SAY IDENTIFIED_DESC @5626

PRINT @121

COPY_EXISTING ~hamm02.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=mirrorimage target=1 timing=0 duration=12 parameter1=1 END
	SAY IDENTIFIED_DESC @5804

COPY_EXISTING ~hamm03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonuscrushing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonuselec END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=9 parameter1=1 parameter2=elecdamage dicenumber=1 dicesize=4 END
	SAY IDENTIFIED_DESC @5806

COPY_EXISTING ~hamm04.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=enchantmentvscreaturetype special=21 END
	SAY NAME2 @5807
	SAY IDENTIFIED_DESC @5808

COPY_EXISTING ~mehamm08.itm~ ~override~
	SAY NAME2 @5815
	SAY IDENTIFIED_DESC @5816

COPY_EXISTING ~mehamm08.itm~ ~override/hamm08.itm~

COPY_EXISTING ~hamm13.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=nondetection END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=displayportraiticon match_parameter2=31 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=2 timing=9 parameter2=wingbuffet END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=wingbuffet END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=wingbuffet target=2 timing=0 duration=6 resist_dispel=1 parameter1=100 parameter2=2 END
	WRITE_ASCII icon ~mehamm13~ #8
	WRITE_ASCII firstheadericon ~mehamm13~ #8
	WRITE_LONG price 20000
	WRITE_LONG weaponenchantment 3
	WRITE_BYTE firstheaderspeedfactor 1
	WRITE_BYTE firstheadernumdice 2
	WRITE_SHORT firstheaderthac0 3
	WRITE_SHORT firstheaderdamagebonus 4
	SAY NAME2 @5825
	SAY IDENTIFIED_DESC @5826

PRINT @122

COPY_EXISTING ~helm05.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=icon_index_mewi203 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=blindness END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=8 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromstring target=1 timing=2 parameter1=stringblinded END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=invisibilitydetection target=1 timing=2 parameter2=1 END
	WRITE_LONG price 5000
	SAY NAME2 @6009
	SAY IDENTIFIED_DESC @6010


COPY_EXISTING ~helm07.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifymaxhp END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifybasethac0 END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsdeath END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevswand END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevspolymorph END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsbreath END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsspell END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymaxhp target=1 timing=2 parameter1=15 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifybasethac0 target=1 timing=2 parameter1=3 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyallsaves target=1 timing=2 parameter1=3 END
	SAY IDENTIFIED_DESC @6014

COPY_EXISTING ~helm18.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=regeneration END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=regeneration target=1 timing=2 parameter1=2 parameter2=3 END
	SAY IDENTIFIED_DESC @6036

COPY_EXISTING ~helm19.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=2 END
	SAY IDENTIFIED_DESC @6038

COPY_EXISTING ~helm20.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifybasethac0 END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifymaxhp END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifybasethac0 target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymaxhp target=1 timing=2 parameter1=120 parameter2=2 END
	SAY IDENTIFIED_DESC @6040

COPY_EXISTING ~mejellmu.itm~ ~override/jellmu1.itm~ ~mejellfs.itm~ ~override/jellmu2.itm~ ~mejellgy.itm~ ~override/oozegr1.itm~ ~mejelloc.itm~ ~override/jelloc1.itm~ ~meschlum.itm~ ~override/schlum1.itm~

PRINT @123

COPY_EXISTING ~leat02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyattacksperround target=1 timing=2 parameter1=6 END
	SAY IDENTIFIED_DESC @6204

COPY_EXISTING ~leat03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=2 parameter1=20 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=2 parameter1=20 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=2 parameter1=20 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymissileresistance target=1 timing=2 parameter1=20 END
	SAY IDENTIFIED_DESC @6206

COPY_EXISTING ~leat05.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifythac0 target=1 timing=2 parameter1=4 END
	SAY IDENTIFIED_DESC @6210

COPY_EXISTING ~leat06.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=1 parameter2=modifyacvspiercing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=2 parameter2=modifyacvsslashing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=(0 - 12) parameter2=modifyacvsmissile END
	SAY NAME2 @6211
	SAY IDENTIFIED_DESC @6212

COPY_EXISTING ~leat07.itm~ ~override~
	READ_LONG itemflags flagsleat07
	flagsleat07 |= 0x2000000
	WRITE_LONG itemflags flagsleat07 //Makes the armor protect the wearer from critical hits
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=2 parameter2=1 END
	SAY IDENTIFIED_DESC @6214

COPY_EXISTING ~leat08.itm~ ~override~
	READ_LONG unusability unusabilityleat08
	unusabilityleat08 &= 0xFFDFFBFF
	WRITE_LONG unusability unusabilityleat08 //Makes the armor usable by rangers and cleric-rangers
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyhideinshadows END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyhideinshadows target=1 timing=2 parameter1=30 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classthief parameter2=idsclass STR_VAR resource=~meback1~ END
	SAY IDENTIFIED_DESC @6216

COPY_EXISTING ~leat09.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=0 parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=(0 - 2) parameter2=modifyacvspiercing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=(0 - 2) parameter2=modifyacvsmissile END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffilewhileontype target=1 timing=2 parameter2=28 STR_VAR resource=~meei010~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffilewhileontype target=1 timing=2 parameter2=28 STR_VAR resource=~meei011~ END
	WRITE_LONG price 14000
	WRITE_LONG weight 1
	WRITE_SHORT minstrength 1
	SAY NAME2 @6217
	SAY IDENTIFIED_DESC @6218

COPY_EXISTING ~leat10.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=6 parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=1 parameter2=modifyacvspiercing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=2 parameter2=modifyacvsmissile END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 parameter2=modifyacvscrushing END
	SAY IDENTIFIED_DESC @6220

COPY_EXISTING ~leat11.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=2 parameter1=(0 - 20) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=2 parameter1=(0 - 20) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=2 parameter1=(0 - 20) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymissileresistance target=1 timing=2 parameter1=(0 - 20) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonusslashing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonuspiercing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonuscrushing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonusmissile END
	SAY IDENTIFIED_DESC @6222

COPY_EXISTING ~meleat12.itm~ ~override~
	SAY NAME2 @6223
	SAY IDENTIFIED_DESC @6224

COPY_EXISTING ~meleat12.itm~ ~override/leat12.itm~

COPY_EXISTING ~meleat15.itm~ ~override~
	SAY NAME2 @6229
	SAY IDENTIFIED_DESC @6230

COPY_EXISTING ~meleat15.itm~ ~override/leat15.itm~

COPY_EXISTING ~leat25.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=~modifymovesilently~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classrangerall parameter2=classranger STR_VAR resource=~meleat25~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classrangerall parameter2=classranger STR_VAR resource=~meauracl~ END
	WRITE_ASCII icon ~meleat25~ #8
	SAY NAME2 @6249
	SAY IDENTIFIED_DESC @6250

COPY_EXISTING ~mage01.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=invisibility END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspell target=1 timing=2 parameter1=1 parameter2=1 STR_VAR resource=~meininvs~ END

COPY_EXISTING ~magebrac.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=castspell END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspell target=1 timing=2 parameter1=1 parameter2=1 STR_VAR resource=~mems045~ END

PRINT @124

COPY_EXISTING ~misc1a.itm~ ~override~ //Durlag's Tower bottle of wine
	WRITE_SHORT category 9 //Now it counts as a potion
	READ_LONG itemflags ulgiash
	ulgiash|=0x40 //Now it counts as a magic item
	WRITE_LONG itemflags ulgiash
	LPF ADD_ITEM_HEADER INT_VAR type=headermagical target=caster required_id=1 location=itemslots speed=0 charges=0 STR_VAR icon=~imisc1a~ END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=modifycurrenthp target=1 timing=1 parameter1=10 END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=modifyintoxication target=1 timing=1 parameter1=40 END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=displaystring target=1 timing=1 parameter1=gulp END
	SAY UNIDENTIFIED_DESC #20901
	SAY NAME2 @2910
	SAY IDENTIFIED_DESC @2911

COPY_EXISTING ~misc1b.itm~ ~override~
	WRITE_SHORT category 16 //Now it counts as a dagger
	WRITE_ASCII appearance ~DD~ #2 //Dagger appearance
	WRITE_BYTE weaponproficiency 96 //Dagger proficiency
	LPF ADD_ITEM_HEADER INT_VAR type=headermelee location=weaponslots speed=2 dicesize=2 dicenumber=1 damage_type=typeslashing flags=strengthbonus overhand=50 backhand=50 STR_VAR icon=~imisc1b~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=1 parameter2=16 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=3 parameter2=20 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=105 parameter2=21 END
	READ_LONG itemflags ulgiash
	ulgiash|=0x100 //Now it counts as a silver weapon
	WRITE_LONG itemflags ulgiash
	WRITE_LONG unusability daggerunusability
	WRITE_SHORT minstrength 3
	SAY IDENTIFIED_DESC @2912

COPY_EXISTING ~misc1h.itm~ ~override~ //Durlag's Tower gong mallet
	WRITE_SHORT category 17 //Now it counts as a mace
	WRITE_ASCII appearance ~MC~ #2 //Normal mace appearance
	WRITE_BYTE weaponproficiency 101 //Mace proficiency
	WRITE_LONG price 3000
	READ_LONG itemflags ulgiash
	ulgiash|=0x40 //Now it counts as a magic item
	ulgiash&=0xFFFFFFFE //Now it is no longer unsellable
	WRITE_LONG itemflags ulgiash
	WRITE_LONG unusability maceunusability
	WRITE_LONG enchantment 4
	WRITE_SHORT minstrength 8
	WRITE_BYTE mincharisma 18
	LPF ADD_ITEM_HEADER INT_VAR type=headermelee location=weaponslots speed=3 dicesize=6 dicenumber=1 damage=5 thaco=4 damage_type=typecrushing flags=strengthbonus overhand=50 backhand=50 STR_VAR icon=~imisc1h~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=panic target=2 timing=0 duration=6 savingthrow=vswand savebonus=4 END
	SAY NAME2 @2913
	SAY IDENTIFIED_DESC @2914

COPY_EXISTING ~misc1j.itm~ ~override~ //Durlag's Tower glittering beljuril
	READ_LONG itemflags ulgiash
	ulgiash|=0x40 //Now it counts as a magic item
	WRITE_LONG itemflags ulgiash
	LPF ADD_ITEM_HEADER INT_VAR type=headermagical target=livingactor required_id=1 location=itemslots speed=0 charges=1 depletion=itemrecharges flags=rechargeafterresting projectile=65 STR_VAR icon=~imisc1j~ END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=charm1 target=2 timing=0 duration=600 parameter1=generalhumanoid parameter2=1002 savingthrow=vswands END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=charm1 target=2 timing=0 duration=600 parameter1=generalgianthumanoid parameter2=1002 savingthrow=vswands END
	SAY IDENTIFIED_DESC @2915

COPY_EXISTING ~misc2p.itm~ ~override~
	LPF DELETE_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=useefffile match_parameter1=raceelf match_parameter2=idsrace END
	LPF DELETE_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=useefffile match_parameter1=racehalfelf match_parameter2=idsrace END
	LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=0 multi_match=1 match_opcode=charm1 opcode=clearfogofwar parameter1=0 parameter2=0 END
	SAY IDENTIFIED_DESC @2916

COPY_EXISTING ~misc63.itm~ ~override~
	WRITE_LONG weight 400
	WRITE_ASCII icon ~memisc63~ #8
	SAY IDENTIFIED_DESC @6526

COPY_EXISTING ~memisc64.itm~ ~override/misc64.itm~
	SAY IDENTIFIED_DESC @6528

COPY_EXISTING ~misc86.itm~ ~override~
	WRITE_LONG price 150

COPY_EXISTING ~misc88.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_parameter1=10 parameter1=50 END
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_parameter1=2 parameter1=10 END
	LPF CLONE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyfindtraps opcode=modifyopenlocks END
	SAY IDENTIFIED_DESC @6576

COPY_EXISTING ~misc91.itm~ ~override~
	READ_LONG itemflags ulgiash
	ulgiash|=0x40 //Now counts as a magical item
	WRITE_LONG itemflags ulgiash
	WRITE_SHORT loretoidentify 50
	SAY UNIDENTIFIED_DESC #20908
	SAY IDENTIFIED_DESC @6582

COPY_EXISTING ~misc98.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifycurrenthp parameter1=18 parameter2=0 END
	SAY IDENTIFIED_DESC @6586

COPY_EXISTING ~morsword.itm~ ~override~
	WRITE_SHORT firstheaderrange 100
	LPF ADD_ITEM_EFFECT INT_VAR opcode=playsound target=2 timing=1 STR_VAR resource=~memsword~ END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=visualeffectbg2 target=2 timing=1 STR_VAR resource=~memsword~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 STR_VAR resource=~MEOVERTH~ END

COPY_EXISTING ~phanblad.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyproficiency target=1 timing=2 parameter1=9 parameter2=90 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 STR_VAR resource=~MEOVERTH~ END
	WRITE_BYTE weaponproficiency 90 //Uses longsword proficiency
	WRITE_SHORT firstheaderrange 1000

PRINT @125

COPY_EXISTING ~plat02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=drawuponholymight target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=135 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolorglowsolid target=1 timing=2 parameter1=0x603C0000 parameter2=0 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolorglowsolid target=1 timing=2 parameter1=0x603C0000 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolorglowsolid target=1 timing=2 parameter1=0x603C0000 parameter2=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolorglowsolid target=1 timing=2 parameter1=0x603C0000 parameter2=3 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolorglowsolid target=1 timing=2 parameter1=0x603C0000 parameter2=4 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolorglowsolid target=1 timing=2 parameter1=0x603C0000 parameter2=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolorglowsolid target=1 timing=2 parameter1=0x603C0000 parameter2=6 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~sppr214~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~spin103~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 parameter1=spellineffective STR_VAR resource=~meco093~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=2 STR_VAR resource=~sppr214~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=2 STR_VAR resource=~spin103~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=2 STR_VAR resource=~meco093~ END
	SAY IDENTIFIED_DESC @6604

COPY_EXISTING ~plat05.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=setcolor END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=254 parameter2=0 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=254 parameter2=4 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=254 parameter2=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racehuman parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=raceelf parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racehalfelf parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racehalforc parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racehalfling parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racedwarf parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racegnome parameter2=idsrace END
	WRITE_SHORT minstrength 18
	WRITE_BYTE mindexterity 18
	WRITE_BYTE minconstitution 18
	SAY IDENTIFIED_DESC @6610

COPY_EXISTING ~plat06.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=disablebutton END
	SAY IDENTIFIED_DESC ~Sheathed in the chitinous scales of the ankheg, this armor provides a greater degree of protection than traditional plate mail and is not susceptible to rust. As any world-weary adventurer will tell you, however, the best appreciated aspect of ankheg armor is its light weight and low encumbrance. Monsters come and go, but fatigue is a constant enemy.

STATISTICS:

Special:
- Thieving skills can be used without penalty

Armor Class: 1 (-2 vs. slashing, 0 vs. piercing and missile)
Requires:
 8 Strength

Weight: 25~

COPY_EXISTING ~plat08.itm~ ~override~
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyac match_parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=(0 - 1) parameter2=setbaseac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=2 parameter1=15 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=2 parameter1=15 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=2 parameter1=15 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymissileresistance target=1 timing=2 parameter1=15 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=403 target=1 timing=2 STR_VAR resource=~MENOPUSH~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 STR_VAR resource=~SPIN695~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 STR_VAR resource=~MEPULL02~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=stun END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromstring target=1 timing=2 parameter1=stringstunned END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=55 END
	SAY NAME2 @6615
	SAY IDENTIFIED_DESC @6616

COPY_EXISTING ~meplat10.itm~ ~override~
	SAY NAME2 @6619
	SAY IDENTIFIED_DESC @6620

COPY_EXISTING ~meplat10.itm~ ~override/plat10.itm~

COPY_EXISTING ~meplat14.itm~ ~override~
	SAY NAME2 @6627
	SAY IDENTIFIED_DESC @6628

COPY_EXISTING ~meplat14.itm~ ~override/plat14.itm~

COPY_EXISTING ~plat24.itm~ ~override~
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifystrength target=1 timing=2 parameter1=22 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyfireresistance target=1 timing=2 parameter1=150 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicfireresistance target=1 timing=2 parameter1=50 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=setcolor parameter1=33 END
	WRITE_ASCII icon ~meplat24~ #8
	SAY IDENTIFIED_DESC @6648

PRINT @126

COPY_EXISTING ~potn02.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot02~ END
	SAY NAME2 @6803
	SAY IDENTIFIED_DESC @6804

COPY_EXISTING ~potn03.itm~ ~override~
	WRITE_LONG unusabilityflags 0 //Can be used by anybody
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot03~ END
	SAY IDENTIFIED_DESC @6806

COPY_EXISTING ~potn04.itm~ ~override~
	WRITE_LONG unusabilityflags 0 //Can be used by anybody
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot04~ END
	SAY IDENTIFIED_DESC @6808

COPY_EXISTING ~potn05.itm~ ~override~
	WRITE_LONG unusabilityflags 0 //Can be used by anybody
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot05~ END
	SAY IDENTIFIED_DESC @6810

COPY_EXISTING ~potn06.itm~ ~override~
	WRITE_LONG unusabilityflags 0 //Can be used by anybody
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot06~ END
	SAY IDENTIFIED_DESC @6812

COPY_EXISTING ~potn07.itm~ ~override~
	WRITE_LONG unusabilityflags 0 //Can be used by anybody
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot07~ END
	SAY IDENTIFIED_DESC @6814

COPY_EXISTING ~potn08.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot08~ END
	SAY IDENTIFIED_DESC @6816

COPY_EXISTING ~potn09.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot09~ END
	SAY NAME2 @6817
	SAY IDENTIFIED_DESC @6818

COPY_EXISTING ~potn10.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot10~ END

COPY_EXISTING ~potn11.itm~ ~override~
	WRITE_LONG price 2500
	WRITE_LONG unusability 0 //Can be used by any class (but not the wizard slayer kit)
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot11~ END
	SAY NAME2 @6821
	SAY IDENTIFIED_DESC @6822

COPY_EXISTING ~potn12.itm~ ~override~
	WRITE_LONG unusabilityflags 0 //Can be used by anybody
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot12~ END
	SAY IDENTIFIED_DESC @6824

COPY_EXISTING ~potn13.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspellpoint target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot13~ END
	SAY IDENTIFIED_DESC @6826

COPY_EXISTING ~potn14.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot14~ END

COPY_EXISTING ~potn15.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot15~ END
	SAY IDENTIFIED_DESC @6830

COPY_EXISTING ~potn16.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot16~ END
	SAY IDENTIFIED_DESC @6832

COPY_EXISTING ~potn17.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot17~ END

COPY_EXISTING ~potn18.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot18~ END
	SAY NAME2 @6835
	SAY IDENTIFIED_DESC @6836

COPY_EXISTING ~potn19.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot19~ END
	SAY NAME2 @6837
	SAY IDENTIFIED_DESC @6838

COPY_EXISTING ~potn20.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot20~ END

COPY_EXISTING ~potn21.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot21~ END

COPY_EXISTING ~potn22.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot22~ END
	SAY NAME2 @6843
	SAY IDENTIFIED_DESC @6844

COPY_EXISTING ~potn23.itm~ ~override~
	WRITE_SHORT price 3000
	WRITE_SHORT mindexterity 15
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot23~ END
	SAY NAME2 @6845
	SAY IDENTIFIED_DESC @6846

COPY_EXISTING ~potn24.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot24~ END
	SAY IDENTIFIED_DESC @6848

COPY_EXISTING ~potn25.itm~ ~override~
	WRITE_SHORT price 400
	WRITE_ASCII icon ~mepotn25~ #8
	WRITE_ASCII firstheadericon ~mepotn25~ #8
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot25~ END
	SAY NAME2 @6849
	SAY IDENTIFIED_DESC @6850

COPY_EXISTING ~potn26.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspellpoint target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot26~ END
	SAY IDENTIFIED_DESC @6852

COPY_EXISTING ~potn27.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=presettarget timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot27~ END
	SAY IDENTIFIED_DESC @6854

COPY_EXISTING ~potn28.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot28~ END
	SAY NAME2 @6855
	SAY IDENTIFIED_DESC @6856

COPY_EXISTING ~potn29.itm~ ~override~
	WRITE_ASCII icon ~mepotn29~ #8
	WRITE_ASCII firstheadericon ~mepotn29~ #8
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot29~ END
	SAY NAME2 @6857
	SAY IDENTIFIED_DESC @6858

COPY_EXISTING ~potn30.itm~ ~override~
	WRITE_LONG price 800
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot30~ END
	SAY NAME2 @6859
	SAY IDENTIFIED_DESC @6860

COPY_EXISTING ~potn31.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot31~ END
	SAY NAME2 @6861
	SAY IDENTIFIED_DESC @6862

COPY_EXISTING ~potn32.itm~ ~override~
	WRITE_ASCII icon ~mepotn32~ #8
	WRITE_ASCII firstheadericon ~mepotn32~ #8
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot32~ END
	SAY NAME2 @6863
	SAY IDENTIFIED_DESC @6864

COPY_EXISTING ~potn33.itm~ ~override~
	WRITE_LONG price 3500
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot33~ END
	SAY IDENTIFIED_DESC @6866

COPY_EXISTING ~potn34.itm~ ~override~
	WRITE_LONG price 2500
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot34~ END
	SAY IDENTIFIED_DESC @6868

COPY_EXISTING ~potn35.itm~ ~override~
	WRITE_LONG price 5000
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot35~ END
	SAY IDENTIFIED_DESC @6870

COPY_EXISTING ~potn36.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot36~ END
	SAY IDENTIFIED_DESC @6872

COPY_EXISTING ~potn37.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot37~ END
	SAY NAME2 @6873
	SAY IDENTIFIED_DESC @6874

COPY_EXISTING ~potn38.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot38~ END

COPY_EXISTING ~potn39.itm~ ~override~
	WRITE_LONG price 3000
	WRITE_LONG unusabilityflags 0 //Can be used by anybody
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot39~ END
	SAY NAME2 @6877
	SAY IDENTIFIED_DESC @6878

COPY_EXISTING ~potn40.itm~ ~override~
	WRITE_SHORT price 8000
	WRITE_LONG unusability 0x20720800
	WRITE_ASCII icon ~mepotn40~ #8
	WRITE_ASCII firstheadericon ~mepotn40~ #8
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot40~ END
	SAY NAME2 @6879
	SAY IDENTIFIED_DESC @6880

COPY_EXISTING ~potn41.itm~ ~override~
	WRITE_SHORT price 4500
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot41~ END
	SAY IDENTIFIED_DESC @6882

COPY_EXISTING ~potn42.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot42~ END
	SAY IDENTIFIED_DESC @6884

COPY_EXISTING ~potn43.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot43~ END
	SAY NAME2 @6885
	SAY IDENTIFIED_DESC @6886

COPY_EXISTING ~potn44.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot44~ END
	SAY IDENTIFIED_DESC @6888

COPY_EXISTING ~potn45.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot45~ END

COPY_EXISTING ~potn46.itm~ ~override~
	WRITE_SHORT mindexterity 3
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=self timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mepot46~ END
	SAY NAME2 @6891
	SAY IDENTIFIED_DESC @6892

PRINT @127

COPY_EXISTING ~ring03.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_savingthrow=vswands savebonus=(0 - 3) END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 duration_high=60 END
	LPF ALTER_ITEM_HEADER INT_VAR charges=15 END
	SAY IDENTIFIED_DESC @7006

COPY_EXISTING ~ring08.itm~ ~override~
	READ_LONG unusability wizardryunusability
	WRITE_LONG price 4000
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=180 END //Now you can wear 2 rings of wizardry at once

COPY_EXISTING ~ring09.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=stun END
	SAY IDENTIFIED_DESC @7018

COPY_EXISTING ~ring21.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=icon_index_mewi203 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=blindness END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=8 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromstring target=1 timing=2 parameter1=stringblinded END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=invisibilitydetection target=1 timing=2 parameter2=1 END
	WRITE_LONG price 8500
	SAY IDENTIFIED_DESC @7042

COPY_EXISTING ~ring22.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classcleric parameter2=idsclass STR_VAR resource=~mering22~ END
	SAY IDENTIFIED_DESC @7044

COPY_EXISTING ~ring23.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=feeblemind END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromopcode target=1 timing=2 parameter2=panic END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromstring target=1 timing=2 parameter1=stringpanic END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=2 parameter2=36 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=37 END
	WRITE_LONG unusability wizardryunusability
	WRITE_ASCII icon ~iring08~ #8
	WRITE_ASCII descriptionimage ~cring08~ #8
	SAY IDENTIFIED_DESC @7046

COPY_EXISTING ~ring31.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=regeneration parameter1=3 parameter2=3 END
	SAY IDENTIFIED_DESC @7062

COPY_EXISTING ~ring34.itm~ ~override~
	LPF DELETE_ITEM_HEADER INT_VAR header_type=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~sppr102~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~sppr106~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~sppr113~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi103~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi104~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi105~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi106~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi112~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi116~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi118~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi119~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectspell target=1 timing=2 STR_VAR resource=~spwi125~ END
	WRITE_LONG price 1500
	SAY IDENTIFIED_DESC @7068

COPY_EXISTING ~ring40.itm~ ~override~
	WRITE_ASCII icon ~mering40~ #8
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=bonuswizardspells target=1 timing=2 parameter1=1 parameter2=0x10 END
	SAY IDENTIFIED_DESC @7080

COPY_EXISTING ~ring47.itm~ ~override~
	WRITE_ASCII icon ~mering47~ #8
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull04~ END
	SAY IDENTIFIED_DESC @7094

COPY_EXISTING_REGEXP ~ring9[4,5,8,9].itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=0 parameter2=2 STR_VAR resource=~meprt003~ END

COPY_EXISTING ~ringloup.itm~ ~override~ //Loup Garou ring
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=regeneration parameter1=1 parameter2=2 END
//	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromweapons new_opcode=403 parameter1=75 special=RESOLVE_STR_REF(@828) STR_VAR resource=~EXWEAPIN~ END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=protectionfromweapons END

COPY_EXISTING ~ringwolf.itm~ ~override~ //Greater Wolfwere ring
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=regeneration parameter1=1 parameter2=2 END
//	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromweapons new_opcode=403 parameter1=75 special=RESOLVE_STR_REF(@828) STR_VAR resource=~EXWEAPIN~ END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=protectionfromweapons END

COPY_EXISTING ~rsboot.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyac parameter1=3 END
	SAY IDENTIFIED_DESC @2918

COPY_EXISTING ~rsbrac.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=meleehiteffect target=1 timing=2 STR_VAR resource=~mersbrac~ END
	SAY IDENTIFIED_DESC @2919

COPY_EXISTING ~sblade.itm~ ~override~ //Dradeel's Moonblade
	WRITE_LONG weaponenchantment 6
	WRITE_SHORT firstheaderthac0 6
	WRITE_SHORT firstheaderdamage 6
	WRITE_BYTE firstheadernumdice 4
	WRITE_BYTE firstheaderdicesize 12
	WRITE_BYTE firstheaderspeedfactor 0
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castingfailure target=2 timing=0 duration=12 parameter1=100 parameter2=wizard END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castingfailure target=2 timing=0 duration=12 parameter1=100 parameter2=priest END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castingfailure target=2 timing=0 duration=12 parameter1=100 parameter2=innate END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=displayportraiticon target=2 timing=0 duration=12 parameter2=105 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyattacksperround target=1 timing=2 parameter1=2 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyac parameter1=9 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyfireresistance parameter1=99 END

PRINT @128

/*
COPY_EXISTING ~scrl07.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=presettarget timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mescrl07~ END
	SAY IDENTIFIED_DESC @7214
*/
COPY_EXISTING ~scrl09.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=presettarget timing=permanentuntildeath parameter1=1 parameter2=castinstantlyatspecifiedlevel STR_VAR resource=~mescrl09~ END
	SAY IDENTIFIED_DESC @7218

COPY_EXISTING_REGEXP ~scrl1[01234678].itm~ ~override~ //Curse scrolls
	LPF ALTER_ITEM_HEADER INT_VAR target=1 range=1 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_target=self target=presettarget END

COPY_EXISTING ~scrl1c.itm~ ~override~
	SAY IDENTIFIED_DESC @20218

COPY_EXISTING ~scrl1d.itm~ ~override~
	SAY IDENTIFIED_DESC @20301

COPY_EXISTING ~scrl1i.itm~ ~override~
	SAY IDENTIFIED_DESC @20306

COPY_EXISTING ~scrl1l.itm~ ~override~
	SAY NAME2 @19058
	SAY IDENTIFIED_DESC @20309

COPY_EXISTING ~scrl1n.itm~ ~override~
	SAY NAME1 @19059
	SAY IDENTIFIED_DESC @20311

COPY_EXISTING ~scrl1p.itm~ ~override~
	SAY IDENTIFIED_DESC @20313

COPY_EXISTING ~scrl1s.itm~ ~override~
	SAY IDENTIFIED_DESC @20316

COPY_EXISTING ~scrl1u.itm~ ~override~
	SAY IDENTIFIED_DESC @20401

COPY_EXISTING ~scrl2a.itm~ ~override~
	SAY NAME2 @19060
	SAY IDENTIFIED_DESC @20407

COPY_EXISTING ~scrl2d.itm~ ~override~
	SAY IDENTIFIED_DESC @20501

COPY_EXISTING ~scrl2g.itm~ ~override~
	SAY NAME2 @19061
	SAY IDENTIFIED_DESC @20504

COPY_EXISTING ~scrl56.itm~ ~override~
	SAY IDENTIFIED_DESC @21401

COPY_EXISTING ~scrl58.itm~ ~override~
	SAY IDENTIFIED_DESC @21403

COPY_EXISTING ~scrl5b.itm~ ~override~
	SAY IDENTIFIED_DESC @21406

COPY_EXISTING ~scrl5c.itm~ ~override~
	SAY IDENTIFIED_DESC @21407

COPY_EXISTING ~scrl5e.itm~ ~override~
	SAY IDENTIFIED_DESC @21507

COPY_EXISTING ~scrl5h.itm~ ~override~
	SAY NAME2 #26455

COPY_EXISTING ~scrl5i.itm~ ~override~
	SAY IDENTIFIED_DESC @20412

COPY_EXISTING ~scrl5n.itm~ ~override~
	SAY IDENTIFIED_DESC @20506

COPY_EXISTING ~scrl5o.itm~ ~override~
	SAY IDENTIFIED_DESC @20507

COPY_EXISTING ~scrl5p.itm~ ~override~
	SAY IDENTIFIED_DESC @20508

COPY_EXISTING ~scrl5q.itm~ ~override~
	SAY IDENTIFIED_DESC @20509

COPY_EXISTING ~scrl61.itm~ ~override~
	SAY IDENTIFIED_DESC @21502

COPY_EXISTING ~scrl67.itm~ ~override~
	SAY IDENTIFIED_DESC @20102

COPY_EXISTING ~scrl68.itm~ ~override~
	SAY IDENTIFIED_DESC @20103

COPY_EXISTING ~scrl6d.itm~ ~override~
	SAY IDENTIFIED_DESC @20123

COPY_EXISTING ~scrl6h.itm~ ~override~
	SAY IDENTIFIED_DESC @20319

COPY_EXISTING ~scrl6i.itm~ ~override~
	SAY IDENTIFIED_DESC @20320

COPY_EXISTING ~scrl6j.itm~ ~override~
	SAY IDENTIFIED_DESC @20321

COPY_EXISTING ~scrl6k.itm~ ~override~
	SAY IDENTIFIED_DESC @20322

COPY_EXISTING ~scrl6l.itm~ ~override~
	SAY IDENTIFIED_DESC @20324

COPY_EXISTING ~scrl6m.itm~ ~override~
	SAY IDENTIFIED_DESC @20417

COPY_EXISTING ~scrl6p.itm~ ~override~
	SAY IDENTIFIED_DESC @20420

COPY_EXISTING ~scrl6r.itm~ ~override~
	SAY IDENTIFIED_DESC @20423

COPY_EXISTING ~scrl6u.itm~ ~override~
	SAY IDENTIFIED_DESC @20513

COPY_EXISTING ~scrl6v.itm~ ~override~
	SAY IDENTIFIED_DESC @20514

COPY_EXISTING ~scrl6w.itm~ ~override~
	SAY IDENTIFIED_DESC @20515

COPY_EXISTING ~scrl6x.itm~ ~override~
	SAY IDENTIFIED_DESC @20516

COPY_EXISTING ~scrl6z.itm~ ~override~
	SAY IDENTIFIED_DESC @20518

COPY_EXISTING ~scrl70.itm~ ~override~
	SAY IDENTIFIED_DESC @20105

COPY_EXISTING ~scrl76.itm~ ~override~
	SAY NAME2 @19057
	SAY IDENTIFIED_DESC @20111

COPY_EXISTING ~scrl77.itm~ ~override~
	SAY IDENTIFIED_DESC @20112

COPY_EXISTING ~scrl79.itm~ ~override~
	SAY IDENTIFIED_DESC @20114

COPY_EXISTING ~scrl7b.itm~ ~override~
	SAY IDENTIFIED_DESC @20520

COPY_EXISTING ~scrl7c.itm~ ~override~
	SAY IDENTIFIED_DESC @20521

COPY_EXISTING ~mescrl7h.itm~ ~override~
	SAY IDENTIFIED_DESC @20604

COPY_EXISTING ~mescrl7h.itm~ ~override/scrl7h.itm~

COPY_EXISTING ~mescrl7l.itm~ ~override~
	SAY IDENTIFIED_DESC @20608

COPY_EXISTING ~mescrl7l.itm~ ~override/scrl7l.itm~

COPY_EXISTING ~mescrl7t.itm~ ~override~
	SAY IDENTIFIED_DESC @20616

COPY_EXISTING ~mescrl7t.itm~ ~override/scrl7t.itm~

COPY_EXISTING ~mescrl7u.itm~ ~override~
	SAY IDENTIFIED_DESC @20617

COPY_EXISTING ~mescrl7u.itm~ ~override/scrl7u.itm~

COPY_EXISTING ~scrl80.itm~ ~override~
	SAY IDENTIFIED_DESC @20115

COPY_EXISTING ~scrl81.itm~ ~override~
	SAY IDENTIFIED_DESC @20116

COPY_EXISTING ~scrl82.itm~ ~override~
	SAY IDENTIFIED_DESC @20117

COPY_EXISTING ~scrl87.itm~ ~override~
	SAY IDENTIFIED_DESC @20203

COPY_EXISTING ~scrl89.itm~ ~override~
	READ_BYTE 0x2D ulgiash
	ulgiash|=0x8 //Now it's unusable by invokers
	ulgiash&=0xFB //Now it's usable by illusionists
	WRITE_BYTE 0x2D ulgiash
	SAY IDENTIFIED_DESC @20205

COPY_EXISTING ~scrl8l.itm~ ~override~
	SAY NAME2 @19065
	SAY IDENTIFIED_DESC @20710

COPY_EXISTING ~scrl92.itm~ ~override~
	SAY NAME2 @19235
	SAY IDENTIFIED_DESC @20208

COPY_EXISTING ~scrl93.itm~ ~override~
	SAY IDENTIFIED_DESC @20209

COPY_EXISTING ~scrla8.itm~ ~override~
	SAY IDENTIFIED_DESC @20409

COPY_EXISTING ~scrlzz.itm~ ~override~
	READ_BYTE 0x2D ulgiash
	ulgiash|=0x1 //Now it's unusable by diviners
	WRITE_BYTE 0x2D ulgiash
	WRITE_ASCII firstheadericon ~mewi299a~ #8
	LPF ALTER_ITEM_HEADER STR_VAR icon=~mewi299a~ END
	SAY IDENTIFIED_DESC @20299

OUTER_SET i = 0
OUTER_SET itwo = 0
COPY_EXISTING_REGEXP ~sgrasp.*.itm~ ~override~
	WRITE_SHORT firstheaderthac0 10
	SAY NAME2 ~Shocking Grasp~
	LPF ALTER_ITEM_EFFECT INT_VAR check_globals=0 check_headers=1 match_opcode=damage parameter1=itwo END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncriticalhit target=1 timing=2 parameter2=thisweapononly STR_VAR resource= EVAL ~meshgr%i%~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspellonbackstab target=1 timing=2 parameter2=thisweapononly STR_VAR resource= EVAL ~meshgr%i%~ END
	i+=1
	itwo+=2

COPY_EXISTING_REGEXP ~shammr.*.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyproficiency target=1 timing=2 parameter1=9 parameter2=97 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromspell target=1 timing=2 STR_VAR resource=~MEOVERTH~ END
	WRITE_BYTE weaponproficiency 97 //Uses warhammer proficiency
	WRITE_SHORT firstheaderrange 1000

COPY_EXISTING ~shille.itm~ ~override~
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyproficiency target=1 timing=2 parameter1=9 parameter2=115 END
//	READ_LONG itemflags ulgiash
//	ulgiash|=0x300
//	WRITE_LONG itemflags ulgiash //Now the Shillelagh can hit creatures that require silver or cold iron weapons to hit
	WRITE_BYTE weaponproficiency 115 //Now it uses the club proficiency
	WRITE_LONG weaponenchantment 5
	WRITE_SHORT firstheaderthac0 5
	WRITE_SHORT firstheaderdamagebonus 5
	WRITE_BYTE firstheaderspeedfactor 0

PRINT @129

COPY_EXISTING ~shld02.itm~ ~override~ ~shld02a.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=2 parameter1=150 parameter2=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=195 END
	SAY IDENTIFIED_DESC @7404

COPY_EXISTING ~shld04.itm~ ~override~ ~shld04a.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=403 target=1 timing=2 parameter1=2 parameter2=0x4FDF STR_VAR resource=~EXDAMRED~ END
	SAY IDENTIFIED_DESC @7408

COPY_EXISTING ~shld05p.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_globals=1 check_headers=0 match_opcode=modifyconstitution parameter1=3 parameter2=0 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_globals=1 check_headers=0 match_opcode=modifysavevsdeath parameter1=10 parameter2=0 END
	WRITE_LONG price 9600
	SAY IDENTIFIED_DESC @2970

COPY_EXISTING ~shld06.itm~ ~override~ ~shld06a.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~MESHLD06~ END
	SAY IDENTIFIED_DESC @7412

COPY_EXISTING ~shld06p.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=setcolor END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=215 parameter2=32 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=126 parameter2=34 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=233 parameter2=37 END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=thac0vscreaturetype END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meshldre~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=(0 - 2) parameter2=modifyacvsmissiles END
	WRITE_SHORT minstrength 4
	WRITE_LONG weight 3
	WRITE_LONG price 14000
	WRITE_ASCII equippedappearance ~C0~ #2
	WRITE_ASCII icon ~meshldre~ #8
	WRITE_ASCII groundicon ~gsshld~ #8
	WRITE_ASCII descriptionimage ~cshld25~ #8
	SAY NAME2 @2971
	SAY IDENTIFIED_DESC @2972

COPY_EXISTING ~shld07p.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=auracleansing END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=acvscreaturetype END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=holdcreature1 END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=useefffile match_parameter2=idsgender END
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyac match_parameter2=modifyacvsmissiles parameter1=1 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=criticalhitbonus parameter1=2 END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=2 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~mesartes~ END
	WRITE_LONG unusability 0x605FFBCA //Usable by good rangers of any race
	WRITE_LONG price 24000
	WRITE_BYTE mindexterity 21
	WRITE_BYTE minwisdom 21
	WRITE_BYTE mincharisma 0
	SAY NAME2 @2973
	SAY IDENTIFIED_DESC @2974

COPY_EXISTING ~shld08p.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=castspelloncondition END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~metarlo1~ END //Magic Damage Fireshield effect on hit
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~metarlo2~ END //20% chance of going invisible on hit
	WRITE_LONG unusability 0x60725E80 //Usable by bards, mages, and mage multiclasses
	WRITE_LONG price 12000
	WRITE_BYTE minintelligence 25
	SAY IDENTIFIED_DESC @2976

COPY_EXISTING ~shld09p.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=bonuspriestspells END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifymaximumhp END
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyac match_parameter2=0 parameter1=3 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyduration target=1 timing=2 parameter1=150 parameter2=1 END
	WRITE_LONG unusability 0x606FFF6B //Usable by lawful good paladins
	WRITE_LONG price 12000
	WRITE_BYTE mincharisma 20
	WRITE_ASCII equippedappearance ~C6~ #2
	SAY NAME2 @2977
	SAY IDENTIFIED_DESC @2978

COPY_EXISTING ~shld17.itm~ ~override~
	READ_LONG itemflags ulgiash
	ulgiash|=0x2000000
	WRITE_LONG itemflags ulgiash
	SAY IDENTIFIED_DESC @7434

COPY_EXISTING ~shld19.itm~ ~override~ ~shld19a.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifydexterity target=1 timing=2 parameter1=2 END
	SAY IDENTIFIED_DESC @7438

COPY_EXISTING ~shld20.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifydexterity parameter1=25 parameter2=1 END
	SAY IDENTIFIED_DESC @7440

COPY_EXISTING ~shld28.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifystrength target=1 timing=2 parameter1=2 END
	SAY IDENTIFIED_DESC @7456

COPY_EXISTING ~shld29.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyconstitution target=1 timing=2 parameter1=2 END
	SAY IDENTIFIED_DESC @7458

COPY_EXISTING ~meshld30.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=403 parameter1=RESOLVE_STR_REF(@809) END
	SAY NAME2 @7459
	SAY IDENTIFIED_DESC @7460

COPY_EXISTING ~meshld30.itm~ ~override/shld30.itm~

COPY_EXISTING ~shld31a.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=setcolor END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=disablespellcasting END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifymagicresistance END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=163 parameter2=32 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=254 parameter2=34 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=254 parameter2=36 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=200 parameter2=37 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifythac0 target=1 timing=2 parameter1=(0 - 5) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicresistance target=1 timing=2 parameter1=25 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=disablespellcasting target=1 timing=2 parameter2=wizard END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=disablespellcasting target=1 timing=2 parameter2=priest END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=spellfailure target=1 timing=2 parameter1=100 parameter2=wizard END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=spellfailure target=1 timing=2 parameter1=100 parameter2=priest END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=83 END //spell failure
	WRITE_SHORT minstrength 22
	WRITE_LONG weight 50
	WRITE_ASCII icon ~meshldgo~ #8
	SAY NAME2 @7461
	SAY IDENTIFIED_DESC @7462

COPY_EXISTING ~shld32.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsspell END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsdeath END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevsbreath END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevswands END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifysavevspolymorph END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=setcolor parameter1=105 END
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyac match_parameter2=0 parameter1=4 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyacvscreaturetype target=1 timing=2 parameter1=alignmentmaskevil parameter2=idsalignment END
//	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyacvscreaturetype target=1 timing=2 parameter1=alignmentmaskevil parameter2=idsalignment END
	READ_LONG unusability ulgiash
	ulgiash|=0xa
	WRITE_LONG unusability ulgiash
	WRITE_SHORT mincharisma 25
	WRITE_LONG weight 5
	WRITE_ASCII icon ~meshld91~ #8
	WRITE_ASCII equippedappearance ~C6~ #2
	WRITE_ASCII groundicon ~glshld~ #8
	WRITE_ASCII descriptionimage ~cshld30~ #8
	SAY NAME2 @7463
	SAY IDENTIFIED_DESC @7464

COPY_EXISTING ~shld33.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=modifyconstitution parameter1=4 END
	SAY IDENTIFIED_DESC @7466

PRINT @130

COPY_EXISTING ~slng02.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyattacksperround END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyattacksperround target=1 timing=2 parameter1=7 parameter2=1 END
	SAY IDENTIFIED_DESC @7604

COPY_EXISTING ~slng03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhitbonus target=1 timing=2 parameter1=5 END
	SAY IDENTIFIED_DESC @7606

COPY_EXISTING ~meslng04.itm~ ~override~
	SAY NAME2 @7607
	SAY IDENTIFIED_DESC @7608

COPY_EXISTING ~meslng04.itm~ ~override/slng04.itm~

COPY_EXISTING ~meslng10.itm~ ~override~
	SAY NAME2 @7619
	SAY IDENTIFIED_DESC @7620

COPY_EXISTING ~meslng10.itm~ ~override/slng10.itm~

COPY_EXISTING ~slng11.itm~ ~override~
	WRITE_ASCII icon ~meslng11~ #8
	WRITE_ASCII firstheadericon ~meslng11~ #8
	WRITE_SHORT firstheaderthac0 30
	WRITE_BYTE firstheaderspeedfactor 9
	SAY IDENTIFIED_DESC @7622

PRINT @131

COPY_EXISTING_REGEXP ~sper.*.itm~ ~override~
	READ_SHORT firstheaderrange ulgiash
	PATCH_IF (ulgiash < 3) BEGIN
		ulgiash=3
		WRITE_SHORT firstheaderrange ulgiash
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~sper02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyattacksperround target=1 timing=2 parameter1=1 END
	SAY IDENTIFIED_DESC @7804

COPY_EXISTING ~sper03.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=1 timing=1 parameter1=20 parameter2=piercingdamage savingthrow=0x3000000 END //Bypasses mirror image and ignores difficulty
	WRITE_LONG weaponenchantment 20
	WRITE_SHORT firstheaderthac0 20
	WRITE_SHORT firstheaderdamage 20
	WRITE_BYTE firstheaderspeedfactor 0
	SAY NAME2 @7805
	SAY IDENTIFIED_DESC @7806

COPY_EXISTING ~sper05.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 parameter1=1 parameter2=1 STR_VAR resource=~mesper05~ END
	SAY IDENTIFIED_DESC @7810

COPY_EXISTING ~mesper06.itm~ ~override~
	SAY NAME2 @7811
	SAY IDENTIFIED_DESC @7812

COPY_EXISTING ~mesper06.itm~ ~override/sper06.itm~

PRINT @132

COPY_EXISTING ~staf02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=401 target=1 timing=2 parameter1=1 special=1 END
//	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=modifymagicresistance target=2 timing=0 duration=36 parameter1=(0 - 25) savingthrow=vswand savebonus=(0 - 4) END
	SAY IDENTIFIED_DESC @8004

COPY_EXISTING ~staf05.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=wingbuffet target=1 timing=0 duration=3 parameter1=80 parameter2=1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=wingbuffet target=2 timing=0 duration=3 parameter1=80 parameter2=2 END
	SAY IDENTIFIED_DESC @8010

COPY_EXISTING ~staf06.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhitbonus target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyluck target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycasterlevel target=1 timing=2 parameter1=1 parameter2=wizard END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycasterlevel target=1 timing=2 parameter1=1 parameter2=priest END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyallsaves target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifystrength target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifydexterity target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyconstitution target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyintelligence target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifywisdom target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycharisma target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyhideinshadows target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymovesilently target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifypickpockets target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyopenlocks target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyfindtraps target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifysettraps target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifydetectillusions target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymissileresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyfireresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycoldresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyelecresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyacidresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicfireresistance target=1 timing=2 parameter1=5 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagiccoldresistance target=1 timing=2 parameter1=5 END
	SAY IDENTIFIED_DESC @8012

COPY_EXISTING ~staf07.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classfighterall parameter2=idsclass STR_VAR resource=~messpra~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classfighterall parameter2=idsclass STR_VAR resource=~messprb~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classfighterall parameter2=idsclass STR_VAR resource=~messprc~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classthiefall parameter2=idsclass STR_VAR resource=~messprd~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classthiefall parameter2=idsclass STR_VAR resource=~messpre~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classpaladinall parameter2=idsclass STR_VAR resource=~messprf~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classpaladinall parameter2=idsclass STR_VAR resource=~messprg~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classclericall parameter2=idsclass STR_VAR resource=~messprh~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classclericall parameter2=idsclass STR_VAR resource=~messpri~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classmageall parameter2=idsclass STR_VAR resource=~messprj~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classdruidall parameter2=idsclass STR_VAR resource=~messprk~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classbardall parameter2=idsclass STR_VAR resource=~messprl~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=classrangerall parameter2=idsclass STR_VAR resource=~messprm~ END
	SAY IDENTIFIED_DESC @8014

COPY_EXISTING ~staf08.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifybasethac0 target=1 timing=2 parameter1=10 parameter2=1 END
	SAY IDENTIFIED_DESC @8016

COPY_EXISTING ~staf18.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=4 END
	READ_LONG itemflags ulgiash
	ulgiash|=0x2000000
	WRITE_LONG itemflags ulgiash //Now the staff protects against critical hits
	SAY IDENTIFIED_DESC @8036

COPY_EXISTING ~staf25.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=stoneskin target=2 timing=0 duration=2400 parameter1=1 END
	WRITE_LONG price 6000
	WRITE_LONG weaponenchantment 15
	WRITE_SHORT firstheaderthac0 15
	WRITE_SHORT firstheaderdamage 15
	WRITE_BYTE firstheaderspeedfactor 0
	SAY NAME2 @8049
	SAY IDENTIFIED_DESC @8050

COPY_EXISTING ~stafn1.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=9 probability1=19 parameter1=30 parameter2=3 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=1 timing=9 probability1=35 probability2=16 parameter1=30 parameter2=3 END
	SAY IDENTIFIED_DESC @2979

PRINT @133

COPY_EXISTING ~sw1h02.itm~ ~override~ ~comps02.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyallsaves target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=goodchant target=1 timing=2 parameter1=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=18 END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspell target=2 timing=1 parameter1=1 parameter2=2 STR_VAR resource=~mes1h02d~ END
	SAY IDENTIFIED_DESC @8204

COPY_EXISTING ~sw1h03.itm~ ~override~ ~comps03.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=racerakshasa parameter2=idsrace STR_VAR resource=~cdsw1h03~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=racelycanthrope parameter2=idsrace STR_VAR resource=~cdsw1h03~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=useefffile target=2 timing=1 parameter1=racedoppleganger parameter2=idsrace STR_VAR resource=~cdsw1h03~ END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=useefffile END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=enchantmentvscreaturetype END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=enchantmentvscreaturetype target=1 timing=2 parameter1=racerakshasa parameter2=idsrace special=10 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=enchantmentvscreaturetype target=1 timing=2 parameter1=racelycanthrope parameter2=idsrace special=10 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=enchantmentvscreaturetype target=1 timing=2 parameter1=racedoppleganger parameter2=idsrace special=10 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racerakshasa parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racerakshasa parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racelycanthrope parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racelycanthrope parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racedoppelganger parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=acvscreaturetype target=1 timing=2 parameter1=racedoppelganger parameter2=idsrace END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=eaanyone parameter2=idsea STR_VAR resource=~merakhit~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=eaanyone parameter2=idsea STR_VAR resource=~lycanhit~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=2 parameter1=eaanyone parameter2=idsea STR_VAR resource=~dopphit~ END
	SAY NAME2 @8205
	SAY IDENTIFIED_DESC @8206

COPY_EXISTING ~sw1h05.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 parameter1=1 parameter2=2 probability1=20 STR_VAR resource=~mes1h05d~ END
	SAY IDENTIFIED_DESC @8210

COPY_EXISTING ~sw1h06.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetcaster parameter2=13 special=2 STR_VAR resource=~mevarsi~ END
	WRITE_LONG weaponenchantment 1
	READ_BYTE firstheaderspeedfactor ulgiash
	ulgiash+=1
	WRITE_BYTE firstheaderspeedfactor ulgiash
	WRITE_BYTE firstheaderdamage 1
	WRITE_BYTE firstheaderthac0 1
	SAY NAME2 @8211
	SAY IDENTIFIED_DESC @8212

COPY_EXISTING ~sw1h08.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=powerwordsleep target=2 timing=1 savingthrow=vswand savebonus=(0 - 4) END
	SAY IDENTIFIED_DESC @8216

COPY_EXISTING ~sw1h09.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=20 parameter2=bonuspiercing END
	SAY IDENTIFIED_DESC @8218

COPY_EXISTING ~sw1h10.itm~ ~override~
	WRITE_LONG weaponenchantment 7
	WRITE_LONG weight 1
	WRITE_LONG price 16000
	WRITE_SHORT minstrength 2
	WRITE_SHORT firstheaderdamage 7
	WRITE_SHORT firstheaderthac0 7
	WRITE_BYTE firstheaderspeedfactor 0
	LPF ADD_ITEM_HEADER INT_VAR type=headermagical required_id=1 target=caster charges=1 depletion=itemrecharges flags=rechargeafterresting STR_VAR icon=~spcl916b~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=backstabeveryhit target=1 timing=0 duration=6 parameter2=1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=visualeffectbg2 target=1 timing=1 STR_VAR resource=spgrwhrl END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=displayportraiticon target=1 timing=0 duration=6 parameter2=156 END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=playsound target=1 timing=1 STR_VAR resource=~wwattack~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=playsound target=1 timing=3 duration=6 STR_VAR resource=~eff_e01~ END
	SAY NAME2 @8219
	SAY IDENTIFIED_DESC @8220

COPY_EXISTING ~sw1h13.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 parameter1=1 parameter2=1 STR_VAR resource=~mesw1h13~ END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyfireresistance END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyattacksperround target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyfireresistance target=1 timing=2 parameter1=99 END
	WRITE_LONG weaponenchantment 5
	WRITE_BYTE firstheaderspeedfactor 0
	WRITE_BYTE firstheaderdamage 5
	WRITE_BYTE firstheaderthac0 5
	SAY NAME2 @8225
	SAY IDENTIFIED_DESC @8226

COPY_EXISTING ~sw1h15.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyfireresistance END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyfireresistance target=1 timing=2 parameter1=75 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicfireresistance target=1 timing=2 parameter1=75 END
	WRITE_LONG weaponenchantment 5
	WRITE_BYTE firstheaderspeedfactor 0
	WRITE_BYTE firstheaderdamage 5
	WRITE_BYTE firstheaderthac0 5
	SAY NAME2 @8229
	SAY IDENTIFIED_DESC @8230

COPY_EXISTING ~sw1h16.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=3 END
	WRITE_LONG weaponenchantment 5
	WRITE_BYTE firstheaderspeedfactor 0
	WRITE_BYTE firstheaderdamage 5
	WRITE_BYTE firstheaderthac0 5
	SAY NAME2 @8231
	SAY IDENTIFIED_DESC @8232

COPY_EXISTING ~sw1h18.itm~ ~override~ ~comps18.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicresistance target=1 timing=2 parameter1=25 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=28 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=enchantmentvscreaturetype special=12 END
	WRITE_LONG weaponenchantment 6
	WRITE_BYTE firstheaderspeedfactor 0
	WRITE_BYTE firstheaderdamage 6
	WRITE_BYTE firstheaderthac0 6
	WRITE_LONG price 30000
	WRITE_LONG weight 9
	SAY IDENTIFIED_DESC @8236

COPY_EXISTING ~lycndam4.eff~ ~override~
	WRITE_LONG effparameter1 6

COPY_EXISTING ~lycnhit4.eff~ ~override~
	WRITE_LONG effparameter3 6

COPY_EXISTING ~sw1h22.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=slay target=2 timing=1 resist_dispel=1 dicenumber=2 parameter1=eaanyone parameter2=idsea END
	SAY IDENTIFIED_DESC @8244

COPY_EXISTING ~sw1h23.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=powerwordkill target=1 timing=1 resist_dispel=1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=powerwordkill target=2 timing=1 resist_dispel=1 END
	SAY IDENTIFIED_DESC @8246

COPY_EXISTING ~sw1h24.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=enchantmentvscreaturetype END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=useefffile END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=1 parameter1=4 parameter2=magicfiredamage END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycoldresistance target=1 timing=2 parameter1=50 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=25 END
	WRITE_LONG weaponenchantment 2
	WRITE_BYTE firstheaderspeedfactor 3
	WRITE_BYTE firstheaderdamage 2
	WRITE_BYTE firstheaderthac0 2
	WRITE_LONG price 18000
	SAY NAME2 @8247
	SAY IDENTIFIED_DESC @8248

COPY_EXISTING ~sw1h34.itm~ ~override~
	WRITE_LONG price 5000
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromportraiticon match_parameter2=137 END
	LPF ALTER_ITEM_HEADER INT_VAR header_type=headermelee dicenumber=4 damage_bonus=1 speed=10 END
	LPF ALTER_ITEM_HEADER INT_VAR header_type=headermagical STR_VAR icon=~spwi609b~ END
	LPF DELETE_EFFECT INT_VAR check_headers=1 check_globals=0 header_type=headermagical END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 STR_VAR resource=~spwi609~ END
	SAY IDENTIFIED_DESC @8268

COPY_EXISTING ~sw1h41.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=modifythac0 target=1 timing=0 duration=60 parameter1=2 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=modifythac0 target=2 timing=0 duration=60 parameter1=(0 - 2) END
	SAY IDENTIFIED_DESC @8282

COPY_EXISTING ~sw1h42.itm~ ~override~ ~comps42.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=damagetypebonus target=1 timing=2 parameter1=40 parameter2=bonusslashing END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=2 parameter1=(0 - 50) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=2 parameter1=(0 - 50) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=2 parameter1=(0 - 50) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymissileresistance target=1 timing=2 parameter1=(0 - 50) END
	SAY IDENTIFIED_DESC @8284

COPY_EXISTING ~sw1h43.itm~ ~override~
	WRITE_LONG price 150

COPY_EXISTING ~sw1h44.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyminimumdamage target=1 timing=2 parameter1=50 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=displayportraiticon target=1 timing=2 parameter2=81 END
	SAY IDENTIFIED_DESC @8288

COPY_EXISTING ~sw1h47.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyenchantment target=1 timing=2 parameter1=6 special=3 END
	SAY IDENTIFIED_DESC @8294

COPY_EXISTING ~sw1h49.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=2 parameter1=1 END
	SAY IDENTIFIED_DESC @8298

COPY_EXISTING ~mesw1h52.itm~ ~override~
	SAY NAME2 @8303
	SAY IDENTIFIED_DESC @8304

COPY_EXISTING ~mesw1h52.itm~ ~override/sw1h52.itm~

COPY_EXISTING ~sw1h55.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhitbonus target=1 timing=2 parameter1=2 parameter2=withthisweapon END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=criticalhiteffect target=1 timing=2 parameter2=withthisweapon STR_VAR resource=~mes1h55d~ END
	SAY IDENTIFIED_DESC @8310

COPY_EXISTING ~mesw1h74.itm~ ~override~
	SAY NAME2 @8347
	SAY IDENTIFIED_DESC @8348

COPY_EXISTING ~mesw1h74.itm~ ~override/sw1h74.itm~

COPY_EXISTING ~sw1h78.itm~ ~override~
	WRITE_BYTE firstheaderspeedfactor 0
	WRITE_BYTE firstheadernumdice 1
	WRITE_BYTE firstheaderdicesize 15
	WRITE_SHORT firstheaderdamagebonus 0
	WRITE_SHORT firstheaderthac0 3
	WRITE_SHORT minstrength 2
	WRITE_LONG weight 1
	WRITE_LONG weaponenchantment 0
	WRITE_LONG price 6700
	READ_LONG itemflags ulgiash
	ulgiash&=0xFFFFFFBF
	WRITE_LONG itemflags ulgiash //It is no longer a magical weapon
	WRITE_ASCII icon ~mesw1h78~ #8
	WRITE_ASCII firstheadericon ~mesw1h78~ #8
	SAY NAME1 @8355
	SAY NAME2 @8355
	SAY IDENTIFIED_DESC @8356

COPY_EXISTING ~sw1h79.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=setcolor match_parameter2=16 parameter1=254 END
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=setcolor match_parameter2=20 parameter1=126 END
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=setcolor match_parameter2=21 parameter1=105 END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=enchantmentvscreaturetype special=6 END
	WRITE_ASCII icon ~mesw1h79~ #8
	WRITE_ASCII firstheadericon ~mesw1h79~ #8
	SAY NAME2 @8357
	SAY IDENTIFIED_DESC @8358

COPY_EXISTING ~sw1p01.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=34 parameter2=16 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=35 parameter2=20 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=setcolor target=1 timing=2 parameter1=35 parameter2=21 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=petrification target=2 timing=1 probability1=14 savingthrow=vspolymorph savebonus=2 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=petrification target=1 timing=1 probability1=19 probability2=15 savingthrow=vspolymorph savebonus=2 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=poison target=2 timing=0 duration=12 parameter1=1 parameter2=2 probability1=31 probability2=20 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=poison target=1 timing=0 duration=12 parameter1=1 parameter2=2 probability1=35 probability2=32 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=2 timing=0 duration=12 parameter2=6 probability1=31 probability2=20 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=1 timing=0 duration=12 parameter2=6 probability1=35 probability2=32 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=1 parameter2=firedamage dicesize=1 dicenumber=12 probability1=41 probability2=36 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=1 timing=1 parameter2=firedamage dicesize=1 dicenumber=12 probability1=43 probability2=42 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=1 parameter2=colddamage dicesize=1 dicenumber=12 probability1=49 probability2=44 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=1 timing=1 parameter2=colddamage dicesize=1 dicenumber=12 probability1=51 probability2=50 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=1 parameter2=elecdamage dicesize=1 dicenumber=12 probability1=57 probability2=52 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=1 timing=1 parameter2=elecdamage dicesize=1 dicenumber=12 probability1=59 probability2=58 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=2 timing=1 parameter2=aciddamage dicesize=1 dicenumber=12 probability1=65 probability2=60 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damage target=1 timing=1 parameter2=aciddamage dicesize=1 dicenumber=12 probability1=67 probability2=66 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 parameter1=1 parameter2=2 probability1=70 probability2=68 STR_VAR resource=~spwi106~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 probability1=71 probability2=71 STR_VAR resource=~spwi106~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 parameter1=1 parameter2=2 probability1=74 probability2=72 STR_VAR resource=~sppr113~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 probability1=75 probability2=75 STR_VAR resource=~sppr113~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 parameter1=1 parameter2=2 probability1=78 probability2=76 STR_VAR resource=~sppr311~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 probability1=79 probability2=79 STR_VAR resource=~sppr311~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=disease target=2 timing=0 duration=120 parameter1=1 parameter2=1 probability1=82 probability2=80 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=disease target=1 timing=0 duration=120 parameter1=1 parameter2=1 probability1=83 probability2=83 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=2 timing=0 duration=120 parameter2=7 probability1=82 probability2=80 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=1 timing=0 duration=120 parameter2=7 probability1=83 probability2=83 savingthrow=vsdeath savebonus=(0 - 2) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=feeblemind target=2 timing=0 duration=12 probability1=88 probability2=84 savingthrow=vsspell END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=feeblemind target=1 timing=0 duration=12 probability1=87 probability2=87 savingthrow=vsspell END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=2 timing=0 duration=12 parameter2=48 probability1=86 probability2=84 savingthrow=vsspell END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=1 timing=0 duration=12 parameter2=48 probability1=87 probability2=87 savingthrow=vsspell END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=stun target=2 timing=0 duration=6 probability1=90 probability2=88 savingthrow=vsspell savebonus=(0 - 6) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=stun target=1 timing=0 duration=6 probability1=91 probability2=91 savingthrow=vsspell savebonus=(0 - 6) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=2 timing=0 duration=6 parameter2=55 probability1=90 probability2=88 savingthrow=vsspell savebonus=(0 - 6) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=displayportraiticon target=1 timing=0 duration=6 parameter2=55 probability1=91 probability2=91 savingthrow=vsspell savebonus=(0 - 6) END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=2 timing=1 parameter1=1 parameter2=2 probability1=94 probability2=92 STR_VAR resource=~medagg63~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 probability1=95 probability2=95 STR_VAR resource=~medagg63~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=slay target=2 timing=1 parameter1=eaanyone parameter2=idsea probability1=98 probability2=96 savingthrow=vsdeath savebonus=6 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=slay target=2 timing=1 parameter1=eaanyone parameter2=idsea probability1=99 probability2=99 savingthrow=vsdeath savebonus=6 END
	WRITE_LONG price 2500
	WRITE_ASCII icon ~mesw1p01~ #8
	WRITE_ASCII firstheadericon ~mesw1p01~ #8
	SAY NAME2 @2980
	SAY IDENTIFIED_DESC @2981

COPY_EXISTING ~sw1hseek.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeinvisibility1 target=2 timing=1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeinvisibility2 target=2 timing=1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeopcode target=2 timing=1 parameter1=(0 - 1) parameter2=mirrorimage1 END
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=removeopcode target=2 timing=1 parameter1=(0 - 1) parameter2=mirrorimage2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyproficiency target=1 timing=2 parameter1=9 parameter2=89 END
	WRITE_BYTE weaponproficiency 89
	SAY IDENTIFIED_DESC @2982

PRINT @134

COPY_EXISTING ~sw2h02.itm~ ~override~
	LPF ADD_ITEM_HEADER INT_VAR type=headermagical required_id=1 target=caster charges=1 depletion=itemrecharges flags=rechargeafterresting STR_VAR icon=~isw2h02~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=createweapon target=1 timing=0 duration=18 parameter2=1 resist_dispel=3 STR_VAR resource=~mesw2h02~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=visualeffectbg2 target=1 timing=0 duration=6 parameter2=1 resist_dispel=3 STR_VAR resource=~spcrtwpn~ END
	SAY IDENTIFIED_DESC @8404

COPY_EXISTING ~mesw2h02.itm~ ~override~
	SAY NAME2 @2987
	SAY IDENTIFIED_DESC @2988

COPY_EXISTING ~sw2h03.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyattacksperround target=1 timing=2 parameter1=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyac target=1 timing=2 parameter1=(0 - 6) END
	WRITE_BYTE firstheaderspeedfactor 4
	WRITE_SHORT firstheaderdamagebonus 6
	WRITE_SHORT firstheaderthac0 6
	WRITE_LONG weaponenchantment 6
	SAY NAME2 @8405
	SAY IDENTIFIED_DESC @8406

COPY_EXISTING ~sw2h05.itm~ ~override~
	WRITE_LONG weaponenchantment 5

COPY_EXISTING ~sw2h06.itm~ ~override~
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=freeaction END
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=modifymovementrate1 END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromstring match_parameter1=26018 END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromstring match_parameter1=26019 END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromopcode match_parameter2=haste1 END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromopcode match_parameter2=modifymovementrate1 END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromportraiticon match_parameter2=38 END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPWI305~ END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPRA301~ END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPIN572~ END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPIN828~ END
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=removeportraiticon match_parameter2=38 END
	SAY IDENTIFIED_DESC @8412

COPY_EXISTING ~sw2h07.itm~ ~override~ ~sw2h07a.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=damagetypebonus target=1 timing=0 duration=60 parameter1=5 parameter2=bonusslashing END
	WRITE_BYTE firstheaderspeedfactor 5
	WRITE_SHORT firstheaderdamagebonus 5
	WRITE_SHORT firstheaderthac0 5
	WRITE_LONG weaponenchantment 5
	WRITE_LONG price 10000
	SAY NAME2 @8413
	SAY IDENTIFIED_DESC @8414

COPY_EXISTING ~sw2h08.itm~ ~override~
	WRITE_SHORT firstheaderdamagebonus 12
	WRITE_SHORT firstheaderthac0 65528 //-8
	SAY IDENTIFIED_DESC @8416

COPY_EXISTING ~sw2h11.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicresistance target=1 timing=2 parameter1=20 END
	SAY IDENTIFIED_DESC @8422

COPY_EXISTING ~sw2h22.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=removegold parameter1=1000 END
	WRITE_BYTE firstheaderspeedfactor 8
	WRITE_SHORT firstheaderdamagetype 1 //Piercing
	WRITE_SHORT firstheaderdamagebonus 8
	WRITE_SHORT firstheaderthac0 2
	WRITE_LONG weaponenchantment 2
	WRITE_SHORT 0x9E 0
	WRITE_SHORT 0xA0 0
	WRITE_SHORT 0xA2 100 //Always does thrusting animation
	SAY NAME2 @8423
	SAY IDENTIFIED_DESC @8424

COPY_EXISTING ~sw2hd1.itm~ ~override~
	LPF DELETE_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=castspelloncondition STR_VAR match_resource=~OHDSW2~ END
	SAY IDENTIFIED_DESC @2983

COPY_EXISTING ~trollall.itm~ ~override~ //Shapechange Giant Troll weapon
	WRITE_SHORT firstheaderrange 2
	LPF DELETE_ITEM_EQEFFECT INT_VAR opcode_to_delete=regeneration END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=regeneration target=1 timing=2 parameter1=3 parameter2=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyfireresistance target=1 timing=2 parameter1=(0 - 100) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyacidresistance target=1 timing=2 parameter1=(0 - 100) END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifymagicfireresistance target=1 timing=2 parameter1=(0 - 100) END

COPY_EXISTING ~wa2robe.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=alignmentlawfulgood parameter2=idsalignment STR_VAR resource=~mevecna1~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=alignmentlawfulneutral parameter2=idsalignment STR_VAR resource=~mevecna1~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=alignmentneutralgood parameter2=idsalignment STR_VAR resource=~mevecna2~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=alignmenttrueneutral parameter2=idsalignment STR_VAR resource=~mevecna2~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=alignmentchaoticgood parameter2=idsalignment STR_VAR resource=~mevecna3~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=alignmentchaoticneutral parameter2=idsalignment STR_VAR resource=~mevecna3~ END
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=setcolor parameter1=254 END
	WRITE_ASCII equippedappearance ~3W~ #2
	WRITE_ASCII icon ~mewa2rob~ #8
	WRITE_ASCII groundicon ~gclck02~ #8
	WRITE_ASCII descriptionimage ~cclck12~ #8
	SAY NAME2 @2984
	SAY IDENTIFIED_DESC @2985

COPY_EXISTING ~mewa2shl.itm~ ~override~
	SAY NAME2 @2949
	SAY IDENTIFIED_DESC @2986

PRINT @135

COPY_EXISTING ~wand06.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=damage target=2 timing=9 parameter2=colddamage dicenumber=2 dicesize=6 END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=damage target=2 timing=9 parameter2=colddamage dicenumber=3 dicesize=6 savingthrow=vswands END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=slow target=2 timing=0 duration=60 savingthrow=vswands END
	SAY IDENTIFIED_DESC @8612

COPY_EXISTING ~wand09.itm~ ~override~
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=modifymaxhp END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=modifystrength END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=castingfailure END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ALTER_ITEM_EFFECT INT_VAR duration_high=2400 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~squirp~ END
//	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~SQUIRR~ resource=~MEPLYPHE~ END
	SAY IDENTIFIED_DESC @8618

COPY_EXISTING ~wand10.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR range=20 END
	LPF DELETE_ITEM_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_ITEM_EFFECT INT_VAR opcode=castspellpoint target=1 timing=1 parameter1=5 parameter2=2 STR_VAR resource=~spwi309~ END
	SAY IDENTIFIED_DESC @8620

COPY_EXISTING ~mewand12.itm~ ~override/wand12.itm~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~MEWI651~ resource= EVAL ~%mewi651%~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~SPWI402~ resource= EVAL ~%mewi155%~ END
	SAY NAME2 @8623
	SAY IDENTIFIED_DESC @8624

PRINT @136

COPY_EXISTING ~xbow02.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=wingbuffet target=2 timing=10 duration=5 parameter1=100 savingthrow=vspolymorph savebonus=(0 - 10) END
	SAY IDENTIFIED_DESC @8804

COPY_EXISTING ~xbow03.itm~ ~override~
	WRITE_SHORT firstheaderthac0 50
	SAY IDENTIFIED_DESC @8806

COPY_EXISTING ~xbow05.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=4 opcode=modifyac target=2 timing=0 duration=18 parameter1=(0 - 5) savingthrow=vswands savebonus=(0 - 8) END
	SAY IDENTIFIED_DESC @8810

COPY_EXISTING ~xbow06.itm~ ~override~
	LPF ADD_ITEM_HEADER INT_VAR type=headermagical required_id=1 target=caster charges=1 depletion=itemrecharges flags=rechargeafterresting STR_VAR icon=~ixbow06~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=createweapon target=1 timing=0 duration=36 parameter2=1 resist_dispel=3 STR_VAR resource=~mexbow06~ END
	LPF ADD_ITEM_EFFECT INT_VAR type=headermagical opcode=visualeffectbg2 target=1 timing=0 duration=6 parameter2=1 resist_dispel=3 STR_VAR resource=~spcrtwpn~ END
	SAY IDENTIFIED_DESC @8812

COPY_EXISTING ~mexbow07.itm~ ~override~
	SAY NAME2 @8813
	SAY IDENTIFIED_DESC @8814

COPY_EXISTING ~mexbow07.itm~ ~override/xbow07.itm~

COPY_EXISTING ~mexbow09.itm~ ~override~
	SAY NAME2 @8817
	SAY IDENTIFIED_DESC @8818

COPY_EXISTING ~mexbow09.itm~ ~override/xbow09.itm~

PRINT @137

COPY_EXISTING ~meamul65.itm~ ~override~
	SAY NAME2 @10129
	SAY IDENTIFIED_DESC @10130

COPY_EXISTING ~meamul71.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR opcode=applyeffectslist target=2 timing=9 parameter1=ratwererow parameter2=110 STR_VAR resource=~medetsh5~ END
	WRITE_SHORT firstheaderprojectile medetect
	SAY NAME2 @10141
	SAY IDENTIFIED_DESC @10142

COPY_EXISTING ~meamul72.itm~ ~override~
	SAY NAME2 @10143
	SAY IDENTIFIED_DESC @10144

COPY_EXISTING ~meamul73.itm~ ~override~
	SAY NAME2 @10145
	SAY IDENTIFIED_DESC @10146

COPY_EXISTING ~meamul99.itm~ ~override~
	SAY NAME2 @10197
	SAY IDENTIFIED_DESC @10198

PRINT @138

COPY_EXISTING ~mearow25.itm~ ~override~
	SAY NAME2 @10249
	SAY IDENTIFIED_DESC @10250

COPY_EXISTING ~mearow50.itm~ ~override~
	SAY NAME2 @10299
	SAY IDENTIFIED_DESC @10300

COPY_EXISTING ~mearow51.itm~ ~override~
	SAY NAME2 @10301
	SAY IDENTIFIED_DESC @10302

COPY_EXISTING ~mearow92.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR projectile=swave END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=1 match_opcode=protectionfromprojectile parameter2=(swave - 1) END
	SAY NAME2 @10383
	SAY IDENTIFIED_DESC @10384

COPY_EXISTING ~mearow94.itm~ ~override~
	SAY NAME2 @10387
	SAY IDENTIFIED_DESC @10388

COPY_EXISTING ~mearow98.itm~ ~override~
	SAY NAME2 @10395
	SAY IDENTIFIED_DESC @10396

PRINT @139

COPY_EXISTING ~meax1h14.itm~ ~override~
	SAY NAME2 @10427
	SAY IDENTIFIED_DESC @10428

COPY_EXISTING ~meax1h80.itm~ ~override~
	SAY NAME2 @10559
	SAY IDENTIFIED_DESC @10560

COPY_EXISTING ~meax1h90.itm~ ~override~
	SAY NAME2 @10579
	SAY IDENTIFIED_DESC @10580

COPY_EXISTING ~meax1h98.itm~ ~override~
	SAY NAME2 @10595
	SAY IDENTIFIED_DESC @10596

COPY_EXISTING ~meax2h60.itm~ ~override~
	SAY NAME1 @2950
	SAY UNIDENTIFIED_DESC @2951
	SAY NAME2 @16919
	SAY IDENTIFIED_DESC @16920

COPY_EXISTING ~meax2h98.itm~ ~override~
	SAY NAME1 @2950
	SAY UNIDENTIFIED_DESC @2951
	SAY NAME2 @16995
	SAY IDENTIFIED_DESC @16996

PRINT @140

COPY_EXISTING ~mebelt09.itm~ ~override~
	SAY NAME2 @10617
	SAY IDENTIFIED_DESC @10618

COPY_EXISTING ~mebelt50.itm~ ~override~ ~mebelt51.itm~ ~override~ ~mebelt52.itm~ ~override~ ~mebelt53.itm~ ~override~ ~mebelt54.itm~ ~override~ ~mebelt55.itm~ ~override~
	SAY NAME1 @10699
	SAY NAME2 @10699

COPY_EXISTING ~mebelt70.itm~ ~override~
	SAY NAME1 @9999
	SAY NAME2 @10739
	SAY IDENTIFIED_DESC @10740

COPY_EXISTING ~mebelt71.itm~ ~override~
	SAY NAME2 @10741
	SAY IDENTIFIED_DESC @10742

COPY_EXISTING ~mebelt72.itm~ ~override~
	SAY NAME2 @10743
	SAY IDENTIFIED_DESC @10744

COPY_EXISTING ~mebelt73.itm~ ~override~
	SAY NAME2 @10745
	SAY IDENTIFIED_DESC @10746

COPY_EXISTING ~mebladef.itm~ ~override~
	WRITE_SHORT firstheaderprojectile meblade2
	SAY NAME2 @9997
	SAY IDENTIFIED_DESC @9998

PRINT @141

COPY_EXISTING ~meblun26.itm~ ~override~
	SAY NAME2 @10851
	SAY IDENTIFIED_DESC @10852

COPY_EXISTING ~meblun28.itm~ ~override~
	SAY NAME2 @10855
	SAY IDENTIFIED_DESC @10856

COPY_EXISTING ~meblun30.itm~ ~override~
	SAY NAME2 @10859
	SAY IDENTIFIED_DESC @10860

COPY_EXISTING ~meblun35.itm~ ~override~
	SAY NAME2 @10869
	SAY IDENTIFIED_DESC @10870

COPY_EXISTING ~meblun60.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=1 opcode=applyeffectslist target=2 timing=1 parameter2=splprot_unseenclub STR_VAR resource=~meblun60~ END
	SAY NAME1 @9995
	SAY UNIDENTIFIED_DESC @9996
	SAY NAME2 @10919
	SAY IDENTIFIED_DESC @10920

COPY_EXISTING ~meblun61.itm~ ~override~
	SAY NAME2 @10921
	SAY IDENTIFIED_DESC @10922

COPY_EXISTING ~meblun62.itm~ ~override~
	SAY NAME2 @10923
	SAY IDENTIFIED_DESC @10924

COPY_EXISTING ~meblun63.itm~ ~override~
	SAY NAME2 @10925
	SAY IDENTIFIED_DESC @10926

COPY_EXISTING ~meblun80.itm~ ~override~
	SAY NAME1 @9993
	SAY UNIDENTIFIED_DESC @9994
	SAY NAME2 @10959
	SAY IDENTIFIED_DESC @10960

COPY_EXISTING ~meblun90.itm~ ~override~
	SAY NAME2 @10979
	SAY IDENTIFIED_DESC @10980

COPY_EXISTING ~meblun98.itm~ ~override~
	SAY NAME2 @10995
	SAY IDENTIFIED_DESC @10996

PRINT @142

COPY_EXISTING ~mebolt60.itm~ ~override~
	SAY NAME2 @11119
	SAY IDENTIFIED_DESC @11120

COPY_EXISTING ~mebolt61.itm~ ~override~
	SAY NAME2 @11121
	SAY IDENTIFIED_DESC @11122

COPY_EXISTING ~mebolt98.itm~ ~override~
	SAY NAME2 @11195
	SAY IDENTIFIED_DESC @11196

PRINT @143

COPY_EXISTING ~mebooklk.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@628) END
	SAY NAME2 @9964
	SAY IDENTIFIED_DESC @9965

COPY_EXISTING ~meboot10.itm~ ~override~
	SAY NAME2 @11219
	SAY IDENTIFIED_DESC @11220

COPY_EXISTING ~meboot60.itm~ ~override~
	SAY NAME2 @11319
	SAY IDENTIFIED_DESC @11320

COPY_EXISTING ~meboot99.itm~ ~override~
	SAY NAME2 @11397
	SAY IDENTIFIED_DESC @11398

PRINT @144

COPY_EXISTING ~mebow11.itm~ ~override~
	SAY NAME2 @11421
	SAY IDENTIFIED_DESC @11422

COPY_EXISTING ~mebow14.itm~ ~override~
	SAY NAME1 @2952
	SAY UNIDENTIFIED_DESC @2953
	SAY NAME2 @11427
	SAY IDENTIFIED_DESC @11428

COPY_EXISTING ~mebow20.itm~ ~override~
	SAY NAME2 @11439
	SAY IDENTIFIED_DESC @11440

COPY_EXISTING ~mebow22.itm~ ~override~
	SAY NAME2 @11443
	SAY IDENTIFIED_DESC @11444

COPY_EXISTING ~mebow80.itm~ ~override~
	SAY NAME2 @11559
	SAY IDENTIFIED_DESC @11560

COPY_EXISTING ~mebow81.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR projectile=idpro303 END
	SAY NAME2 @11561
	SAY IDENTIFIED_DESC @11562

COPY_EXISTING ~mebow93.itm~ ~override~
	SAY NAME2 @11585
	SAY IDENTIFIED_DESC @11586

COPY_EXISTING ~mebow99.itm~ ~override~
	SAY NAME2 @11597
	SAY IDENTIFIED_DESC @11598

PRINT @145

COPY_EXISTING ~mebrac71.itm~ ~override~
	SAY NAME2 @11741
	SAY IDENTIFIED_DESC @11742

COPY_EXISTING ~mebrac97.itm~ ~override~
	SAY NAME2 @11793
	SAY IDENTIFIED_DESC @11794

COPY_EXISTING ~mebrac99.itm~ ~override~
	SAY NAME2 @11797
	SAY IDENTIFIED_DESC @11798

PRINT @146

COPY_EXISTING ~mebull60.itm~ ~override~
	SAY NAME2 @11919
	SAY IDENTIFIED_DESC @11920

PRINT @147

COPY_EXISTING ~mechan98.itm~ ~override~
	SAY NAME2 @12195
	SAY IDENTIFIED_DESC @12196

PRINT @148

COPY_EXISTING ~meclck60.itm~ ~override~
	SAY IDENTIFIED_DESC @12320

COPY_EXISTING ~meclck61.itm~ ~override~
	SAY NAME2 @12321
	SAY IDENTIFIED_DESC @12322

COPY_EXISTING ~meclck71.itm~ ~override~
	SAY NAME2 @12341
	SAY IDENTIFIED_DESC @12342

COPY_EXISTING ~meclck90.itm~ ~override~
	SAY NAME2 @12379
	SAY IDENTIFIED_DESC @12380

COPY_EXISTING ~meclck91.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=0 check_globals=1 match_opcode=displayportraiticon parameter2=icon_index_mewi855 END
	SAY NAME2 @12381
	SAY IDENTIFIED_DESC @12382

COPY_EXISTING ~meclck99.itm~ ~override~
	SAY NAME2 @12397
	SAY IDENTIFIED_DESC @12398

PRINT @149

COPY_EXISTING ~medagg21.itm~ ~override~
	SAY NAME2 @12441
	SAY IDENTIFIED_DESC @12442

COPY_EXISTING ~medagg63.itm~ ~override~
	SAY NAME2 @12525
	SAY IDENTIFIED_DESC @12526

COPY_EXISTING ~medagg70.itm~ ~override~
	SAY NAME2 @12539
	SAY IDENTIFIED_DESC @12540

COPY_EXISTING ~medagg97.itm~ ~override~
	SAY NAME1 @12593
	SAY NAME2 @12593
	SAY IDENTIFIED_DESC @12594

COPY_EXISTING ~medagg98.itm~ ~override~
	SAY NAME2 @12595
	SAY IDENTIFIED_DESC @12596

COPY_EXISTING ~medagg99.itm~ ~override~
	SAY NAME2 @12597
	SAY IDENTIFIED_DESC @12598

PRINT @150

COPY_EXISTING ~medart13.itm~ ~override~
	SAY NAME2 @12625
	SAY IDENTIFIED_DESC @12626

COPY_EXISTING ~medart80.itm~ ~override~
	SAY NAME2 @12759
	SAY IDENTIFIED_DESC @12760

COPY_EXISTING ~medart98.itm~ ~override~
	SAY NAME2 @12795
	SAY IDENTIFIED_DESC @12796

PRINT @151

COPY_EXISTING ~meecol01.itm~ ~override~
	SAY NAME1 @9601
	SAY UNIDENTIFIED_DESC @9602
	SAY NAME2 @17201
	SAY IDENTIFIED_DESC @17202

COPY_EXISTING ~meecol02.itm~ ~override~
	SAY NAME1 @9603
	SAY UNIDENTIFIED_DESC @9604
	SAY NAME2 @17203
	SAY IDENTIFIED_DESC @17204

COPY_EXISTING ~meecol03.itm~ ~override~
	SAY NAME1 @9605
	SAY UNIDENTIFIED_DESC @9606
	SAY NAME2 @17205
	SAY IDENTIFIED_DESC @17206

COPY_EXISTING ~meecol3s.itm~ ~override~
	SAY NAME1 @9605
	SAY UNIDENTIFIED_DESC @9606
	SAY NAME2 @17205
	SAY IDENTIFIED_DESC @9800

COPY_EXISTING ~meecol04.itm~ ~override~
	SAY NAME1 @9607
	SAY UNIDENTIFIED_DESC @9608
	SAY NAME2 @17207
	SAY IDENTIFIED_DESC @17208

COPY_EXISTING ~meecol05.itm~ ~override~
	SAY NAME1 @9609
	SAY UNIDENTIFIED_DESC @9610
	SAY NAME2 @17209
	SAY IDENTIFIED_DESC @17210

COPY_EXISTING ~meecol06.itm~ ~override~
	SAY NAME1 @9611
	SAY UNIDENTIFIED_DESC @9612
	SAY NAME2 @17211
	SAY IDENTIFIED_DESC @17212

COPY_EXISTING ~meecol07.itm~ ~override~
	SAY NAME1 @9613
	SAY UNIDENTIFIED_DESC @9614
	SAY NAME2 @17213
	SAY IDENTIFIED_DESC @17214

COPY_EXISTING ~mehalb10.itm~ ~override~
	SAY NAME2 @12819
	SAY IDENTIFIED_DESC @12820

COPY_EXISTING ~mehalb60.itm~ ~override~
	SAY NAME1 @9992
	SAY NAME2 @12919
	SAY IDENTIFIED_DESC @12920

COPY_EXISTING ~mehalb98.itm~ ~override~
	SAY NAME2 @12995
	SAY IDENTIFIED_DESC @12996

PRINT @152

COPY_EXISTING ~mehamm10.itm~ ~override~
	SAY NAME2 @13019
	SAY IDENTIFIED_DESC @13020

COPY_EXISTING ~mehamm61.itm~ ~override~
	SAY NAME2 @13121
	SAY IDENTIFIED_DESC @13122

COPY_EXISTING ~mehamm62.itm~ ~override~
	SAY NAME1 @9991
	SAY NAME2 @13123
	SAY IDENTIFIED_DESC @13124

COPY_EXISTING ~mehamm70.itm~ ~override~
	SAY NAME2 @13139
	SAY IDENTIFIED_DESC @13140

COPY_EXISTING ~mehamm98.itm~ ~override~
	SAY NAME2 @13195
	SAY IDENTIFIED_DESC @13196

COPY_EXISTING ~mehand99.itm~ ~override~
	SAY NAME1 @9989
	SAY UNIDENTIFIED_DESC @9990
	SAY NAME2 @13397
	SAY IDENTIFIED_DESC @13398

COPY_EXISTING ~mehelm28.itm~ ~override~
	SAY NAME1 @9970
	SAY UNIDENTIFIED_DESC @9971
	SAY NAME2 @17055
	SAY IDENTIFIED_DESC @17056

COPY_EXISTING ~mehelm75.itm~ ~override~
	SAY NAME2 @17149
	SAY IDENTIFIED_DESC @17150

COPY_EXISTING ~mehelm98.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=0 check_globals=1 match_opcode=displayportraiticon match_parameter2=0 parameter2=icon_index_mewi857 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=0 check_globals=1 match_opcode=displayportraiticon match_parameter2=1 parameter2=icon_index_mewi203 END
	SAY NAME2 @17195
	SAY IDENTIFIED_DESC @17196

PRINT @153

COPY_EXISTING ~meleat18.itm~ ~override~
	SAY NAME2 @13435
	SAY IDENTIFIED_DESC @13436

COPY_EXISTING ~meleat98.itm~ ~override~
	SAY NAME2 @13595
	SAY IDENTIFIED_DESC @13596

PRINT @154

COPY_EXISTING ~memirror.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=reflectprojectile target=1 timing=2 parameter2=medagglg END

COPY_EXISTING ~memisc12.itm~ ~override~
	SAY NAME1 @13623
	SAY NAME2 @13623
	SAY IDENTIFIED_DESC @13624

COPY_EXISTING ~memiscan.itm~ ~override~
	SAY NAME1 @9962
	SAY UNIDENTIFIED_DESC @9963

COPY_EXISTING ~memiscgs.itm~ ~override~
	SAY NAME2 @9966
	SAY IDENTIFIED_DESC @9967

COPY_EXISTING ~memiscta.itm~ ~override~
	WRITE_SHORT firstheaderprojectile meg4fire
	SAY NAME1 @9986
	SAY UNIDENTIFIED_DESC @9987
	SAY NAME2 @9986
	SAY IDENTIFIED_DESC @9988

COPY_EXISTING ~memiscte.itm~ ~override~
	SAY NAME1 @9959
	SAY UNIDENTIFIED_DESC @9960
	SAY NAME2 @9959
	SAY IDENTIFIED_DESC @9961

PRINT @155

COPY_EXISTING ~meperm01.itm~ ~override~
	SAY NAME1 @9984
	SAY UNIDENTIFIED_DESC @9985
	SAY NAME2 @13801
	SAY IDENTIFIED_DESC @13802

COPY_EXISTING ~meperm02.itm~ ~override~
	SAY NAME1 @9982
	SAY UNIDENTIFIED_DESC @9983
	SAY NAME2 @13803
	SAY IDENTIFIED_DESC @13804

COPY_EXISTING ~meperm03.itm~ ~override~
	SAY NAME1 @9955
	SAY UNIDENTIFIED_DESC @9956
	SAY NAME2 @13805
	SAY IDENTIFIED_DESC @13806

PRINT @156

COPY_EXISTING ~meplat60.itm~ ~override~
	SAY NAME2 @14119
	SAY IDENTIFIED_DESC @14120

COPY_EXISTING ~meplat90.itm~ ~override~
	SAY NAME2 @14179
	SAY IDENTIFIED_DESC @14180

COPY_EXISTING ~meplat95.itm~ ~override~
	SAY NAME2 @14189
	SAY IDENTIFIED_DESC @14190

COPY_EXISTING ~meplat96.itm~ ~override~
	SAY NAME2 @14191
	SAY IDENTIFIED_DESC @14192

COPY_EXISTING ~meplat98.itm~ ~override~
	SAY NAME2 @14195
	SAY IDENTIFIED_DESC @14196

COPY_EXISTING ~meplat99.itm~ ~override~
	SAY NAME2 @14197
	SAY IDENTIFIED_DESC @14198

PRINT @157

COPY_EXISTING ~mepotn80.itm~ ~override~
	SAY NAME2 @14359
	SAY IDENTIFIED_DESC @14360

COPY_EXISTING ~mepotn90.itm~ ~override~
	SAY NAME1 @9981
	SAY NAME2 @14379
	SAY IDENTIFIED_DESC @14380

PRINT @158

COPY_EXISTING ~mequiv97.itm~ ~override~
	SAY NAME2 @14593
	SAY IDENTIFIED_DESC @14594

COPY_EXISTING ~mequiv98.itm~ ~override~
	SAY NAME2 @14595
	SAY IDENTIFIED_DESC @14596

COPY_EXISTING ~mequiv99.itm~ ~override~
	SAY NAME2 @14597
	SAY IDENTIFIED_DESC @14598

PRINT @159

COPY_EXISTING ~mering70.itm~ ~override~
	SAY NAME2 @14739
	SAY IDENTIFIED_DESC @14740

COPY_EXISTING ~mering71.itm~ ~override~
	SAY NAME2 @14741
	SAY IDENTIFIED_DESC @14742

COPY_EXISTING ~mering72.itm~ ~override~
	SAY NAME2 @14743
	SAY IDENTIFIED_DESC @14744

COPY_EXISTING ~mering73.itm~ ~override~
	SAY NAME2 @14745
	SAY IDENTIFIED_DESC @14746

COPY_EXISTING ~mering74.itm~ ~override~
	SAY NAME2 @14747
	SAY IDENTIFIED_DESC @14748

COPY_EXISTING ~mering80.itm~ ~override~
	SAY NAME2 @14759
	SAY IDENTIFIED_DESC @14760

COPY_EXISTING ~mering90.itm~ ~override~
	SAY NAME2 @14779
	SAY IDENTIFIED_DESC @14780

COPY_EXISTING ~mering98.itm~ ~override~
	SAY NAME2 @14795
	SAY IDENTIFIED_DESC @14796

COPY_EXISTING ~meringma.itm~ ~override~
	SAY NAME2 @9975
	SAY IDENTIFIED_DESC @9976

PRINT @160

COPY_EXISTING ~merobe60.itm~ ~override~
	SAY NAME2 @14919
	SAY IDENTIFIED_DESC @14920

COPY_EXISTING ~merobe61.itm~ ~override~
	SAY NAME2 @14921
	SAY IDENTIFIED_DESC @14922

COPY_EXISTING ~merobe80.itm~ ~override~
	SAY NAME2 @14959
	SAY IDENTIFIED_DESC @14960

COPY_EXISTING ~merobe90.itm~ ~override~
	SAY NAME2 @14979
	SAY IDENTIFIED_DESC @14980

COPY_EXISTING ~merobe91.itm~ ~override~
	SAY NAME2 @14981
	SAY IDENTIFIED_DESC @14982

COPY_EXISTING ~merobe92.itm~ ~override~
	SAY NAME2 @14983
	SAY IDENTIFIED_DESC @14984

COPY_EXISTING ~merobe93.itm~ ~override~
	SAY NAME2 @14985
	SAY IDENTIFIED_DESC @14986

COPY_EXISTING ~meschlum.itm~ ~override~
	WRITE_SHORT firstheaderprojectile meschlum

PRINT @161

COPY_EXISTING ~mescrlem.itm~ ~override~
	SAY NAME2 @9968
	SAY IDENTIFIED_DESC @9969

COPY_EXISTING ~mescrlpt.itm~ ~override~
	SAY NAME2 @9979
	SAY IDENTIFIED_DESC @9980

COPY_EXISTING_REGEXP ~mescrlt[1-9].itm~ ~override~
//	SAY NAME2 @9973
	SAY UNIDENTIFIED_DESC @9972
	SAY IDENTIFIED_DESC @9974

PRINT @162

COPY_EXISTING ~meshld31.itm~ ~override~
	SAY NAME2 @15061
	SAY IDENTIFIED_DESC @15062

COPY_EXISTING ~meshld60.itm~ ~override~
	SAY NAME2 @15119
	SAY IDENTIFIED_DESC @15120

COPY_EXISTING ~meshld61.itm~ ~override~
	SAY NAME2 @15121
	SAY IDENTIFIED_DESC @15122

COPY_EXISTING ~sppr426.spl~ ~override/meit004d.spl~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=1 STR_VAR match_resource=~sppr426~ resource=~meit004d~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=318 target=2 timing=0 parameter2=52 STR_VAR resource=~meit004d~ END

COPY_EXISTING ~meshld62.itm~ ~override~
	SAY NAME2 @15123
	SAY IDENTIFIED_DESC @15124

COPY_EXISTING ~meshld94.itm~ ~override~
	SAY NAME2 @15187
	SAY IDENTIFIED_DESC @15188

COPY_EXISTING ~meshld96.itm~ ~override~
	SAY NAME2 @15191
	SAY IDENTIFIED_DESC @15192

COPY_EXISTING ~meshld99.itm~ ~override~
	SAY NAME2 @15197
	SAY IDENTIFIED_DESC @15198

PRINT @163

COPY_EXISTING ~meshrt01.itm~ ~override~
	SAY NAME1 @9977
	SAY UNIDENTIFIED_DESC @9978
	SAY NAME2 @15201
	SAY IDENTIFIED_DESC @15202

COPY_EXISTING ~meshrt02.itm~ ~override~
	SAY NAME1 @9977
	SAY UNIDENTIFIED_DESC @9978
	SAY NAME2 @15203
	SAY IDENTIFIED_DESC @15204

PRINT @164

COPY_EXISTING ~meslng08.itm~ ~override~
	SAY NAME2 @15415
	SAY IDENTIFIED_DESC @15416

COPY_EXISTING ~meslng60.itm~ ~override~
	SAY NAME2 @15519
	SAY IDENTIFIED_DESC @15520

PRINT @165

COPY_EXISTING ~mesper12.itm~ ~override~
	SAY NAME2 @15623
	SAY IDENTIFIED_DESC @15624

COPY_EXISTING ~mesper60.itm~ ~override~
	SAY NAME2 @15719
	SAY IDENTIFIED_DESC @15720

COPY_EXISTING ~mesper61.itm~ ~override~
	SAY NAME2 @15721
	SAY IDENTIFIED_DESC @15722

COPY_EXISTING ~mesper90.itm~ ~override~
	SAY NAME2 @15779
	SAY IDENTIFIED_DESC @15780

COPY_EXISTING ~mesper98.itm~ ~override~
	SAY NAME2 @15795
	SAY IDENTIFIED_DESC @15796

PRINT @166

COPY_EXISTING ~mestaf10.itm~ ~override~
	SAY NAME2 @15819
	SAY IDENTIFIED_DESC @15820

COPY_EXISTING ~mestaf24.itm~ ~override~
	SAY NAME2 @15847
	SAY IDENTIFIED_DESC @15848

COPY_EXISTING ~mestaf54.itm~ ~override~
	SAY NAME2 @15907
	SAY IDENTIFIED_DESC @15908

COPY_EXISTING ~mestaf55.itm~ ~override~
	SAY NAME2 @15909
	SAY IDENTIFIED_DESC @15910

COPY_EXISTING ~mestaf67.itm~ ~override~
	SAY NAME2 @15933
	SAY IDENTIFIED_DESC @15934

COPY_EXISTING ~mestaf68.itm~ ~override~
	SAY NAME2 @15935
	SAY IDENTIFIED_DESC @15936

COPY_EXISTING ~mestaf70.itm~ ~override~
	SAY NAME2 @15939
	SAY IDENTIFIED_DESC @15940

COPY_EXISTING ~mestaf71.itm~ ~override~
	SAY NAME2 @15941
	SAY IDENTIFIED_DESC @15942

COPY_EXISTING ~mestaf72.itm~ ~override~
	SAY NAME2 @15943
	SAY IDENTIFIED_DESC @15944

PRINT @167

COPY_EXISTING ~mesw1h30.itm~ ~override~
	SAY NAME2 @16059
	SAY IDENTIFIED_DESC @16060

COPY_EXISTING ~mesw1h45.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=403 parameter1=RESOLVE_STR_REF(@808) STR_VAR match_resource=~MEDEFLEC~ END
	SAY NAME2 @16089
	SAY IDENTIFIED_DESC @16090

COPY_EXISTING ~mesw1h58.itm~ ~override~
	SAY NAME2 @16115
	SAY IDENTIFIED_DESC @16116

COPY_EXISTING ~mesw1h60.itm~ ~override~
	SAY NAME2 @16119
	SAY IDENTIFIED_DESC @16120

COPY_EXISTING ~mesw1h62.itm~ ~override~
	SAY NAME2 @16123
	SAY IDENTIFIED_DESC @16124

COPY_EXISTING ~mesw1h66.itm~ ~override~
	SAY NAME2 @16131
	SAY IDENTIFIED_DESC @16132

COPY_EXISTING ~mesw1h67.itm~ ~override~
	SAY NAME2 @16133
	SAY IDENTIFIED_DESC @16134

COPY_EXISTING ~mesw1h68.itm~ ~override~
	SAY NAME2 @16135
	SAY IDENTIFIED_DESC @16136

COPY_EXISTING ~mesw1h70.itm~ ~override~
	SAY NAME2 @16139
	SAY IDENTIFIED_DESC @16140

COPY_EXISTING ~mesw1h80.itm~ ~override~
	SAY NAME2 @16159
	SAY IDENTIFIED_DESC @16160

COPY_EXISTING ~mesw1h81.itm~ ~override~
	SAY NAME2 @16161
	SAY IDENTIFIED_DESC @16162

COPY_EXISTING ~mesw1h82.itm~ ~override~
	SAY NAME2 @16163
	SAY IDENTIFIED_DESC @16164

COPY_EXISTING ~mesw1h84.itm~ ~override~
	SAY NAME2 @16167
	SAY IDENTIFIED_DESC @16168

COPY_EXISTING ~mesw1h85.itm~ ~override~
	SAY NAME2 @16169
	SAY IDENTIFIED_DESC @16170

COPY_EXISTING ~mesw1h87.itm~ ~override~
	SAY NAME2 @16173
	SAY IDENTIFIED_DESC @16174

COPY_EXISTING ~mesw1h94.itm~ ~override~
	SAY NAME2 @16187
	SAY IDENTIFIED_DESC @16188

COPY_EXISTING ~mesw1h95.itm~ ~override~
	WRITE_SHORT firstheaderprojectile medagglg
	SAY NAME2 @16189
	SAY IDENTIFIED_DESC @16190

COPY_EXISTING ~mesw1h97.itm~ ~override~
	SAY NAME2 @16193
	SAY IDENTIFIED_DESC @16194

COPY_EXISTING ~mesw1h98.itm~ ~override~
	SAY NAME2 @16195
	SAY IDENTIFIED_DESC @16196

COPY_EXISTING ~mesw1h99.itm~ ~override~
	SAY NAME2 @16197
	SAY IDENTIFIED_DESC @16198

PRINT @168

COPY_EXISTING ~mesw2h10.itm~ ~override~
	SAY NAME2 @16219
	SAY IDENTIFIED_DESC @16220

COPY_EXISTING ~mesw2h17.itm~ ~override~
	SAY NAME2 @16233
	SAY IDENTIFIED_DESC @16234

COPY_EXISTING ~mesw2h60.itm~ ~override~
	SAY NAME2 @16319
	SAY IDENTIFIED_DESC @16320

PRINT @169

COPY_EXISTING ~mewand98.itm~ ~override~
	SAY NAME2 @16595
	SAY IDENTIFIED_DESC @16596

PRINT @170

COPY_EXISTING ~mexbow13.itm~ ~override~
	SAY NAME2 @16625
	SAY IDENTIFIED_DESC @16626

COPY_EXISTING ~mexbow15.itm~ ~override~
	SAY NAME2 @16629
	SAY IDENTIFIED_DESC @16630

COPY_EXISTING ~mexbow98.itm~ ~override~
	SAY NAME2 @16795
	SAY IDENTIFIED_DESC @16796

COPY_EXISTING ~ring08.itm~ ~override~ ~bdring08.itm~ ~override~ ~ring40.itm~ ~override~ ~mering73.itm~ ~override~ ~clck09.itm~ ~override~ ~clck10.itm~ ~override~ ~clck11.itm~ ~override~ ~clck12.itm~ ~override~ ~clck13.itm~ ~override~ ~clck14.itm~ ~override~ ~merobe60.itm~ ~override~ ~merobe61.itm~ ~override~
	READ_LONG unusabilityflags ulgiash
	ulgiash&=0xFFFFFFBF //now usable by bards
	WRITE_LONG unusabilityflags ulgiash
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

//____________________________________________CRE

PRINT @171

PRINT @172

COPY_EXISTING_REGEXP ~ajanti.*.cre~ ~override~
	WRITE_SHORT currenthp 20
	WRITE_SHORT maxhp 20
	WRITE_BYTE dexterity 16
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitcavalier
	END
	REPLACE_CRE_ITEM ~sw1hseek~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 3
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 0
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 0
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 3
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meha150~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco296~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco297~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco422~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24003) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ajanti4.cre~ ~override~
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 1

COPY_EXISTING ~ajanti6.cre~ ~override~
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2

COPY_EXISTING_REGEXP ~alora.*.cre~ ~override~
	WRITE_BYTE dexterity 25
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 1
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 1
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 0
	PATCH_IF MOD_IS_INSTALLED ~Setup-Aura_BG1.tp2~ ~0~ BEGIN
		ADD_MEMORIZED_SPELL ~meco299~ #0 ~innate~ (3)
	END ELSE BEGIN
		ADD_MEMORIZED_SPELL ~meco089~ #0 ~innate~ (3)
	END
	ADD_MEMORIZED_SPELL ~meco199~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco347~ #0 ~innate~ (1)
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablebutton END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=useanyitem target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=159 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24004) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~arkani.*.cre~ ~override~
	SAY LEADER @29111
	SAY TIRED @29112
	SAY BORED @29113
	SAY BATTLE_CRY1 @29110
	SAY BATTLE_CRY2 @29109
	SAY BATTLE_CRY3 @29108
	SAY DAMAGE @29121
	SAY DYING @29122
	SAY HURT @29114
	SAY SELECT_COMMON1 @29115
	SAY SELECT_COMMON2 @29116
	SAY SELECT_COMMON3 @29117
	SAY SELECT_COMMON4 @29100
	SAY SELECT_ACTION1 @29118
	SAY SELECT_ACTION2 @29119
	SAY SELECT_ACTION3 @29120
	SAY SELECT_ACTION4 @29133
	SAY SELECT_ACTION5 @29134
	SAY SELECT_ACTION6 @29136
	SAY SELECT_ACTION7 @29137
	SAY REACT_TO_DIE_GENERAL @29132
	WRITE_BYTE dexterity 16
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 0
	SET_BG2_PROFICIENCY PROFICIENCYDART 0
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 0
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 0
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 0
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 0
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYMACE 0
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYAXE 0
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 0
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 0
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 0
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 0
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 0
	SET_BG2_PROFICIENCY PROFICIENCYSLING 0
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 0
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 0
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 0
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 0
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 0
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 0
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco016~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco017~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco368~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco369~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~IAROW01~ ~IBOW03~
	REPLACE_CRE_ITEM ~HELM10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~CHAN01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD03~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	REPLACE_CRE_ITEM ~HAMM01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~XBOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~BOLT01~ #80 #0 #0 ~IDENTIFIED~ ~QUIVER1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~sppr519~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~meco369~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=1 parameter2=1 special=617 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28010) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~arkani3.cre~ ~override~
	WRITE_ASCII classscript ~mearkan3~ #8

COPY_EXISTING ~baeloth.cre~ ~override~ ~baelot7.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYDART 4
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 4
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco234~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco143~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco236~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco071~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco085~ #0 ~innate~ (3)
	ADD_KNOWN_SPELL ~spwi403~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi405~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi409~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi413~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi418~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi507~ #4 ~wizard~
	ADD_KNOWN_SPELL ~spwi514~ #4 ~wizard~
	ADD_KNOWN_SPELL ~spwi517~ #4 ~wizard~
	ADD_KNOWN_SPELL ~mewi554~ #4 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi554~ ~%mewi554%~
	ADD_KNOWN_SPELL ~spwi602~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi604~ #5 ~wizard~
	ADD_KNOWN_SPELL ~mewi652~ #5 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi652~ ~%mewi652%~
	ADD_KNOWN_SPELL ~spwi704~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi710~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi724~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi726~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi803~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi805~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi813~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi818~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi903~ #8 ~wizard~
	ADD_KNOWN_SPELL ~spwi907~ #8 ~wizard~
	ADD_KNOWN_SPELL ~spwi911~ #8 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=bonuswizardspells target=1 timing=9 parameter1=9 parameter1=3 parameter2=511 special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24005) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~bdmkhi7.cre~ ~override~
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	PATCH_IF MOD_IS_INSTALLED ~EEex.tp2~ ~0~ BEGIN
		LPF ADD_CRE_EFFECT INT_VAR opcode=wildsurge target=1 timing=9 parameter1=60 parameter2=2 special=1 END
	END
	IF_EXISTS

COPY_EXISTING_REGEXP ~branwe.*.cre~ ~override~ ~ttbran.cre~ ~override~
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 51
	WRITE_BYTE wisdom 15
	WRITE_BYTE dexterity 14
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	SET_BG2_PROFICIENCY PROFICIENCYSLING 0
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 0
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco007~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco049~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco050~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=6 parameter2=priest END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevspolymorph target=1 timing=9 parameter1=(0 - 50) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24006) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~cander.cre~ ~override~
	SAY LEADER @29511
	SAY TIRED @29512
	SAY BORED @29513
	SAY BATTLE_CRY1 @29510
	SAY BATTLE_CRY2 @29510
	SAY BATTLE_CRY3 @29510
	SAY DAMAGE @29521
	SAY DYING @29522
	SAY HURT @29514
	SAY SELECT_COMMON1 @29515
	SAY SELECT_COMMON2 @29516
	SAY SELECT_COMMON3 @29517
	SAY SELECT_ACTION1 @29518
	SAY SELECT_ACTION2 @29519
	SAY SELECT_ACTION3 @29520
	SAY SELECT_ACTION4 @29533
	SAY SELECT_ACTION5 @29534
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 11
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 14
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitpriestofhelm
	END
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 4
	SET_BG2_PROFICIENCY PROFICIENCYMACE 1
	SET_BG2_PROFICIENCY PROFICIENCYSLING 1
	REMOVE_KNOWN_SPELL ~spin109~
	REMOVE_MEMORIZED_SPELL ~spin109~
	REMOVE_MEMORIZED_SPELL ~sppr104~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco030~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco076~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco079~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco124~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco255~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco353~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~sppr108~ #0 ~priest~ (1)
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD05~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	REPLACE_CRE_ITEM ~BLUN04~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SLNG01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~BULL01~ #60 #0 #0 ~IDENTIFIED~ ~QUIVER1~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=overridecreaturedata target=1 timing=9 parameter1=0 parameter2=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28011) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~coran.*.cre~ ~override~
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 81
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 15
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitbountyhunter
	END
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 3
	ADD_MEMORIZED_SPELL ~meco043~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco004~ #0 ~innate~ (1)
//	ADD_MEMORIZED_SPELL ~meco010~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco425~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco426~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco424~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=29 special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=19 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=grease END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=entangle END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=web END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=slow END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=paralyze END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=holdcreature1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=modifymovementrate1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=9 parameter2=13 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=9 parameter2=41 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=9 parameter2=129 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=9 parameter2=144 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=9 parameter2=145 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromstring target=1 timing=9 parameter1=14650 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromstring target=1 timing=9 parameter1=25866 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromstring target=1 timing=9 parameter1=26103 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromstring target=1 timing=9 parameter1=31772 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromstring target=1 timing=9 parameter1=31799 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spin575~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spin688~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spin977~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spin983~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~sppr105~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi312~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwish25~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi312~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwm111~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwm164~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromanimation target=1 timing=9 STR_VAR resource=~spflayer~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromanimation target=1 timing=9 STR_VAR resource=~spmindat~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevspolymorph target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysettraps target=1 timing=9 parameter1=70 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=9 STR_VAR resource=~MENOPUSH~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mepull02~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~mecormov~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24007) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~coran5.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2

COPY_EXISTING_REGEXP ~deder.*.cre~ ~override~
	SAY LEADER @29311
	SAY TIRED @29312
	SAY BORED @29313
	SAY BATTLE_CRY1 @29310
	SAY BATTLE_CRY2 @29309
	SAY BATTLE_CRY3 @29308
	SAY DAMAGE @29321
	SAY DYING @29322
	SAY HURT @29314
	SAY SELECT_COMMON1 @29315
	SAY SELECT_COMMON2 @29316
	SAY SELECT_COMMON3 @29317
	SAY SELECT_COMMON4 @29300
	SAY SELECT_ACTION1 @29318
	SAY SELECT_ACTION2 @29319
	SAY SELECT_ACTION3 @29320
	SAY SELECT_ACTION4 @29333
	SAY SELECT_ACTION5 @29334
	SAY SELECT_ACTION6 @29336
	SAY SELECT_ACTION7 @29337
	SAY REACT_TO_DIE_GENERAL @29332
	WRITE_BYTE strength 11
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 20
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitwizardslayer
	END
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYDART 1
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 1
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 1
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 1
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 1
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 1
	SET_BG2_PROFICIENCY PROFICIENCYMACE 1
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 1
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 1
	SET_BG2_PROFICIENCY PROFICIENCYAXE 1
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 5
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 1
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 1
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYSLING 1
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 1
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 5
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 1
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 1
	ADD_MEMORIZED_SPELL ~meco284~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco301~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~IPOTN08~ ~ISW1H07~
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~LEAT02~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	LPF ADD_CRE_EFFECT INT_VAR opcode=useanyitem target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28012) STR_VAR resource=~meidecre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=405 target=1 timing=9 parameter1=6 parameter2=24 special=(0 - 1) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexinvokelua target=1 timing=3 parameter1=0x4F43454D parameter2=0x343832 special=0 STR_VAR resource=~MESETQSP~ END

COPY_EXISTING ~deder3.cre~ ~override~
	WRITE_ASCII classscript ~mededer3~ #8

COPY_EXISTING_REGEXP ~dorn.*.cre~ ~override~
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 19
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 4
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 0
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco056~ #0 ~innate~ (9)
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco069~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsspell target=1 timing=9 parameter1=(0 - 50) parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterkillssomeone STR_VAR resource=~sppr502~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24008) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~dorn2.cre~ ~override~
	WRITE_SHORT currenthp 20
	WRITE_SHORT maxhp 20

COPY_EXISTING ~dorn4.cre~ ~override~
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 1

COPY_EXISTING ~dorn6.cre~ ~override~
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2

COPY_EXISTING_REGEXP ~dynahe.*.cre~ ~override~
	WRITE_BYTE fireresistance 99
	WRITE_BYTE magicfireresistance 99
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco036~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco147~ #0 ~innate~ (1)
//	ADD_KNOWN_SPELL ~meco068~ #4 ~wizard~
	ADD_KNOWN_SPELL ~mewi554~ #4 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi554~ ~%mewi554%~
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=16 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=6 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffilewhileontype target=1 timing=9 parameter2=28 STR_VAR resource=~meei003~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffilewhileontype target=1 timing=9 parameter2=28 STR_VAR resource=~meei004~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24009) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~edwin.*.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco117~ #0 ~innate~ (1)
	ADD_KNOWN_SPELL ~spwi220~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi303~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi309~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi407~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi423~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi504~ #4 ~wizard~
	ADD_KNOWN_SPELL ~spwi507~ #4 ~wizard~
	ADD_KNOWN_SPELL ~spwi619~ #5 ~wizard~
	ADD_KNOWN_SPELL ~mewi651~ #5 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi651~ ~%mewi651%~
	ADD_KNOWN_SPELL ~spwi719~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi722~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi811~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi813~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi817~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi919~ #8 ~wizard~
	ADD_KNOWN_SPELL ~spwi920~ #8 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=bonuswizardspells target=1 timing=9 parameter1=9 parameter2=doublespellsoflevelorlower special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24010) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~eldoth.*.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYDART 1
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 1
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 1
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 1
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 1
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 1
	SET_BG2_PROFICIENCY PROFICIENCYMACE 1
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 1
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 1
	SET_BG2_PROFICIENCY PROFICIENCYAXE 1
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 1
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 1
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYSLING 1
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 1
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 1
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 1
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco097~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco181~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco184~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco185~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco190~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco217~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco293~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=useanyitem target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromportraiticon target=1 timing=9 parameter2=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=30 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevswand target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24011) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~faldor.*.cre~ ~override~
	WRITE_BYTE wisdom 25
	WRITE_BYTE constitution 3
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitavenger
		ADD_KNOWN_SPELL ~spdr101~ #0 ~priest~
		ADD_KNOWN_SPELL ~spdr201~ #1 ~priest~
	END
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 4
	SET_BG2_PROFICIENCY PROFICIENCYDART 1
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 0
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco009~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco252~ #0 ~innate~
	ADD_KNOWN_SPELL ~meco106~ #3 ~priest~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=159 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsspell target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24012) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~faldor5.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 1
	ADD_KNOWN_SPELL ~spdr301~ #2 ~priest~

COPY_EXISTING_REGEXP ~garric.*.cre~ ~override~
	WRITE_BYTE intelligence 19
	WRITE_BYTE constitution 14
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco098~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco182~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco189~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco214~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco215~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco216~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco388~ #0 ~innate~ (3)
	ADD_KNOWN_SPELL ~meco035~ #2 ~wizard~
	ADD_KNOWN_SPELL ~mewi659~ #5 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=10 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 4) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsbreath target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~mebardb~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24013) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~glint7.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco309~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco310~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco268~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco385~ #0 ~innate~ (3)
	IF_EXISTS

COPY_EXISTING_REGEXP ~imoen.*.cre~ ~override~ ~ttimoen.cre~ ~override~
	READ_SHORT kit thekit
	PATCH_IF thekit = 0 BEGIN
		WRITE_SHORT kit kittrueclass
	END
	WRITE_BYTE acidresistance 120
	ADD_MEMORIZED_SPELL ~meco012~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco013~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco099~ #0 ~innate~
//	ADD_MEMORIZED_SPELL ~meco100~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco358~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=24 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24014) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~jaheir.*.cre~ ~override~ ~ttjaheir.*.cre~ ~override~
	WRITE_BYTE levelfirstclass 5
	WRITE_BYTE levelsecondclass 5
	WRITE_LONG xp 41651
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE thac0 16
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE charisma 18
	SET_BG2_PROFICIENCY PROFICIENCYSLING 3
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 3
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 3
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 3
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 3
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 1
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 1
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 1
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco014~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco015~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco062~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco063~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymaxhp target=1 timing=9 parameter1=60 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24015) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~kagain.*.cre~ ~override~
	WRITE_BYTE currenthp 12
	WRITE_BYTE maxhp 12
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitdwarvendefender
	END
	WRITE_BYTE fireresistance 30
	WRITE_BYTE coldresistance 30
	WRITE_BYTE elecresistance 30
	WRITE_BYTE acidresistance 30
	WRITE_BYTE magicfireresistance 30
	WRITE_BYTE magiccoldresistance 30
	WRITE_BYTE constitution 25
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 0
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~meco046~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco072~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco073~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~meco326~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=123 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymaxhp target=1 timing=9 parameter1=120 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24016) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~kagain2.cre~ ~override~
	WRITE_BYTE currenthp 24
	WRITE_BYTE maxhp 24

COPY_EXISTING ~kagain4.cre~ ~override~
	WRITE_BYTE currenthp 48
	WRITE_BYTE maxhp 48

COPY_EXISTING ~kagain6.cre~ ~override~
	WRITE_BYTE currenthp 72
	WRITE_BYTE maxhp 72

COPY_EXISTING_REGEXP ~khalid.*.cre~ ~override~
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kittransmuter
	END
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 5
	WRITE_BYTE levelsecondclass 3
	WRITE_LONG xp 33871
	WRITE_SHORT currenthp 31
	WRITE_SHORT maxhp 31
	WRITE_BYTE thac0 16
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYDART 5
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 5
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 5
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 5
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYMACE 5
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 0
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 5
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSLING 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 0
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 0
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 0
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 5
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco074~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco018~ #0 ~innate~ (1)
	ADD_KNOWN_SPELL ~spwi105~ #0 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi105~ #0 ~wizard~ (2)
	ADD_KNOWN_SPELL ~spwi207~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi214~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi219~ #1 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi207~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi214~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_KNOWN_SPELL ~mewi252~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi252~ ~%mewi252%~
	ADD_KNOWN_SPELL ~spwi408~ #3 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsdeath target=1 timing=9 parameter1=(0 - 50) parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsbreath target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=normalhaste END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablebutton END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=castingfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24017) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~jaheira.bcs~ ~override~ ~khalid.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY ~Global(\"BD_JOINXP\",\"LOCALS\",0)~ ~False()~
	END

//ACTION_IF NOT MOD_IS_INSTALLED ~Emily.tp2~ ~0~ BEGIN

COPY_EXISTING_REGEXP ~kivan.*.cre~ ~override~
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 3
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitarcher
	END
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 1
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 4
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 4
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco088~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=6 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=6 parameter2=withbothweapons special=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisionrange target=1 timing=9 parameter1=10 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mekivanh~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24018) STR_VAR resource=~meidecre~ END

//END

//ELSE BEGIN
/*
COPY_EXISTING_REGEXP ~kivan.*.cre~ ~override~
	WRITE_BYTE dexterity 19
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitstalker
	END
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 3
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 3
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (6)
	ADD_MEMORIZED_SPELL ~meco088~ #0 ~innate~
	REPLACE_CRE_ITEM ~SW1H07~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=6 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=6 parameter2=withbothweapons special=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisionrange target=1 timing=9 parameter1=10 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mekivanh~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24018) STR_VAR resource=~meidecre~ END
*/
//END

COPY_EXISTING ~kivan4.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5

COPY_EXISTING ~kivan6.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5

COPY_EXISTING_REGEXP ~minsc.*.cre~ ~override~
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 12
	WRITE_BYTE constitution 18
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYMACE 4
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 4
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco019~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco116~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=81 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyminimumdamage target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymaxhp target=1 timing=9 parameter1=40 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsdeath target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24019) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~minsc2.cre~ ~override~
	WRITE_SHORT currenthp 20
	WRITE_SHORT maxhp 20

COPY_EXISTING ~minsc4.cre~ ~override~
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 1

COPY_EXISTING ~minsc6.cre~ ~override~
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 2

COPY_EXISTING_REGEXP ~montar.*.cre~ ~override~
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 16
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitassassin
	END
	REPLACE_CRE_ITEM ~XBOW04~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~BOLT01~ #60 #0 #0 ~IDENTIFIED~ ~QUIVER1~
	REPLACE_CRE_ITEM ~BOLT04~ #5 #0 #0 ~IDENTIFIED~ ~QUIVER2~
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 2
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 2
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 4
	SET_BG2_PROFICIENCY PROFICIENCYSLING 0
	SET_BG2_PROFICIENCY PROFICIENCYAXE 0
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 5
	ADD_MEMORIZED_SPELL ~meco107~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco108~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco109~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco110~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco111~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonuspoison END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=1 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24020) STR_VAR resource=~meidecre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=405 target=1 timing=9 parameter1=6 parameter2=24 special=(0 - 1) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexinvokelua target=1 timing=3 parameter1=0x4F43454D parameter2=0x313131 special=0 STR_VAR resource=~MESETQSP~ END


COPY_EXISTING_REGEXP ~montar[4-6].cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 3

COPY_EXISTING ~mordai.cre~ ~override~
	SAY LEADER @29011
	SAY TIRED @29012
	SAY BORED @29013
	SAY BATTLE_CRY1 @29010
	SAY BATTLE_CRY2 @29009
	SAY BATTLE_CRY3 @29008
	SAY DAMAGE @29021
	SAY DYING @29022
	SAY HURT @29014
	SAY SELECT_COMMON1 @29015
	SAY SELECT_COMMON2 @29016
	SAY SELECT_COMMON3 @29017
	SAY SELECT_COMMON4 @29000
	SAY SELECT_ACTION1 @29018
	SAY SELECT_ACTION2 @29019
	SAY SELECT_ACTION3 @29020
	SAY SELECT_ACTION4 @29033
	SAY SELECT_ACTION5 @29034
	SAY SELECT_ACTION6 @29036
	SAY SELECT_ACTION7 @29037
	SAY REACT_TO_DIE_GENERAL @29032
	WRITE_BYTE strength 11
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 16
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 8
	WRITE_BYTE alignment alignmenttrueneutral
	READ_SHORT kit thekit
	PATCH_IF thekit = kitinvoker BEGIN
		WRITE_SHORT kit kitabjurer
	END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	REMOVE_KNOWN_SPELL ~spwi103~ ~spin102~
	REMOVE_MEMORIZED_SPELL ~spwi103~ ~spin102~
	ADD_KNOWN_SPELL ~spwi113~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi510~ #4 ~wizard~
	ADD_MEMORIZED_SPELL ~meco245~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco279~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco280~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco237~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco355~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco356~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco182~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco181~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco147~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~IDART01~ ~WAND12~
	REPLACE_CRE_ITEM ~CLCK13~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~DART01~ #40 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=icon_index_mewi515 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~MEWI515D~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28013) STR_VAR resource=~meidecre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexinvokelua target=1 timing=3 parameter1=0x4F43454D parameter2=0x353432 special=0 STR_VAR resource=~MESETQSP~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexinvokelua target=1 timing=3 parameter1=0x4F43454D parameter2=0x393732 special=1 STR_VAR resource=~MESETQSP~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexinvokelua target=1 timing=3 parameter1=0x4F43454D parameter2=0x303832 special=2 STR_VAR resource=~MESETQSP~ END

COPY_EXISTING_REGEXP ~neera.*.cre~ ~override~
	WRITE_BYTE fireresistance 90
	WRITE_BYTE coldresistance 166 //-90%
	WRITE_BYTE elecresistance 90
	WRITE_BYTE acidresistance 166 //-90%
	WRITE_BYTE magicfireresistance 90
	WRITE_BYTE magiccoldresistance 166 //-90%
	WRITE_BYTE slashingresistance 60
	WRITE_BYTE piercingresistance 196 //-60%
	WRITE_BYTE crushingresistance 60
	WRITE_BYTE missileresistance 196 //-60%
	WRITE_BYTE constitution 16
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco020~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco021~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco022~ #0 ~innate~
	ADD_KNOWN_SPELL ~spwi603~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi606~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi607~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi609~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi614~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi615~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi624~ #5 ~wizard~
	ADD_KNOWN_SPELL ~spwi702~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi708~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi720~ #6 ~wizard~
	ADD_KNOWN_SPELL ~spwi813~ #7 ~wizard~
	ADD_KNOWN_SPELL ~spwi915~ #8 ~wizard~
	ADD_KNOWN_SPELL ~spwi917~ #8 ~wizard~
	ADD_KNOWN_SPELL ~spwi918~ #8 ~wizard~
	REMOVE_CRE_ITEM ~bag02~
	ADD_CRE_ITEM ~misc16~ #1 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~misc17~ #1 #0 #0 ~IDENTIFIED~ ~INV2~ 
	ADD_CRE_ITEM ~misc18~ #1 #0 #0 ~IDENTIFIED~ ~INV3~
	ADD_CRE_ITEM ~misc19~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=90 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=(0 - 90) parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsdeath target=1 timing=9 parameter1=(0 - 50) parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevswand target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevspolymorph target=1 timing=9 parameter1=(0 - 50) parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsbreath target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavevsspell target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=159 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=11 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=wildsurge target=1 timing=9 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24021) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~osprey.cre~ ~override~
	SAY LEADER @29411
	SAY TIRED @29412
	SAY BORED @29413
	SAY BATTLE_CRY1 @29410
	SAY BATTLE_CRY2 @29410
	SAY BATTLE_CRY3 @29410
	SAY DAMAGE @29421
	SAY DYING @29422
	SAY HURT @29414
	SAY SELECT_COMMON1 @29415
	SAY SELECT_COMMON2 @29416
	SAY SELECT_COMMON3 @29417
	SAY SELECT_ACTION1 @29418
	SAY SELECT_ACTION2 @29419
	SAY SELECT_ACTION3 @29420
	SAY SELECT_ACTION4 @29433
	SAY SELECT_ACTION5 @29434
	WRITE_LONG xp 7501
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 20
	WRITE_BYTE wisdom 20
	WRITE_BYTE charisma 17
	WRITE_BYTE class classfightermagecleric
	WRITE_BYTE levelthirdclass 2
	WRITE_BYTE thac0 19
	WRITE_LONG animation 24849
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 2
	SET_BG2_PROFICIENCY PROFICIENCYSLING 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 1
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 0
	LPF GIVE_CORRECT_SPELL_SLOTS END
//	LPF GIVE_CORRECT_PRIEST_SPELLS END
	REMOVE_KNOWN_SPELL ~spin118~
	REMOVE_MEMORIZED_SPELL ~spin118~
	FOR (j = 0; j <= 4; ++j) BEGIN
		FOR (k = 0; k <= 9; ++k) BEGIN
			PATCH_IF FILE_EXISTS_IN_GAME ~sppr1%j%%k%.spl~ BEGIN
				ADD_KNOWN_SPELL ~MEPHSPL~ #0 ~priest~
				REPLACE_TEXTUALLY CASE_SENSITIVE ~MEPHSPL~ ~sppr1%j%%k%~
			END
			PATCH_IF FILE_EXISTS_IN_GAME ~sppr2%j%%k%.spl~ BEGIN
				ADD_KNOWN_SPELL ~MEPHSPL~ #1 ~priest~
				REPLACE_TEXTUALLY CASE_SENSITIVE ~MEPHSPL~ ~sppr2%j%%k%~
			END
			PATCH_IF FILE_EXISTS_IN_GAME ~sppr3%j%%k%.spl~ BEGIN
				ADD_KNOWN_SPELL ~MEPHSPL~ #2 ~priest~
				REPLACE_TEXTUALLY CASE_SENSITIVE ~MEPHSPL~ ~sppr3%j%%k%~
			END
			PATCH_IF FILE_EXISTS_IN_GAME ~sppr4%j%%k%.spl~ BEGIN
				ADD_KNOWN_SPELL ~MEPHSPL~ #3 ~priest~
				REPLACE_TEXTUALLY CASE_SENSITIVE ~MEPHSPL~ ~sppr4%j%%k%~
			END
			PATCH_IF FILE_EXISTS_IN_GAME ~sppr5%j%%k%.spl~ BEGIN
				ADD_KNOWN_SPELL ~MEPHSPL~ #4 ~priest~
				REPLACE_TEXTUALLY CASE_SENSITIVE ~MEPHSPL~ ~sppr5%j%%k%~
			END
		END
	END
	PATCH_IF GAME_INCLUDES ~sod~ BEGIN
		REMOVE_KNOWN_SPELL ~sppr116~
	END
	ADD_MEMORIZED_SPELL ~meco419~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco420~ #0 ~innate~ (1)
//	ADD_MEMORIZED_SPELL ~meco302~ #0 ~innate~ (3)
	REMOVE_CRE_ITEM ~TTWAND~
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~SHLD03~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	REPLACE_CRE_ITEM ~BLUN06~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~SLNG01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~BULL01~ #80 #0 #0 ~IDENTIFIED~ ~QUIVER1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyduration target=1 timing=9 parameter1=200 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyduration target=1 timing=9 parameter1=200 parameter2=priest END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28014) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~quayle.*.cre~ ~override~
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 18
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco023~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco024~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco101~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco133~ #0 ~innate~ (1)
	ADD_KNOWN_SPELL ~spwi101~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi102~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi103~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi104~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi105~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi106~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi107~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi108~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi110~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi111~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi112~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi113~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi114~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi115~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi116~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi118~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi120~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi125~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi201~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi202~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi203~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi204~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi205~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi206~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi207~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi208~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi209~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi210~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi211~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi212~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi213~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi214~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi215~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi217~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi219~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi220~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi221~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi223~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi224~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi225~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi301~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi302~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi303~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi304~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi305~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi306~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi307~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi308~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi309~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi310~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi311~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi312~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi315~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi316~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi317~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi318~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi319~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi320~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi321~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi322~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi325~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi326~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi327~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi328~ #2 ~wizard~
	ADD_KNOWN_SPELL ~spwi401~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi403~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi404~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi405~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi406~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi407~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi408~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi410~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi411~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi412~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi413~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi415~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi416~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi417~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi418~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi419~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi420~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi421~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi423~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi424~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi425~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi430~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi432~ #3 ~wizard~
	ADD_KNOWN_SPELL ~mewi152~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi152~ ~%mewi152%~
	ADD_KNOWN_SPELL ~mewi153~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi153~ ~%mewi153%~
	ADD_KNOWN_SPELL ~mewi154~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi154~ ~%mewi154%~
	ADD_KNOWN_SPELL ~mewi155~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi155~ ~%mewi155%~
	ADD_KNOWN_SPELL ~mewi156~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi156~ ~%mewi156%~
	ADD_KNOWN_SPELL ~mewi157~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi157~ ~%mewi157%~
	ADD_KNOWN_SPELL ~mewi158~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi158~ ~%mewi158%~
	ADD_KNOWN_SPELL ~mewi159~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi159~ ~%mewi159%~
	ADD_KNOWN_SPELL ~mewi160~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi160~ ~%mewi160%~
	ADD_KNOWN_SPELL ~mewi251~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi251~ ~%mewi251%~
	ADD_KNOWN_SPELL ~mewi252~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi252~ ~%mewi252%~
	ADD_KNOWN_SPELL ~mewi253~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi253~ ~%mewi253%~
	ADD_KNOWN_SPELL ~mewi254~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi254~ ~%mewi254%~
	ADD_KNOWN_SPELL ~mewi256~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi256~ ~%mewi256%~
	ADD_KNOWN_SPELL ~mewi257~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi257~ ~%mewi257%~
	ADD_KNOWN_SPELL ~mewi258~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi258~ ~%mewi258%~
	ADD_KNOWN_SPELL ~mewi259~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi259~ ~%mewi259%~
	ADD_KNOWN_SPELL ~mewi260~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi260~ ~%mewi260%~
	ADD_KNOWN_SPELL ~mewi351~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi351~ ~%mewi351%~
	ADD_KNOWN_SPELL ~mewi352~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi352~ ~%mewi352%~
	ADD_KNOWN_SPELL ~mewi353~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi353~ ~%mewi353%~
	ADD_KNOWN_SPELL ~mewi356~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi356~ ~%mewi356%~
	ADD_KNOWN_SPELL ~mewi357~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi357~ ~%mewi357%~
	ADD_KNOWN_SPELL ~mewi359~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi359~ ~%mewi359%~
	ADD_KNOWN_SPELL ~mewi360~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi360~ ~%mewi360%~
	ADD_KNOWN_SPELL ~mewi451~ #3 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi451~ ~%mewi451%~
	ADD_KNOWN_SPELL ~mewi452~ #3 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi452~ ~%mewi452%~
	ADD_KNOWN_SPELL ~mewi454~ #3 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi454~ ~%mewi454%~
	ADD_KNOWN_SPELL ~mewi455~ #3 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi455~ ~%mewi455%~
	ADD_KNOWN_SPELL ~mewi456~ #3 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi456~ ~%mewi456%~
	ADD_KNOWN_SPELL ~mewi457~ #3 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi457~ ~%mewi457%~
	ADD_KNOWN_SPELL ~mewi459~ #3 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi459~ ~%mewi459%~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24022) STR_VAR resource=~meidecre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexinvokelua target=1 timing=3 parameter1=0x4F43454D parameter2=0x313031 special=0 STR_VAR resource=~MESETQSP~ END

COPY_EXISTING_REGEXP ~rasaad.*.cre~ ~override~
	WRITE_BYTE wisdom 18
	WRITE_BYTE dexterity 21
	ADD_MEMORIZED_SPELL ~meco048~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco247~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco248~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=9 parameter1=20 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalmissbonus target=1 timing=9 parameter1=(0 - 1) parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24023) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~safana.*.cre~ ~override~
	WRITE_BYTE dexterity 18
	WRITE_BYTE charisma 25
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitswashbuckler
	END
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 5
	SET_BG2_PROFICIENCY PROFICIENCYDART 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 1
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	REMOVE_MEMORIZED_SPELL ~spin119~
	REMOVE_KNOWN_SPELL ~spin119~
	ADD_MEMORIZED_SPELL ~meco112~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco045~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco034~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=1 timing=9 parameter1=(0 - 10) parameter2=setbaseac END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24024) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~safana[4-7].cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2

COPY_EXISTING_REGEXP ~sharte.*.cre~ ~override~
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 3
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitkensai
	END
	REMOVE_CRE_ITEM ~helm01~ ~leat04~ ~chan04~ ~plat01~ ~dagg01~ ~xbow04~ ~bolt01~
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 0
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 5
	SET_BG2_PROFICIENCY PROFICIENCYMACE 5
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 1
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco113~ #0 ~innate~ (4)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=modifyac END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=5 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleedamage target=1 timing=9 parameter1=5 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24025) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~sharte4.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 2

COPY_EXISTING ~sharte6.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3

COPY_EXISTING_REGEXP ~skie.*.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYDART 0
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 1
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 1
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	ADD_MEMORIZED_SPELL ~meco208~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=backstabeveryhit target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=156 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=(0 - 1) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24026) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~tiax.*.cre~ ~override~
	WRITE_BYTE elecresistance 99
	WRITE_BYTE strength 16
	WRITE_BYTE intelligence 16
	WRITE_BYTE wisdom 16
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 4
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco291~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco292~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco295~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco151~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=27 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=159 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydetectillusion target=1 timing=9 parameter1=100 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24027) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~viconi.*.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYMACE 1
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 1
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	REMOVE_KNOWN_SPELL ~sppr313~
	ADD_MEMORIZED_SPELL ~meco005~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco027~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco155~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco159~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~spdm101~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~spdm102~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~spdm106~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~spdm108~ #0 ~innate~
//	ADD_MEMORIZED_SPELL ~medm144~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~spwi228~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~medm144~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems057~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=13 special=0 STR_VAR resource=~mevicond~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=13 special=2 STR_VAR resource=~meviconn~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=3 parameter2=1 special=695 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=1 parameter2=1 special=697 STR_VAR resource=~SPPR103~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=1 parameter2=1 special=697 STR_VAR resource=~SPPR217~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=1 parameter2=1 special=697 STR_VAR resource=~SPPR315~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24028) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~voghil7.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablebutton END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END
	IF_EXISTS

COPY_EXISTING_REGEXP ~xan.*.cre~ ~override~ ~ttxan.cre~ ~override~
	WRITE_SHORT currenthp 7
	WRITE_BYTE strength 18
	WRITE_BYTE constitution 3
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco375~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco294~ #0 ~innate~ (3)
	ADD_KNOWN_SPELL ~spwi411~ #3 ~wizard~
	ADD_KNOWN_SPELL ~spwi428~ #3 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=152 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 parameter2=0 special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=5 parameter2=0 special=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24029) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~xan.*.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=imprisonment target=1 timing=9 END

COPY_EXISTING_REGEXP ~xzar.*.cre~ ~override~
	WRITE_BYTE coldresistance 99
	WRITE_BYTE magiccoldresistance 120
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE constitution 3
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco028~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco312~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco029~ #0 ~innate~
	ADD_KNOWN_SPELL ~mewi354~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi354~ ~%mewi354%~
	ADD_CRE_ITEM ~WAND02~ #3 #0 #0 ~IDENTIFIED~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=159 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=25 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24030) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~yeslic.*.cre~ ~override~
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 21
	WRITE_BYTE levelfirstclass 4
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 2
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 2
	SET_BG2_PROFICIENCY PROFICIENCYMACE 2
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 2
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 2
	SET_BG2_PROFICIENCY PROFICIENCYSLING 2
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	REMOVE_MEMORIZED_SPELL ~spin112~
	REMOVE_KNOWN_SPELL ~spin112~
	ADD_MEMORIZED_SPELL ~meco402~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco030~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco031~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco052~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco054~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=modifyfatigue END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	PATCH_IF MOD_IS_INSTALLED ~EEex.tp2~ ~0~ BEGIN
		LPF ADD_CRE_EFFECT INT_VAR opcode=wildsurge target=1 timing=9 parameter1=90 parameter2=2 special=1 END
	END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24031) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~yeslic5.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 1

COPY_EXISTING_REGEXP ~ajanti.*\.cre~ ~override~ ~alora.*\.cre~ ~override~ ~arkani.*\.cre~ ~override~ ~baelot.*\.cre~ ~override~ ~bdmkhi7\.cre~ ~override~ ~branwe.*\.cre~ ~override~ ~cander\.cre~ ~override~ ~coran.*\.cre~ ~override~ ~corwin7\.cre~ ~override~ ~deder.*\.cre~ ~override~ ~dorn.*\.cre~ ~override~ ~dynahe.*\.cre~ ~override~ ~edwin.*\.cre~ ~override~ ~eldoth.*\.cre~ ~override~ ~faldor.*\.cre~ ~override~ ~garric.*\.cre~ ~override~ ~glint7\.cre~ ~override~ ~imoen.*\.cre~ ~override~ ~jaheir.*\.cre~ ~override~ ~kagain.*\.cre~ ~override~ ~khalid.*\.cre~ ~override~ ~kivan.*\.cre~ ~override~ ~minsc.*\.cre~ ~override~ ~montar.*\.cre~ ~override~ ~mordai\.cre~ ~override~ ~neera.*\.cre~ ~override~ ~osprey\.cre~ ~override~ ~quayle.*\.cre~ ~override~ ~rasaad.*\.cre~ ~override~ ~safana.*\.cre~ ~override~ ~sharte.*\.cre~ ~override~ ~skie.*\.cre~ ~override~ ~tiax.*\.cre~ ~override~ ~viconi.*\.cre~ ~override~ ~voghil7\.cre~ ~override~ ~xan.*\.cre~ ~override~ ~xzar.*\.cre~ ~override~ ~yeslic.*\.cre~ ~override~ ~ttbran\.cre~ ~override~ ~ttimoen\.cre~ ~override~ ~ttjaheir\.cre~ ~override~ ~ttminsc\.cre~ ~override~ ~ttxan\.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	IF_EXISTS

ACTION_IF MOD_IS_INSTALLED ~Setup-Sirene.tp2~ ~0~ BEGIN

	COPY_EXISTING ~c0sirene.cre~ ~override~
		WRITE_BYTE constitution 25
		LPF GIVE_CORRECT_SPELL_SLOTS END
		LPF GIVE_CORRECT_PRIEST_SPELLS END
		ADD_MEMORIZED_SPELL ~meco281~ #0 ~innate~ (1)
		LPF ADD_CRE_EFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=9 parameter1=(0 - 100) END
		LPF ADD_CRE_EFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=9 parameter1=(0 - 100) END
		LPF ADD_CRE_EFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=9 parameter1=(0 - 100) END
		LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissileresistance target=1 timing=9 parameter1=(0 - 100) END
		LPF ADD_CRE_EFFECT INT_VAR opcode=modifymaxhp target=1 timing=9 parameter1=240 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=87 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=regeneration target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28001) STR_VAR resource=~meidecre~ END
		IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~setup-TenyaThermidor.tp2~ ~0~ BEGIN

	COPY_EXISTING_REGEXP ~tenya.*\.cre~ ~override~
		LPF GIVE_CORRECT_SPELL_SLOTS END
		LPF GIVE_CORRECT_PRIEST_SPELLS END
		LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
		IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~setup-bgeenpcpack.tp2~ ~0~ BEGIN

COPY_EXISTING ~gv#dave.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_KNOWN_SPELL ~mesl005~ #1 ~priest~
	ADD_KNOWN_SPELL ~spdr301~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr302~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr325~ #2 ~priest~
	ADD_KNOWN_SPELL ~meco106~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr420~ #3 ~priest~
	ADD_KNOWN_SPELL ~mesl002~ #3 ~priest~
	ADD_KNOWN_SPELL ~mesl001~ #4 ~priest~
	ADD_KNOWN_SPELL ~mesl003~ #4 ~priest~
	ADD_KNOWN_SPELL ~mesl004~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr503~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr612~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr617~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr705~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr721~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr722~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr734~ #6 ~priest~
	ADD_MEMORIZED_SPELL ~meco229~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonusfire END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonuscold END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=100 parameter2=bonuselectricity END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonusacid END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28003) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~gv#flar.cre~ ~override~
	WRITE_SHORT currenthp 184
	WRITE_SHORT maxhp 184
	WRITE_SHORT naturalac 65525 //-11
	WRITE_SHORT effectiveac 65525 //-11
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 15
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 100
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28004) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~gv#flar.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_KNOWN_SPELL ~spwi922~ #8 ~wizard~
	ADD_MEMORIZED_SPELL ~meco087~ #0 ~innate~ (1)
	IF_EXISTS

COPY_EXISTING ~gv#litt.cre~ ~override~
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffilewhileontype target=1 timing=9 parameter2=27 STR_VAR resource=~meei003~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~meclrfot~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28005) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~gv#litt.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco013~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco045~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco047~ #0 ~innate~ (2)
	IF_EXISTS

COPY_EXISTING ~gv#moid.cre~ ~override~
	ADD_MEMORIZED_SPELL ~meco118~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco301~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco333~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28006) STR_VAR resource=~meidecre~ END
	IF_EXISTS

END

COPY_EXISTING ~gv#vynd.cre~ ~override~
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco332~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meco331~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovesilently target=1 timing=9 parameter1=60 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyhideinshadows target=1 timing=9 parameter1=60 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28007) STR_VAR resource=~meidecre~ END
	IF_EXISTS

ACTION_IF MOD_IS_INSTALLED ~FinchNPC.tp2~ ~0~ BEGIN

COPY_EXISTING_REGEXP ~sufinch.*\.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_KNOWN_SPELL ~sppr203~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr209~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr211~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr304~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr415~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr505~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr508~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr512~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr611~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr706~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr718~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr719~ #6 ~priest~
	ADD_KNOWN_SPELL ~mepr751~ #6 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr751~ ~%mepr751%~
	ADD_MEMORIZED_SPELL ~meco270~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=1 parameter2=1 special=644 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=bonuspriestspells target=1 timing=9 parameter1=7 parameter2=0 special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28008) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~misc3p.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=bonuspriestspells target=1 timing=9 parameter1=1 parameter2=255 special=1 END

COPY_EXISTING ~book03.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=applyeffectslist target=1 timing=9 parameter1=1 parameter2=splprot_mecharacteridequalto STR_VAR resource=~mebofi03~ END

COPY_EXISTING ~book04.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=applyeffectslist target=1 timing=9 parameter1=1 parameter2=splprot_mecharacteridequalto STR_VAR resource=~mebofi04~ END

COPY_EXISTING ~book05.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=applyeffectslist target=1 timing=9 parameter1=1 parameter2=splprot_mecharacteridequalto STR_VAR resource=~mebofi05~ END

COPY_EXISTING ~book06.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=applyeffectslist target=1 timing=9 parameter1=1 parameter2=splprot_mecharacteridequalto STR_VAR resource=~mebofi06~ END

COPY_EXISTING ~book07.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=applyeffectslist target=1 timing=9 parameter1=1 parameter2=splprot_mecharacteridequalto STR_VAR resource=~mebofi07~ END

COPY_EXISTING ~book08.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=applyeffectslist target=1 timing=9 parameter1=1 parameter2=splprot_mecharacteridequalto STR_VAR resource=~mebofi08~ END

COPY_EXISTING ~mebooklk.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR type=3 opcode=applyeffectslist target=1 timing=9 parameter1=1 parameter2=splprot_mecharacteridequalto STR_VAR resource=~mebofilk~ END

COPY_EXISTING ~mebofilk.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@628) END

END

ACTION_IF MOD_IS_INSTALLED ~gavin.tp2~ ~0~ BEGIN

COPY_EXISTING ~b!gavin.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco153~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco337~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyturnundeadlevel target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megavind~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megavinm~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=13 special=0 STR_VAR resource=~megavind~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=13 special=3 STR_VAR resource=~megavinm~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28009) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~megavinm.eff~ ~override~
	WRITE_LONG effparameter2 splprot_ismorning

END

ACTION_IF MOD_IS_INSTALLED ~Setup-IndiNPC.tp2~ ~0~ BEGIN

COPY_EXISTING_REGEXP ~j#indi.*\.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 2
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~meco335~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~meco335~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncriticalhit target=1 timing=9 STR_VAR resource=~meco335c~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28015) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~j#indi.*\.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco311~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco370~ #0 ~innate~ (1)
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~Emily.tp2~ ~0~ BEGIN

COPY_EXISTING ~x3mily.cre~ ~override~ ~x32mily.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 3
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 3
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 3
	REPLACE_CRE_ITEM ~AROW04~ #15 #0 #0 ~IDENTIFIED~ ~QUIVER1~
	REPLACE_CRE_ITEM ~BOLT03~ #10 #0 #0 ~IDENTIFIED~ ~QUIVER2~
	REPLACE_CRE_ITEM ~AROW06~ #1 #0 #0 ~IDENTIFIED~ ~QUIVER3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=75 parameter2=bonusfire END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=75 parameter2=bonuscold END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=75 parameter2=bonuselectricity END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=75 parameter2=bonusacid END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=75 parameter2=bonusmagic END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=75 parameter2=bonuspoison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28016) STR_VAR resource=~meidecre~ END
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (6)
	IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~Setup-Drake.tp2~ ~0~ BEGIN

COPY_EXISTING ~c0drake.cre~ ~override~ ~c02drake.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 4
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_KNOWN_SPELL ~sppr201~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr213~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr214~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr312~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr313~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr408~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr409~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr412~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr417~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr503~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr507~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr512~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr513~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr518~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr607~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr612~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr613~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr618~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr701~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr710~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr713~ #6 ~priest~
	ADD_KNOWN_SPELL ~mepr751~ #6 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr751~ ~%mepr751%~
	ADD_MEMORIZED_SPELL ~meco330~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco282~ #0 ~innate~ (1)
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=wildsurge target=1 timing=9 parameter1=21 parameter2=2 special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28017) STR_VAR resource=~meidecre~ END
	IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~Korax_NPC.tp2~ ~0~ BEGIN

COPY_EXISTING ~korax.cre~ ~override~ ~usko01.cre~ ~override~
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE thac0 236 //-20
//	ADD_MEMORIZED_SPELL ~meco338~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco339~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco340~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterkillssomeone STR_VAR resource=~mewi453d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28018) STR_VAR resource=~meidecre~ END
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~ntotsc.tp2~ ~6~ BEGIN

COPY_EXISTING_REGEXP ~ntwill.*\.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco342~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco343~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco344~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=9 parameter1=1 parameter2=0 STR_VAR resource=~meco341~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28019) STR_VAR resource=~meidecre~ END
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~Vienxay.tp2~ ~0~ BEGIN

COPY_EXISTING ~x3vien.cre~ ~override~ ~x32vien.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonuscold END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~meco345~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28020) STR_VAR resource=~meidecre~ END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco090~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco091~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco092~ #0 ~innate~ (3)
	IF_EXISTS

/*
COPY_EXISTING ~x3vglo.itm~ ~override~
	LPF DELETE_EFFECT INT_VAR silent=1 check_headers=0 check_globals=1 match_opcode=bonuswizardspells END
*/

END


ACTION_IF MOD_IS_INSTALLED ~Kale.tp2~ ~0~ BEGIN

COPY_EXISTING ~x3kale.cre~ ~override~ ~x32kale.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meco336~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~meco346~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28021) STR_VAR resource=~meidecre~ END
	ADD_MEMORIZED_SPELL ~meco034~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco116~ #0 ~innate~ (1)
	IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~verrsza.tp2~ ~0~ BEGIN

COPY_EXISTING ~l#1verr1.cre~ ~override~ ~l#1dver.cre~ ~override~ ~l#1dvee.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=159 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28022) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~l#1han.*\.itm~ ~override~
	WRITE_SHORT 0x1c 28
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~l1bli.spl~ ~override~ ~l1dim.spl~ ~override~ ~l1id.spl~ ~override~ ~l1lar.spl~ ~override~ ~l1mir.spl~ ~override~ ~l1ref.spl~ ~override~ ~l1mark.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_ability_at_will%~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	IF_EXISTS

COPY_EXISTING ~l1dim.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playvisualeffectbg2 target=1 timing=1 insert_point=0 STR_VAR resource=~DDOORH~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playsound target=1 timing=1 insert_point=0 STR_VAR resource=~EFF_M93~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=teleport target=1 timing=1 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playvisualeffectbg2 target=1 timing=1 insert_point=0 STR_VAR resource=~DDOORH~ END
	IF_EXISTS

COPY_EXISTING ~l1mark.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=removeeffectsbyresource target=2 timing=9 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~Setup-Aura_BG1.tp2~ ~0~ BEGIN

COPY_EXISTING ~c0aura.cre~ ~override~ ~c02aura.cre~ ~override~
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setglobalvariable target=1 timing=9 parameter1=1 STR_VAR resource=~C0AUIN5~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=canuseanyitem target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28023) STR_VAR resource=~meidecre~ END
	ADD_MEMORIZED_SPELL ~c0auin4~ #0 ~innate~ (1)
	IF_EXISTS

COPY_EXISTING ~c0apoth5.itm~ ~override~
	READ_LONG IDENTIFIED_DESC thedescription
	LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~\+1~ replace_with=~+5~ END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~c0auin4.spl~ ~override~
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_ability_once_per_week%~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=4 duration=50400 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~c0potn5[a-e].eff~ ~override~
	WRITE_LONG effparameter1 5
	IF_EXISTS

COPY_EXISTING_REGEXP ~c0potn5[fg].eff~ ~override~
	WRITE_LONG effparameter1 0xFFFFFFFB //-5
	IF_EXISTS

COPY_EXISTING ~c0aualch.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,2)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,2)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,5)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,5)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,8)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,8)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,11)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,11)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,14)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,14)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,17)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,17)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,20)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,20)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,23)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,23)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!ClassLevelGT(LastSummonerOf(Myself),ROGUE,26)~ ~False()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(LastSummonerOf(Myself),ROGUE,26)~ ~True()~
	END
	IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~Ishlilkamod-setup.tp2~ ~0~ BEGIN

COPY_EXISTING ~#ishy.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 4
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 0
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncriticalhit target=1 timing=9 STR_VAR resource=~meco349~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28024) STR_VAR resource=~meidecre~ END
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco046~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco152~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco003~ #0 ~innate~ (3)
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~mur'neth.tp2~ ~0~ BEGIN

COPY_EXISTING ~a#murn.cre~ ~override~ ~a#fmurn.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28025) STR_VAR resource=~meidecre~ END
	ADD_MEMORIZED_SPELL ~mems013~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco350~ #0 ~innate~ (3)
	IF_EXISTS

COPY_EXISTING ~a#ghaun1.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=createweapon STR_VAR resource=~mea#jell~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=polymorph parameter2=1 STR_VAR resource=~jellmu~ END
	SAY UNIDENTIFIED_DESC @2824
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~Helarine_BGEE.Tp2~ ~0~ BEGIN

COPY_EXISTING ~jklhel.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=50 parameter2=0 special=620 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyturnundeadlevel target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonusmagic END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28026) STR_VAR resource=~meidecre~ END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco240~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco290~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco352~ #0 ~innate~ (1)
	IF_EXISTS
/*
COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=modifycurrenthp match_parameter2=0 opcode=eeexinvokelua timing=0 duration=0 dicenumber=0 dicesize=0 STR_VAR resource=~MEEXHEAL~ insert=~below~ END
	BUT_ONLY_IF_IT_CHANGES
*/
END

ACTION_IF MOD_IS_INSTALLED ~white.TP2~ ~0~ BEGIN

COPY_EXISTING ~v#1whi.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=245 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=246 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=247 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28027) STR_VAR resource=~meidecre~ END
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco283~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meinfast~ END
	IF_EXISTS
END

ACTION_IF MOD_IS_INSTALLED ~valerie.tp2~ ~0~ BEGIN

COPY_EXISTING ~t2val.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=0x3450001 parameter2=1 special=616 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=2 parameter2=0 special=619 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28028) STR_VAR resource=~meidecre~ END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meha150~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco269~ #0 ~innate~ (1)
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~setup-isra.tp2~ ~0~ BEGIN

COPY_EXISTING ~rh#isra.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~medamisr~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~medamisr~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~meco371~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28029) STR_VAR resource=~meidecre~ END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco372~ #0 ~innate~ (1)
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~Setup-Ellyrian.tp2~ ~0~ BEGIN

COPY_EXISTING ~c1elly.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=100 parameter2=0 special=620 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=9 parameter1=10 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~MECO379~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~MECO379~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28030) STR_VAR resource=~meidecre~ END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco031~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco378~ #0 ~innate~ (1)
	IF_EXISTS
/*
COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=modifycurrenthp match_parameter2=0 opcode=eeexinvokelua timing=0 duration=0 dicenumber=0 dicesize=0 STR_VAR resource=~MEEXHEAL~ insert=~below~ END
	BUT_ONLY_IF_IT_CHANGES
*/
END

ACTION_IF MOD_IS_INSTALLED ~Setup-Helga.tp2~ ~0~ BEGIN

COPY_EXISTING ~x3helga.cre~ ~override~
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=32 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~meco380~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~meco380~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncriticalhit target=1 timing=9 STR_VAR resource=~meco380c~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28031) STR_VAR resource=~meidecre~ END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meco302~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco381~ #0 ~innate~ (2)
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~Setup-Recorder.tp2~ ~0~ BEGIN

COPY_EXISTING ~x3rec.cre~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=bonuswizardspells special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~meco411~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=abilityrow special=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28032) STR_VAR resource=~meidecre~ END
	LPF GIVE_CORRECT_SPELL_SLOTS END
	ADD_MEMORIZED_SPELL ~meco398~ #0 ~innate~ (2)
	ADD_KNOWN_SPELL ~spwi101~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi102~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi103~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi104~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi105~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi106~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi107~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi108~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi110~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi111~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi112~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi113~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi114~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi115~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi116~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi117~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi118~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi119~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi120~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi125~ #0 ~wizard~
	ADD_KNOWN_SPELL ~spwi201~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi202~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi203~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi204~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi205~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi206~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi207~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi208~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi209~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi210~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi211~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi212~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi213~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi214~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi215~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi216~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi217~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi218~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi219~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi220~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi221~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi223~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi224~ #1 ~wizard~
	ADD_KNOWN_SPELL ~spwi225~ #1 ~wizard~
	ADD_KNOWN_SPELL ~mewi152~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi152~ ~%mewi152%~
	ADD_KNOWN_SPELL ~mewi153~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi153~ ~%mewi153%~
	ADD_KNOWN_SPELL ~mewi154~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi154~ ~%mewi154%~
	ADD_KNOWN_SPELL ~mewi155~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi155~ ~%mewi155%~
	ADD_KNOWN_SPELL ~mewi156~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi156~ ~%mewi156%~
	ADD_KNOWN_SPELL ~mewi157~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi157~ ~%mewi157%~
	ADD_KNOWN_SPELL ~mewi158~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi158~ ~%mewi158%~
	ADD_KNOWN_SPELL ~mewi159~ #0 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi159~ ~%mewi159%~
	ADD_KNOWN_SPELL ~mewi251~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi251~ ~%mewi251%~
	ADD_KNOWN_SPELL ~mewi252~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi252~ ~%mewi252%~
	ADD_KNOWN_SPELL ~mewi253~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi253~ ~%mewi253%~
	ADD_KNOWN_SPELL ~mewi254~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi254~ ~%mewi254%~
	ADD_KNOWN_SPELL ~mewi255~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi255~ ~%mewi255%~
	ADD_KNOWN_SPELL ~mewi256~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi256~ ~%mewi256%~
	ADD_KNOWN_SPELL ~mewi257~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi257~ ~%mewi257%~
	ADD_KNOWN_SPELL ~mewi258~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi258~ ~%mewi258%~
	ADD_KNOWN_SPELL ~mewi356~ #2 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi356~ ~%mewi356%~
	ADD_KNOWN_SPELL ~mewi659~ #5 ~wizard~
	IF_EXISTS

END


PRINT @173

COPY_EXISTING ~aasim.cre~ ~override~
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 88
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 19
	WRITE_BYTE wisdom 22
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meaasim~ #8
	WRITE_ASCII generalscript ~leavech7~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII scriptname ~AASIM~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr405~ #3 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr705~ #6 ~priest~ (3)
	SET_BG2_PROFICIENCY PROFICIENCYMACE 2
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~LRING~
//	ADD_CRE_ITEM ~WA2AMU~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV6~

COPY_EXISTING ~alai.cre~ ~override~
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 31
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mealai~ #8
	WRITE_ASCII generalscript ~leavech7~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	WRITE_ASCII scriptname ~ALAI~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi118~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi718~ #6 ~wizard~ (4)
	SET_BG2_PROFICIENCY PROFICIENCYSLING 2
	SET_BG2_PROFICIENCY PROFICIENCYAXE 2
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~CHAN12~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SLNG02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~AX1H01~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~BULL04~ #40 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~SCRL8M~ #0 #0 #0 ~NONE~ ~INV2~
	ADD_CRE_ITEM ~SCRL8T~ #0 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV6~

COPY_EXISTING ~alatos.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 18
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 5
	WRITE_BYTE levelfirstclass 40
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mealatos~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 1
	REPLACE_CRE_ITEM ~MESW1H58~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SW1H08~ #0 #0 #0 ~NONE~ ~WEAPON2~
	ADD_CRE_ITEM ~POTN10~ #8 #0 #0 ~IDENTIFIED~ ~QITEM1~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV5~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV6~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV7~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~

COPY_EXISTING ~albert.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 400
	WRITE_SHORT maxhp 400
	WRITE_SHORT naturalac 65526 //10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE alignment alignmentneutralevil
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicresistance 40
	WRITE_BYTE thac0 246 //-10
	WRITE_BYTE attacksperround 2
	WRITE_BYTE class classfightermagecleric
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mealbert~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~IMMUNE2~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~RINGDEMN~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MEALBERT~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~MEBLUN80~ #0 #0 #0 ~UNSTEALABLE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~aldeth.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 15
	WRITE_BYTE magicresistance 50
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mealdeth~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~mejumpto~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV10~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~alexan.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 51
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mealexan~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~clck11~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mebootlv~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~sw2h01~ #0 #1 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~xbow04~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	REPLACE_CRE_ITEM ~bolt03~ #20 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~bolt02~ #20 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV10~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END

COPY_EXISTING ~algern.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 56
	WRITE_SHORT maxhp 56
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevspolymorph 17
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdoppleganger
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~mealgern~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END

COPY_EXISTING ~alyth.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 15
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 15
	WRITE_BYTE thac0 9
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~shout~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mealyth~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~UNSTEALABLE~ ~INV7~

COPY_EXISTING ~amaran.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 350
	WRITE_SHORT maxhp 350
	WRITE_SHORT kit kitavenger
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE wisdom 25
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 8
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meamaran~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr115~ #0 ~priest~ (15)
	ADD_MEMORIZED_SPELL ~spdr201~ #1 ~priest~ (13)
	ADD_MEMORIZED_SPELL ~sppr302~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr315~ #2 ~priest~ (8)
	ADD_MEMORIZED_SPELL ~spdr301~ #2 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr419~ #3 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~spdr401~ #3 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~meco106~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr502~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~spdr501~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr617~ #5 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~spdr601~ #5 ~priest~ (6)
	ADD_MEMORIZED_SPELL ~sppr717~ #6 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr720~ #6 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr722~ #6 ~priest~ (2)
	REPLACE_CRE_ITEM ~LEAT01~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MAGE05~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=spellfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING_REGEXP ~amnis.*.cre~ ~override~ ~amsleep.cre~ ~override~ ~bardol.cre~ ~override~ ~hick.cre~ ~override~ ~dandal.cre~ ~override~
	WRITE_LONG killxp 650
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 17
	WRITE_BYTE levelfirstclass 4
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=9 parameter1=1 parameter2=2 STR_VAR resource=~meamnian~ END

COPY_EXISTING ~andars.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=offscreenai target=1 timing=9 parameter2=1 END

COPY_EXISTING ~andris.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE general generalhumanoid //Previously he was classified as a MONSTER!
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 25
	WRITE_BYTE charisma 20
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meandris~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~merobe90~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~scrl9d~ #0 #0 #0 ~NONE~ ~INV2~
	ADD_CRE_ITEM ~scrl9p~ #0 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (9)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi506~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=deafness END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=8 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~angelo.cre~ ~override~ ~galdor.cre~ ~override~ ~retard.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 86
	WRITE_SHORT maxhp 86
	WRITE_BYTE fireresistance 75
	WRITE_BYTE coldresistance 75
	WRITE_BYTE magicfireresistance 75
	WRITE_BYTE magiccoldresistance 75
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 21
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meangelo~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 2
	REPLACE_CRE_ITEM ~bow02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~mearow25~ #80 #0 #0 ~UNDROPPABLE~ ~QUIVER1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~ankheg.cre~ ~override~
	SAY NAME1 @18319
	WRITE_LONG killxp 1950
	WRITE_SHORT currenthp 52
	WRITE_SHORT maxhp 52
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_SHORT acmodslashing 65533 //-3
	WRITE_SHORT acmodpiercing 65535 //-1
	WRITE_SHORT acmodmissile 65535 //-1
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 5
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 2
	WRITE_BYTE fireresistance 0
	WRITE_BYTE acidresistance 100
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 10
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 226 //-30
	WRITE_BYTE attacksperround 7 //1.5
	WRITE_BYTE levelfirstclass 7
	REMOVE_CRE_ITEM ~misc12~
	REPLACE_CRE_ITEM ~meankhe3~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~meankhe2~ #0 #0 #0 ~NONE~ ~WEAPON2~

COPY_EXISTING ~ankhegf.cre~ ~override~
	SAY NAME1 @18322
	SAY NAME2 @18001
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_SHORT acmodslashing 65533 //-3
	WRITE_SHORT acmodpiercing 65535 //-1
	WRITE_SHORT acmodmissile 65535 //-1
	WRITE_LONG killxp 3900
	WRITE_SHORT currenthp 156
	WRITE_SHORT maxhp 156
	WRITE_BYTE strength 20
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 24
	WRITE_BYTE intelligence 8
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 5
	WRITE_BYTE fireresistance 0
	WRITE_BYTE acidresistance 100
	WRITE_BYTE savevsbreath 17
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 206 //-50
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII classscript ~mefollow~ #8
	REMOVE_CRE_ITEM ~misc12~
	REPLACE_CRE_ITEM ~meankhe4~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~meankhe2~ #0 #0 #0 ~NONE~ ~WEAPON2~
	ADD_CRE_ITEM ~memisc12~ #0 #0 #0 ~IDENTIFIED~ ~INV6~

COPY_EXISTING ~ankhegg.cre~ ~override~
	SAY NAME1 @18318
	WRITE_LONG killxp 1950
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_SHORT acmodslashing 65533 //-3
	WRITE_SHORT acmodpiercing 65535 //-1
	WRITE_SHORT acmodmissile 65535 //-1
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 5
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 2
	WRITE_BYTE fireresistance 0
	WRITE_BYTE acidresistance 100
	WRITE_BYTE savevsbreath 13
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 10
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 7
	WRITE_BYTE thac0 236 //-20
	REMOVE_CRE_ITEM ~misc12~
	REPLACE_CRE_ITEM ~meankhe1~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~meankhe2~ #0 #0 #0 ~NONE~ ~WEAPON2~

COPY_EXISTING ~ankhegq.cre~ ~override~
	SAY NAME1 @18321
	SAY NAME2 @18001
	WRITE_LONG killxp 3900
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_SHORT acmodslashing 65533 //-3
	WRITE_SHORT acmodpiercing 65535 //-1
	WRITE_SHORT acmodmissile 65535 //-1
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 8
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 5
	WRITE_BYTE fireresistance 0
	WRITE_BYTE acidresistance 100
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE thac0 216 //-40
	REMOVE_CRE_ITEM ~misc12~
	REPLACE_CRE_ITEM ~meankhe5~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~meankhe2~ #0 #0 #0 ~NONE~ ~WEAPON2~
	ADD_CRE_ITEM ~memisc12~ #0 #0 #0 ~IDENTIFIED~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=improvedhaste END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=3 END

COPY_EXISTING ~ardeno.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 13
	WRITE_BYTE levelsecondclass 13
	WRITE_ASCII racescript ~mechill~ #8
	WRITE_ASCII generalscript ~meardeno~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 4
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi518~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEWI567~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi607~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #6 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%mewi753%~
	ADD_MEMORIZED_SPELL ~MEWI953~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~chan12~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 parameter2=0 END

COPY_EXISTING ~arghai.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 191
	WRITE_SHORT maxhp 191
	WRITE_SHORT naturalac 15
	WRITE_SHORT effectiveac 15
	WRITE_SHORT animation 57360 //Ettin
	WRITE_LONG BATTLE_CRY1 0xFFFFFFFF
	WRITE_LONG BATTLE_CRY2 0xFFFFFFFF
	WRITE_LONG DAMAGE 0xFFFFFFFF
	WRITE_LONG DYING 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON1 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON2 0xFFFFFFFF
	WRITE_LONG PICKED_POCKET 0xFFFFFFFF
	WRITE_BYTE race 142 //Giant
	WRITE_BYTE class 180 //Giant
	WRITE_BYTE strength 21
	WRITE_BYTE constitution 20
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 206
	WRITE_BYTE elecresistance 206
	WRITE_BYTE acidresistance 206
	WRITE_BYTE magicfireresistance 206
	WRITE_BYTE magiccoldresistance 206
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 10
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 4
	WRITE_BYTE levelfirstclass 12
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 5
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~mebelt70~ #0 #0 #0 ~NONE~ ~BELT~
	REPLACE_CRE_ITEM ~blun01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~potn18~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~potn51~ #2 #0 #0 ~IDENTIFIED~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END

COPY_EXISTING ~arghh.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 240
	WRITE_SHORT maxhp 240
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE strength 25
	WRITE_BYTE constitution 25
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE magicresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE slashingresistance 156 //-100%
	WRITE_BYTE piercingresistance 156
	WRITE_BYTE crushingresistance 156
	WRITE_BYTE missileresistance 156
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~memirror~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~blun03~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 END

COPY_EXISTING ~arkion.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_BYTE intelligence 23
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mearkion~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi213~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (3)
	REPLACE_CRE_ITEM ~CLCK14~ #0 #0 #0 ~NONE~ ~ARMOR~

COPY_EXISTING ~arkush.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE alignment alignmentneutral
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mearkush~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~CLCK12~ #0 #0 #0 ~NONE~ ~ARMOR~

COPY_EXISTING ~arlin.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~megreteg~ #8
	WRITE_ASCII racescript ~mearlin~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi515~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi714~ #6 ~wizard~ (4)
	REPLACE_CRE_ITEM ~CLCK12~ #0 #0 #0 ~NONE~ ~ARMOR~

COPY_EXISTING ~ashiru.cre~ ~override~ ~ntashiru.cre~ ~override~
	WRITE_LONG killxp 3500
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_SHORT animation 25105 //Mage female elf
	WRITE_BYTE class classmage
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 20
	WRITE_BYTE fireresistance 0
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 0
	WRITE_BYTE magicresistance 50
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE thac0 3
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meashiru~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~sw1h21~
	REPLACE_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=25 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=translucency target=1 timing=9 parameter1=135 END
	IF_EXISTS

COPY_EXISTING ~avaricem.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_SHORT naturalac 65527 //-9
	WRITE_SHORT effectiveac 65527 //-9
	WRITE_BYTE class classthief
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 20
	WRITE_BYTE fireresistance 0
	WRITE_BYTE coldresistance 0
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 0
	WRITE_BYTE magicresistance 40
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 0
	WRITE_BYTE slashingresistance 0
	WRITE_BYTE piercingresistance 0
	WRITE_BYTE crushingresistance 0
	WRITE_BYTE missileresistance 0
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 11
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~reddeath~ #8
	WRITE_ASCII racescript ~meavarim~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 1
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~sw1h08~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~misc1j~ #1 #0 #0 ~NONE~ ~QITEM3~
	REPLACE_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=25 END

COPY_EXISTING ~baerin.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 96
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mebaerin~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 2
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SW2H01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~AROW05~ #40 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~

COPY_EXISTING_REGEXP ~band.*.cre~ ~override~ ~ironelit.cre~ ~override~ ~btelite.cre~ ~override~ ~credus.cre~ ~override~ ~taugos.cre~ ~override~
	READ_SHORT currenthp banditcurrenthp
	READ_SHORT maxhp banditmaxhp
	WRITE_SHORT currenthp (banditcurrenthp + 12)
	WRITE_SHORT maxhp (banditmaxhp + 12)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END
	IF_EXISTS

COPY_EXISTING ~bandic.cre~ ~override~ //Deke
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 82
	WRITE_SHORT maxhp 82
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 15
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	SET_BG2_PROFICIENCY PROFICIENCYDART 5
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~chan01~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~dart03~ #15 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~dart02~ #60 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~sw1h01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~

COPY_EXISTING ~banditc.cre~ ~override~ ~credus.cre~ ~override~ ~taugos.cre~ ~override~
	WRITE_ASCII overridescript ~bandit~ #8
	WRITE_ASCII classscript ~mebtcamp~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=setlocalvariable target=1 timing=9 parameter1=0 STR_VAR effvar=~Blacktalon_Signal~ END

COPY_EXISTING ~banditcy.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE levelfirstclass 7
	WRITE_ASCII classscript ~mebandcy~ #8
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END

COPY_EXISTING ~bart9.cre~ ~override~ ~barslim.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24080) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~baruk.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE missileresistance 50
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 16
	WRITE_BYTE thac0 9
	WRITE_BYTE levelfirstclass 12
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	REPLACE_CRE_ITEM ~helm11~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~mebow20~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~comps02~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~arow09~ #40 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	ADD_MEMORIZED_SPELL ~MEPCSPL~ #4 ~wizard~ (4)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPCSPL~ ~%mewi557%~
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresa~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresr~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi403d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi418d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~mepull01~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycoldresistance target=1 timing=1 parameter1=50 resist_dispel=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyfireresistance target=1 timing=1 parameter1=50 resist_dispel=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=1 parameter1=20 END

COPY_EXISTING ~bassil.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE wisdom 22
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mebassil~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~HAMM01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~SCRL5F~ #2 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr101~ #0 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mems107~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr740~ #6 ~priest~ (1)

COPY_EXISTING_REGEXP ~bat_.*.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24088) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~battho.cre~ ~override~ ~helmho.cre~ ~override~ ~doomgu.cre~ ~override~ ~doomdur.cre~ ~override~ ~medoomdu.cre~ ~override~
	READ_LONG creflags ulgiash
	ulgiash|=0x400000 //These creatures are now unaffected by Legacy of Bhaal
	WRITE_LONG creflags ulgiash

COPY_EXISTING ~battho.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 22
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 19
	WRITE_BYTE wisdom 3
	WRITE_BYTE charisma 3
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
//	WRITE_SHORT animation 25605 //doom guard
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 25
	WRITE_BYTE acidresistance 0
	WRITE_BYTE magicresistance 0
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 25
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 1
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII generalscript ~mebattho~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (3)
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 5
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
//	ADD_CRE_ITEM ~helm10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	ADD_CRE_ITEM ~plat04~ #0 #0 #0 ~UNDROPPABLE~ ~ARMOR~
	ADD_CRE_ITEM ~mecblade~ #0 #0 #0 ~UNDROPPABLE~ ~SHIELD~
	ADD_CRE_ITEM ~fblade~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	ADD_CRE_ITEM ~ring95~ #0 #0 #0 ~NONE~ ~LRING~
//	ADD_CRE_ITEM ~mefixres~ #0 #0 #0 ~NONE~ ~RRING~
//	REPLACE_CRE_ITEM ~mergcure~ #0 #0 #0 ~NONE~ ~BELT~
	ADD_CRE_ITEM ~boot08~ #0 #0 #0 ~UNDROPPABLE~ ~BOOTS~
//	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV1~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter1=slay END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=normalhaste END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24110) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~basilg.cre~ ~override~ ~basilmut.cre~ ~override~ ~basilgsu.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 160
	WRITE_SHORT maxhp 160
	WRITE_SHORT naturalac 65533 //-3
	WRITE_SHORT effectiveac 65533 //-3
	WRITE_BYTE strength 20
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 20
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 156 //-100%
	WRITE_BYTE elecresistance 206 //-50%
	WRITE_BYTE magicfireresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 156 //-100%
	WRITE_BYTE savevsbreath 14
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE thac0 8
	WRITE_BYTE attacksperround 2
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mebasilg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
//	ADD_CRE_ITEM ~megazbsg~ #0 #0 #0 ~NONE~ ~CLOAK~
	REPLACE_CRE_ITEM ~mebasilg~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megazbsg~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~megazbgs~ effsource=~menogaz~ END

COPY_EXISTING ~basill.cre~ ~override~ ~basillsu.cre~ ~override~
	WRITE_LONG killxp 1250
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_SHORT naturalac 2
	WRITE_SHORT effectiveac 2
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 79
	WRITE_BYTE constitution 18
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 156 //-100%
	WRITE_BYTE elecresistance 206 //-50%
	WRITE_BYTE magicfireresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 156 //-100%
	WRITE_BYTE savevsbreath 17
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 10
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE thac0 13
	WRITE_BYTE attacksperround 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mebasill~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~p2-16~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megazbsl~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~megazbls~ effsource=~menogaz~ END

COPY_EXISTING ~basilnad.cre~ ~override~
	SAY NAME1 @18002
	SAY NAME2 @18002
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 260
	WRITE_SHORT maxhp 260
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_SHORT animation slotbasilisklargedecimal
	WRITE_BYTE strength 23
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 23
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 156 //-100%
	WRITE_BYTE elecresistance 206 //-50%
	WRITE_BYTE magicfireresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 156 //-100%
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 25
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 3
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mebasiln~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~mebasiln~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON3~
	ADD_CRE_ITEM ~MEPERM02~ #1 #0 #0 ~UNSTEALABLE~ ~INV3~
	ADD_CRE_ITEM ~MEPERM02~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megazbsn~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~megazbns~ effsource=~menogaz~ END

COPY_EXISTING ~bdsha01a.cre~ ~override~
	WRITE_BYTE race 117

COPY_EXISTING ~bdsha01b.cre~ ~override~
	WRITE_BYTE race 183

COPY_EXISTING ~bdsha06a.cre~ ~override~
	WRITE_BYTE race 103

COPY_EXISTING ~bdsha06b.cre~ ~override~
	WRITE_BYTE race 182

COPY_EXISTING ~bearbl.cre~ ~override~ ~rsbearbl.cre~ ~override~
	WRITE_LONG killxp 700
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 14
	WRITE_BYTE acidresistance 100
	REPLACE_CRE_ITEM ~mebearbl~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~bearblsu.cre~ ~override~
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 14
	WRITE_BYTE acidresistance 100
	REPLACE_CRE_ITEM ~mebearbl~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~bearbr.cre~ ~override~
	WRITE_LONG killxp 700
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 14
	WRITE_BYTE elecresistance 100
	ADD_CRE_ITEM ~mebearbr~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~bearbrsu.cre~ ~override~
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 14
	WRITE_BYTE elecresistance 100
	ADD_CRE_ITEM ~mebearbr~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~bearca.cre~ ~override~ ~cavene.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE strength 20
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 20
	WRITE_BYTE thac0 7
	WRITE_BYTE fireresistance 100
	ADD_CRE_ITEM ~mebearca~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~bearcasu.cre~ ~override~
	WRITE_SHORT currenthp 55
	WRITE_SHORT maxhp 55
	WRITE_BYTE strength 20
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 20
	WRITE_BYTE thac0 7
	WRITE_BYTE fireresistance 100
	ADD_CRE_ITEM ~mebearca~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING_REGEXP ~bearpo.cre~ ~override~ ~bearpo[123].cre~ ~override~ ~ntbearpo.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE strength 20
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 20
	WRITE_BYTE thac0 7
	WRITE_BYTE coldresistance 100
	ADD_CRE_ITEM ~mebearpo~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~bearposu.cre~ ~override~
	SAY NAME1 #9345
	SAY NAME2 #9345
	WRITE_SHORT currenthp 55
	WRITE_SHORT maxhp 55
	WRITE_BYTE strength 20
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 20
	WRITE_BYTE thac0 7
	WRITE_BYTE coldresistance 100
	ADD_CRE_ITEM ~mebearpo~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~bearpo1.cre~ ~override~
	ADD_CRE_ITEM ~boot03~ #0 #0 #0 ~NONE~ ~INV10~ //Boots of the North
	ADD_CRE_ITEM ~misc80~ #0 #0 #0 ~NONE~ ~INV11~ //Male Body

COPY_EXISTING ~belt.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 369
	WRITE_SHORT maxhp 369
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE slashingresistance 35
	WRITE_BYTE piercingresistance 35
	WRITE_BYTE crushingresistance 35
	WRITE_BYTE missileresistance 35
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE thac0 0
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 21
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~mebelt~ #8
	WRITE_ASCII racescript ~shout~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~ (1)

COPY_EXISTING ~benjy.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 85
	WRITE_SHORT maxhp 85
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 3
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20
	WRITE_BYTE class 7
	WRITE_BYTE levelfirstclass 18
	WRITE_BYTE levelsecondclass 18
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~mebenjy~ #8
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	ADD_CRE_ITEM ~helm12~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~clck13~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~boot01~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~mesw2h17~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi506~ #4 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi509~ #4 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi611~ #5 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~bentan.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 84
	WRITE_SHORT maxhp 84
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE thac0 13
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mebentan~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems122~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr313~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr609~ #5 ~priest~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=6 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END

COPY_EXISTING ~bently.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 112
	WRITE_SHORT maxhp 112
//	WRITE_BYTE allegiance eagoodbutblue
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 23
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 10
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE class 156
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~mebently~ #8
	WRITE_ASCII defaultscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco362~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi554~ #4 ~wizard~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi554~ ~%mewi554%~
	ADD_MEMORIZED_SPELL ~mewi561~ #4 ~wizard~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi561~ ~%mewi561%~
	ADD_MEMORIZED_SPELL ~spwi612~ #5 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisualrange target=1 timing=9 parameter1=15 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setpersistentai target=1 timing=9 parameter2=1 END

COPY_EXISTING ~berrun.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII racescript ~meberrun~ #8
	WRITE_ASCII generalscript ~seeenemy~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~leat05~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mebootlv~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~bow04~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	REPLACE_CRE_ITEM ~arow08~ #40 #0 #0 ~NONE~ ~QUIVER1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=9 parameter1=1 parameter2=2 STR_VAR resource=~meamnian~ END

COPY_EXISTING ~beyn.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 94
	WRITE_SHORT maxhp 94
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 3
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE class 7
	WRITE_BYTE levelfirstclass 18
	WRITE_BYTE levelsecondclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~mebeyn~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 2
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REMOVE_CRE_ITEM ~mageamul~
	ADD_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~dagg01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV1~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi721~ #6 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi915~ #8 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=6 END

COPY_EXISTING ~billy.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 4
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~arow08~ #30 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresr~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfirest~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi418d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyfireresistance target=1 timing=1 parameter1=50 resist_dispel=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=1 parameter1=20 END

COPY_EXISTING ~binky.cre~ ~override~
	READ_LONG status ulgiash
	ulgiash|=0x4000 //STATE_POISONED
	WRITE_LONG status ulgiash
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 15
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 11
	WRITE_BYTE class classbard
	WRITE_SHORT kit kitjester
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mebinky~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~clown~
	REPLACE_CRE_ITEM ~meclck61~ #0 #0 #0 ~NONE~ ~CLOAK~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi607~ #5 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=curepoison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearest parameter2=ifpoisoned STR_VAR resource=~mebinky~ END

COPY_EXISTING ~bishop.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE wisdom 25
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~kingdead~ #8
	WRITE_ASCII generalscript ~mebishop~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_MEMORIZED_SPELL ~sppr101~ #0 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr201~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr203~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr213~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr513~ #4 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~bjorni.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 93
	WRITE_SHORT maxhp 93
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 18
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 18
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mebjorni~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REMOVE_CRE_ITEM ~SHLD04~
	ADD_CRE_ITEM ~HELM10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	ADD_CRE_ITEM ~BRAC20~ #0 #0 #0 ~NONE~ ~GLOVES~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~bor.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 19
	WRITE_BYTE wisdom 25
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII classscript ~mebor~ #8
	WRITE_ASCII racescript ~wtasight~ #8
	ADD_MEMORIZED_SPELL ~sppr507~ #4 ~priest~
	ADD_MEMORIZED_SPELL ~sppr603~ #5 ~priest~
	ADD_MEMORIZED_SPELL ~sppr608~ #5 ~priest~
	ADD_MEMORIZED_SPELL ~sppr708~ #6 ~priest~
	ADD_MEMORIZED_SPELL ~sppr701~ #6 ~priest~
	ADD_MEMORIZED_SPELL ~sppr715~ #6 ~priest~
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	REMOVE_CRE_ITEM ~dart01~ ~blun02~
	REPLACE_CRE_ITEM ~helm10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	ADD_CRE_ITEM ~ring22~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~mehamm98~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~shld04a~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~boot01~ #0 #0 #0 ~NONE~ ~BOOTS~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV10~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV11~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=settopercentage END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~sppr315~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END

COPY_EXISTING ~borda.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE class classmagethief
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 10
	WRITE_ASCII racescript ~meborda~ #8
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi524~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEWI551~ #4 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI551~ ~%mewi551%~
	ADD_MEMORIZED_SPELL ~meco034~ #0 ~innate~ (1)

COPY_EXISTING ~bounty.cre~ ~override~ ~bounty2.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 14
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII racescript ~mebounty~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate1 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END

COPY_EXISTING ~brage.cre~ ~override~ ~brage2.cre~ ~override~
	WRITE_LONG killxp 2200
	WRITE_SHORT currenthp 52
	WRITE_SHORT maxhp 52
	WRITE_BYTE strength 25
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 10
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevswand 11
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE slashingresistance 156 //-100
	WRITE_BYTE piercingresistance 156 //-100
	WRITE_BYTE crushingresistance 156 //-100
	WRITE_BYTE missileresistance 156 //-100
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~brage~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycriticalhitchance target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=normalhaste END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~sppr109~ END //Sanctuary

COPY_EXISTING ~brage.cre~ ~override~
	WRITE_ASCII dialogfile ~mebrage~ #8

COPY_EXISTING ~brandi.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 20
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~blun21~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	SET_BG2_PROFICIENCY PROFICIENCYMACE 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycriticalhitchance target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=1 END

COPY_EXISTING ~brathl.cre~ ~override~
	REMOVE_CRE_ITEM ~hamm13~

COPY_EXISTING ~brenda.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 14
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 11
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~mebrenda~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEWI251~ #1 ~wizard~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI251~ ~%mewi251%~
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi624~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi717~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meec004~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~clck13~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV5~

COPY_EXISTING ~brevli.cre~ ~override~
	REMOVE_CRE_ITEM ~WAND07~
	ADD_CRE_ITEM ~WAND09~ #12 #0 #0 ~UNSTEALABLE~ ~INV5~

<<<<<<<< .../script.baf
IF
	OR(3)
		See([ENEMY])
		Heard([ANYONE],99)
		AttackedBy([GOODCUTOFF],DEFAULT)
	Allegiance(Myself,NEUTRAL)
THEN
	RESPONSE #100
		SaveObjectLocation("GLOBAL","DefaultLocation",Myself)
		Enemy()
END
>>>>>>>>
EXTEND_TOP ~brilla.bcs~ ~.../script.baf~ EVAL

COPY_EXISTING ~brilla.cre~ ~override~
	SAY NAME1 @18304
	SAY NAME2 @18304
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 263
	WRITE_SHORT maxhp 263
	WRITE_LONG animation 24848 //Fighter Female Human
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 19
	WRITE_BYTE charisma 25
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 8 //2.5
	WRITE_BYTE class classflamingfist
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII racescript ~mebrilla~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD06~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~SW1H05~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~BOW02~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~MEAROW98~ #80 #0 #0 ~NONE~ ~QUIVER1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END

COPY_EXISTING ~brunos.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 366
	WRITE_SHORT maxhp 366
	WRITE_BYTE race racehalforc
	WRITE_BYTE fireresistance 131 //-125
	WRITE_BYTE coldresistance 131
	WRITE_BYTE elecresistance 131
	WRITE_BYTE acidresistance 131
	WRITE_BYTE magicfireresistance 131
	WRITE_BYTE magiccoldresistance 131
	WRITE_BYTE missileresistance 100
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 246 //-10
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 30
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~
	REPLACE_CRE_ITEM ~helm10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meplat14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~sw1h42~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~boot01~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
//	ADD_CRE_ITEM ~potn55~ #3 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 125) END

COPY_EXISTING ~bub.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 102
	WRITE_SHORT maxhp 102
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 8
	WRITE_BYTE attacksperround 4
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~seeenemy~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~mebubsni~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER1~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~bullrush.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 20
	WRITE_BYTE thac0 1
	WRITE_BYTE levelfirstclass 12
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~helm11~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~bow17~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissiledamage target=1 timing=9 parameter1=10 END

COPY_EXISTING ~caldo.cre~ ~override~
	SAY DAMAGE #23842
	SAY DYING #23843
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE levelfirstclass 8
	WRITE_BYTE thac0 13
	REMOVE_CRE_ITEMS
	ADD_CRE_ITEM ~meplat60~ #0 #0 #0 ~NONE~ ~ARMOR~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyfistthac0 target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyfistdamage target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meinfast~ END

COPY_EXISTING ~canto.cre~ ~override~
	WRITE_LONG killxp 1600
	WRITE_SHORT currenthp 79
	WRITE_SHORT maxhp 79
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 9
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~xbow01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~sw1h22~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~mebolt60~ #80 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	REPLACE_CRE_ITEM ~mebolt60~ #10 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=1 parameter1=20 END

COPY_EXISTING ~carbos.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_BYTE constitution 16
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 1
	WRITE_BYTE thac0 12
	WRITE_BYTE attacksperround 3
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 20
	WRITE_ASCII racescript ~mecarbos~ #8
	ADD_MEMORIZED_SPELL ~mems101~ #5 ~wizard~ (5)
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 1
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING ~carrio.cre~ ~override~
	WRITE_LONG killxp 1800
	WRITE_SHORT currenthp 41
	WRITE_SHORT maxhp 41
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 86
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE class classcleric
	WRITE_BYTE thac0 7
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mecarrio~ #8
	WRITE_ASCII generalscript ~ccrawler~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr503~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr603~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr613~ #5 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END

COPY_EXISTING ~carriosu.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 59
	WRITE_SHORT maxhp 59
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 86
	WRITE_BYTE coldresistance 120
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE class classmage
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mecarrio~ #8
	WRITE_ASCII generalscript ~ccrawler~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
//	ADD_MEMORIZED_SPELL ~spwi623~ #5 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END

COPY_EXISTING ~carsto.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_SHORT kit kitwizardslayer
	WRITE_BYTE strength 23
	WRITE_BYTE dexterity 23
	WRITE_BYTE constitution 23
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~HELM09~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT02~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD31A~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~SW1H05~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~BOW04~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~AROW08~ #80 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl132~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl132a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~spcl132~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~spcl132a~ END

COPY_EXISTING ~cat.cre~ ~override~
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 15
	WRITE_SHORT maxhp 15
	WRITE_BYTE attacksperround 4
	WRITE_BYTE thac0 18
	WRITE_ASCII racescript ~mecat~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	WRITE_ASCII scriptname ~CAT~ #32
	ADD_MEMORIZED_SPELL ~mems020~ #3 ~wizard~ (1)
	REPLACE_CRE_ITEM ~mes1-1~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~cattac.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 84
	WRITE_SHORT maxhp 84
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelsecondclass 7
	WRITE_ASCII racescript ~mechill~ #8
	WRITE_ASCII generalscript ~mecattac~ #8
	REMOVE_CRE_ITEM ~leat04~
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi414~ #3 ~wizard~ (1)
	REPLACE_CRE_ITEM ~sw2h11~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 parameter2=0 END

COPY_EXISTING ~catura.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 93
	WRITE_SHORT maxhp 93
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE missileresistance 100
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 11
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~megreteg~ #8
	WRITE_ASCII racescript ~mecatura~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco013~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 2
	REPLACE_CRE_ITEM ~arow09~ #60 #0 #0 ~NONE~ ~QUIVER1~ EQUIP

COPY_EXISTING ~cdmhkobo.cre~ ~override~
	SAY NAME1 @18003
	SAY NAME2 @18003
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_BYTE strength 16
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE levelfirstclass 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~menohita~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~menohitb~ END

COPY_EXISTING ~cdmhskel.cre~ ~override~
	SAY NAME1 @18004
	SAY NAME2 @18004
	WRITE_LONG killxp 150
	WRITE_SHORT currenthp 2
	WRITE_SHORT maxhp 2
	WRITE_BYTE strength 16
	WRITE_BYTE thac0 15
	WRITE_BYTE missileresistance 100
	WRITE_BYTE levelfirstclass 4
	REMOVE_CRE_ITEM ~misc50~
	REPLACE_CRE_ITEM ~b1-12~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=slow target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyminimumdamage target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl909a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul01~ END

COPY_EXISTING ~centeo.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 53
	WRITE_SHORT maxhp 53
	WRITE_BYTE acidresistance 100
	WRITE_BYTE missileresistance 100
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mecenteo~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~ (3)
	REPLACE_CRE_ITEM ~ANKACID~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~ANTIWEB~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~SCRL6R~ #1 #0 #0 ~NONE~ ~INV7~ //Tome of Clear Thought
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=1 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=1 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=poison END

COPY_EXISTING ~chanth.cre~ ~override~
	WRITE_BYTE pickpockets 30
	REMOVE_CRE_ITEM ~BOOK08~
	ADD_CRE_ITEM ~MEBOOKLK~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=1 parameter1=20 END

COPY_EXISTING ~charle.cre~ ~override~
	WRITE_SHORT currenthp 20
	WRITE_SHORT maxhp 20
	WRITE_BYTE elecresistance 90
	WRITE_BYTE savevsspell 10

COPY_EXISTING ~chelan.cre~ ~override~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mechelan~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~chicke.cre~ ~override~ ~chickdef.cre~ ~override~ ~chherd.cre~ ~override~ ~nechick1.cre~ ~override~ ~bdbchick.cre~ ~override~ ~bdchickw.cre~ ~override~
	WRITE_LONG killxp 50
	WRITE_SHORT currenthp 6
	WRITE_SHORT maxhp 6
	WRITE_ASCII racescript ~mechicke~ #8
	IF_EXISTS

COPY_EXISTING ~chicker.cre~ ~override~
	SAY NAME1 @18005
	SAY NAME2 @18005
	SAY SELECT_ACTION4 @18006
	WRITE_LONG killxp 200
	WRITE_SHORT currenthp 6
	WRITE_SHORT maxhp 6
	WRITE_BYTE thac0 12
	WRITE_BYTE general generalmonster
	REPLACE_CRE_ITEM ~mecockat~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=petrification END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetnearestenemy parameter2=ifcasterdies STR_VAR resource=~spwi305~ END

COPY_EXISTING ~coksmth.cre~ ~override~ //Peter of the North
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 102
	WRITE_SHORT maxhp 102
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 8
	WRITE_BYTE class classranger
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~mepetern~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~mepr556~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 3
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 5
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~bow01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~sw1h05~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~sw1h04~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~arow08~ #80 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END

COPY_EXISTING_REGEXP ~cookge.cre~ ~override~ ~mcook.*.cre~ ~override~ ~fcook.*.cre~ ~override~ ~fecook.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24084) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~cordyr.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 104
	WRITE_SHORT maxhp 104
	WRITE_BYTE strength 18
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE thac0 248 //-8
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~mecordyr~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~sppr699~ #5 ~priest~ (12)
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 1
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~blun01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~mage05~ #0 #0 #0 ~IDENTIFIED~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~corsone.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 62
	WRITE_SHORT maxhp 62
	WRITE_BYTE thac0 12
	WRITE_BYTE class classdruid
	WRITE_SHORT kit kitavenger
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mecorson~ #8
	WRITE_ASCII generalscript ~seeenemy~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco105~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~sppr302~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr315~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~meco106~ #3 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr501~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~spdr501~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr602~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr610~ #5 ~priest~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 1
	REPLACE_CRE_ITEM ~sper02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~mequakea~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~mequakeb~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~mequakec~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~sppr106~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END

COPY_EXISTING ~cow.cre~ ~override~
	WRITE_LONG killxp 1000
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE strength 18
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevswand 12
	WRITE_BYTE savevspolymorph 12
	WRITE_BYTE levelfirstclass 8
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~mecow~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~none~ #8
	ADD_MEMORIZED_SPELL ~mems100~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~mehopmov~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromprojectile target=1 timing=9 parameter2=188 END //Falling cow
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~menotele~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~meco094~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~spwi917~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~meinfree~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24001) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~cowh.cre~ ~override~ //The cow you save from the xvarts
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=0 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24002) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~credus.cre~ ~override~
	WRITE_LONG killxp 1600
	WRITE_SHORT currenthp 102
	WRITE_SHORT maxhp 102
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 17
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII racescript ~shoutdlg~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~sw2h02~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~quiver01~ #1 #0 #0 ~NONE~ ~QUIVER1~

COPY_EXISTING_REGEXP ~crew.*.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 52
	WRITE_SHORT maxhp 52
	WRITE_BYTE class classmage
	WRITE_BYTE race racenorace
	WRITE_ASCII racescript ~mecrew~ #8
	REMOVE_CRE_ITEM ~sw1h04~
	ADD_MEMORIZED_SPELL ~spwi299~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi406~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi509~ #4 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 3) END

COPY_EXISTING ~crew1.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=racehuman parameter2=idsrace END

COPY_EXISTING ~crew2.cre~ ~override~
	WRITE_SHORT animation 24833
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=raceelf parameter2=idsrace END

COPY_EXISTING ~crew3.cre~ ~override~
	WRITE_SHORT animation 24833
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=racehalfelf parameter2=idsrace END

COPY_EXISTING ~crew4.cre~ ~override~
	WRITE_SHORT animation 24834
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=racedwarf parameter2=idsrace END

COPY_EXISTING ~crew5.cre~ ~override~
	WRITE_SHORT animation 24835
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=racehalfling parameter2=idsrace END

COPY_EXISTING ~crew6.cre~ ~override~
	WRITE_SHORT animation 24836
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=racegnome parameter2=idsrace END

COPY_EXISTING ~crew7.cre~ ~override~
	WRITE_SHORT animation 24837
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=racehalforc parameter2=idsrace END

COPY_EXISTING ~cryptcra.cre~ ~override~
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 82
	WRITE_SHORT maxhp 82
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 5
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mecryptc~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems073~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr513~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr612~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr701~ #6 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=6 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END

COPY_EXISTING ~cuchol.cre~ ~override~
	WRITE_LONG killxp 9000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE class classmage
	WRITE_SHORT kit kitinvoker
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 20
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~mecuchol~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~mageamul~
	REPLACE_CRE_ITEM ~clck10~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~medagg70~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (9)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi810~ #7 ~wizard~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=spellfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=deafness END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~spwi810~ END

COPY_EXISTING ~cult2.cre~ ~override~
	SAY NAME1 @18007
	SAY NAME2 @18007
	WRITE_LONG killxp 4500
	WRITE_SHORT currenthp 46
	WRITE_SHORT maxhp 46
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE allegiance eaenemy
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~mecultwi~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi313~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi514~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi607~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi714~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (1)
	REPLACE_CRE_ITEM ~merobe61~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~staf18~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~mepotn80~ #1 #0 #0 ~IDENTIFIED~ ~INV7~
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 1
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~cult3.cre~ ~override~ ~cultt1.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 6
	WRITE_BYTE class classfightercleric
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~meculten~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~wand06~
	REPLACE_CRE_ITEM ~helm10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~shld04a~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~hamm02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV6~
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2

COPY_EXISTING ~cult3.cre~ ~override~
	WRITE_ASCII racescript ~shoutdlg~ #8

COPY_EXISTING ~cult1.cre~ ~override~ ~cultt2.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesw2h02~ #8
	WRITE_ASCII generalscript ~mecultgu~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~helm13~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~sw2h02~ #0 #1 #0 ~NONE~ ~WEAPON1~ EQUIP
//	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV6~
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2

COPY_EXISTING ~cultt3.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~mecultas~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mems083~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~leat05~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~blun36~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
//	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV6~
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 2
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meintele~ END

COPY_EXISTING ~cultt4.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~mecultar~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~helm09~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~bow04~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~mearow94~ #1 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~arow04~ #40 #0 #0 ~NONE~ ~QUIVER2~
//	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV6~
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5

COPY_EXISTING_REGEXP ~cultt.*.cre~ ~override~
	WRITE_ASCII classscript ~cultsht~ #8

COPY_EXISTING ~cyderm.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 180
	WRITE_SHORT maxhp 180
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 5
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII classscript ~mecyrdem~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi916~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~ax1h02~ #0 #0 #0 ~NONE~ ~WEAPON1~
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~cythan.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE colorminor 254
	WRITE_BYTE colormajor 254
	WRITE_BYTE colorleather 254
	WRITE_BYTE colormetal 254
	WRITE_BYTE colorarmor 254
	WRITE_BYTE colorhair 254
	WRITE_BYTE colorskin 105
	WRITE_BYTE class classmage
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~mecythan~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
//	REPLACE_CRE_ITEM ~wa2robe~ #0 #0 #0 ~NONE~ ~ARMOR~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi803~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~mems099~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=12 resist_dispel=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=spellfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=deafness END

COPY_EXISTING ~dabron.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~plat04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~mexbow98~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~meblun35~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~amul25~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~mebolt98~ #30 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~bolt06~ #50 #0 #0 ~NONE~ ~QUIVER2~
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END

COPY_EXISTING ~daerragh.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 255
	WRITE_SHORT maxhp 255
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 15
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~medaerra~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~marw201~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~marw301~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (9)
	ADD_MEMORIZED_SPELL ~marw401~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi514~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 5
	REMOVE_CRE_ITEM ~ringitf~
	ADD_CRE_ITEM ~meringma~ #1 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 STR_VAR resource=~spwi304~ END

COPY_EXISTING ~daitel.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 350
	WRITE_SHORT maxhp 350
	WRITE_BYTE class classmage
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medaitel~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~~ #8
	ADD_CRE_ITEM ~mering98~ #0 #0 #0 ~UNSTEALABLE~ ~BELT~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=spellfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=deafness END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END

COPY_EXISTING ~davaeo.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_SHORT kit kitinvoker
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 25
	WRITE_BYTE thac0 1
	WRITE_BYTE fireresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII classscript ~medavaeo~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~MEWI155~ #0 ~wizard~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI155~ ~%mewi155%~
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi523~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEWI559~ #4 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI559~ ~%mewi559%~
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEWI651~ #5 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI651~ ~%mewi651%~
	ADD_MEMORIZED_SPELL ~MEWI760~ #6 ~wizard~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI760~ ~%mewi760%~
	ADD_MEMORIZED_SPELL ~MEWI861~ #7 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI861~ ~%mewi861%~
	ADD_MEMORIZED_SPELL ~MEWI965~ #8 ~wizard~ (1)
	REMOVE_CRE_ITEM ~clck17~ ~magebrac~
	REPLACE_CRE_ITEM ~clck17~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~mehelm28~ #0 #0 #0 ~NONE~ ~HELMET~
	ADD_CRE_ITEM ~amul21~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~scrl7f~ #0 #0 #0 ~NONE~ ~INV8~
	ADD_CRE_ITEM ~mewi760x~ #0 #0 #0 ~NONE~ ~INV9~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=pausetarget END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt001~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt002~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt007~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mems102~ END

COPY_EXISTING ~deadban.cre~ ~override~ //Senjack/Dorotea bandit
	WRITE_LONG killxp 500
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mesjband~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spin974~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco045~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9  STR_VAR resource=~mezomba~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9  STR_VAR resource=~mezombb~ END

COPY_EXISTING ~deathk.cre~ ~override~
	WRITE_LONG killxp 25000
	WRITE_SHORT currenthp 600
	WRITE_SHORT maxhp 600
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE general generalundead
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 19
	WRITE_BYTE wisdom 19
	WRITE_BYTE charisma 25
	WRITE_BYTE fireresistance 60
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 30
	WRITE_BYTE acidresistance 30
	WRITE_BYTE magicresistance 15
	WRITE_BYTE magicfireresistance 30
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 253 //-3
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~medeathk~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~meamelee~ #8
	REMOVE_CRE_ITEM ~HELM15~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV8~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV10~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV11~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV12~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV13~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV14~
	ADD_CRE_ITEM ~ring99~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~mehelm98~ #0 #0 #0 ~NONE~ ~HELMET~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=30 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems059~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems097~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems269~ END

COPY_EXISTING ~deathk1.cre~ ~override~
	WRITE_ASCII generalscript ~medeatk2~ #8

COPY_EXISTING ~degrod.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 88
	WRITE_SHORT maxhp 88
	WRITE_BYTE intelligence 25
	WRITE_BYTE elecresistance 100
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~medegrod~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (50)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (50)
	ADD_MEMORIZED_SPELL ~spwi805~ #7 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (5)
	REPLACE_CRE_ITEM ~helm08~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~clck11~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mestaf72~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~mescrl7s~ #3 #0 #0 ~IDENTIFIED~ ~INV5~
	REPLACE_CRE_ITEM ~clck24~ #0 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~delgod.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 51
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~medelgod~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi224~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi309~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meec002~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (3)
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 2
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~clck13~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mebootlv~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~halb01~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~xbow01~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	REPLACE_CRE_ITEM ~bolt06~ #40 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi614~ END

COPY_EXISTING ~delorn.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE dexterity 18
	WRITE_BYTE intelligence 21
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~medelorn~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi514~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mems102~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mems099~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi920~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~deltan.cre~ ~override~
	WRITE_LONG killxp 25000
	WRITE_SHORT currenthp 366
	WRITE_SHORT maxhp 366
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 20
	WRITE_BYTE wisdom 20
	WRITE_BYTE charisma 20
	WRITE_BYTE fireresistance 0
	WRITE_BYTE coldresistance 0
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 0
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 0
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 246 //-10
	WRITE_BYTE attacksperround 3
	WRITE_BYTE class classflamingfist
	WRITE_BYTE levelfirstclass 40
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~medeltan~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REMOVE_CRE_ITEM ~minhp1~
	REPLACE_CRE_ITEM ~meplat14~ #0 #0 #0 ~UNSTEALABLE~ ~ARMOR~
	REPLACE_CRE_ITEM ~belt07~ #0 #0 #0 ~UNSTEALABLE~ ~BELT~
	REPLACE_CRE_ITEM ~shld06~ #0 #0 #0 ~UNSTEALABLE~ ~SHIELD~
	REPLACE_CRE_ITEM ~sw1h41~ #0 #0 #0 ~UNSTEALABLE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END

COPY_EXISTING ~demglasu.cre~ ~override~
	WRITE_SHORT animation 57585 //Glabrezu

COPY_EXISTING ~denak.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 20
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medenak~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi432~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi504~ #4 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi714~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi912~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~potn43~ #1 #0 #0 ~IDENTIFIED~ ~QITEM3~
	ADD_CRE_ITEM ~mescrl7w~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~denkod.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE strength 20
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 19
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 1
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 1
	REPLACE_CRE_ITEM ~MESW1HDN~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~desslo.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24087) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~desret.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 82
	WRITE_SHORT maxhp 82
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 19
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 12
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco047~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~devagood.cre~ ~override~ ~devaevil.cre~ ~override~ ~plangood.cre~ ~override~ ~planevil.cre~ ~override~
	REMOVE_KNOWN_SPELL ~SPPR725~
	REMOVE_MEMORIZED_SPELL ~SPPR725~
	REPLACE_CRE_ITEM ~IMMUNE2~ #0 #0 #0 ~NONE~ ~LRING~

COPY_EXISTING ~dezkie.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE class classmage
	WRITE_BYTE coldresistance 125
	WRITE_BYTE elecresistance 80
	WRITE_BYTE magiccoldresistance 125
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 24
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~medezkie~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~mageamul~
	REPLACE_CRE_ITEM ~clck09~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mestaf70~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi213~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi603~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi713~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mewi963~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi964~ #8 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems043~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=12 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=spellfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=deafness END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~spwi404~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~sppr250~ END

COPY_EXISTING ~diana.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 14
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~mediana~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi101~ #0 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi224~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi612~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi815~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi921~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~clck10~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~potn10~ #1 #0 #0 ~IDENTIFIED~ ~QITEM3~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~meecol03~ #0 #0 #0 ~IDENTIFIED~ ~INV7~

COPY_EXISTING_REGEXP ~digger.*.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_SHORT naturalac 1
	WRITE_SHORT effectiveac 1
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 20
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 2
	WRITE_BYTE general generalmonster
	WRITE_BYTE race 130 //Umber Hulk
	WRITE_BYTE class 168 //Umber Hulk
	WRITE_SHORT animation 32529 //BG2 Umber Hulk
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 10
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~digshout~ #8
	WRITE_ASCII racescript ~medigger~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEMS
	REPLACE_CRE_ITEM ~umber02~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~dillar.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24089) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~dirk.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 11
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 5
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 1
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV8~
	REPLACE_CRE_ITEM ~sw1h49~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~

COPY_EXISTING ~diyab.cre~ ~override~
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 23
	WRITE_BYTE constitution 19
	WRITE_BYTE wisdom 22
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mediyab~ #8
	WRITE_ASCII generalscript ~leavech7~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII scriptname ~DIYAB~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr512~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr612~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr721~ #6 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~spcl423~ #0 ~innate~ (3)
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 1
	REPLACE_CRE_ITEM ~LEAT05~ #0 #0 #0 ~NONE~ ~ARMOR~
//	REPLACE_CRE_ITEM ~BLUN40~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~SHLD02~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~LRING~
//	ADD_CRE_ITEM ~WA2AMU~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV6~

COPY_EXISTING ~djinnisu.cre~ ~override~
	WRITE_LONG killxp 2800
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_SHORT naturalac 65529 //-7
	WRITE_SHORT effectiveac 65529 //-7
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 21
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevswand 12
	WRITE_BYTE savevspolymorph 12
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~none~ #8
	WRITE_ASCII generalscript ~medjinni~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi602~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi611~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 4
	REPLACE_CRE_ITEM ~mesw1h81~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~rndtre05~ #0 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~rndtre05~ #0 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~dogblink.cre~ ~override~
	WRITE_LONG killxp 450
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 95
	WRITE_BYTE levelfirstclass 5
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medogbli~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING_REGEXP ~dogwa.*.cre~ ~override~
	WRITE_LONG killxp 400
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 76
	ADD_MEMORIZED_SPELL ~mems036~ #0 ~innate~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medogwa~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~dogwi.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 76
	ADD_MEMORIZED_SPELL ~mems035~ #0 ~innate~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medogwi~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~dogwisu.cre~ ~override~
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 76
	ADD_MEMORIZED_SPELL ~mems035~ #0 ~innate~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medogwi~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~doomdur.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 121
	WRITE_SHORT maxhp 121
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 241 //-15
	WRITE_SHORT naturalac 65534 //-2
	WRITE_SHORT effectiveac 65534 //-2
	WRITE_BYTE fireresistance 75
	WRITE_BYTE coldresistance 25
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 0
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 9
	WRITE_BYTE levelthirdclass 9
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	ADD_CRE_ITEM ~MEAX1H80~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	ADD_CRE_ITEM ~ring95~ #0 #0 #0 ~NONE~ ~LRING~
//	ADD_CRE_ITEM ~mefixres~ #0 #0 #0 ~NONE~ ~RRING~
//	REPLACE_CRE_ITEM ~mergcure~ #0 #0 #0 ~NONE~ ~BELT~
//	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~medoom~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter1=slay END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~doomdur.cre~ ~override/medoomdu.cre~
	WRITE_BYTE allegiance eaenemy

COPY_EXISTING ~doomgu.cre~ ~override~
	SAY BATTLE_CRY1 ~[DOOM GUARD 99]~ [MEDOOMGU]
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 3
	WRITE_BYTE thac0 246 //-10
	WRITE_SHORT naturalac 65533 //-3
	WRITE_SHORT effectiveac 65533 //-3
	WRITE_SHORT animation 25605 //doom guard
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 25
	WRITE_BYTE acidresistance 25
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 25
	WRITE_BYTE magiccoldresistance 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 3
	WRITE_BYTE levelthirdclass 3
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REMOVE_CRE_ITEMS
//	ADD_CRE_ITEM ~HELM09~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	ADD_CRE_ITEM ~BOW01~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~arow10~ #32767 #0 #0 ~UNDROPPABLE~ ~QUIVER1~
//	ADD_CRE_ITEM ~ring95~ #0 #0 #0 ~NONE~ ~LRING~
//	ADD_CRE_ITEM ~mefixres~ #0 #0 #0 ~NONE~ ~RRING~
//	REPLACE_CRE_ITEM ~mergcure~ #0 #0 #0 ~NONE~ ~BELT~
//	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~arow10~ #10 #0 #0 ~NONE~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=0 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter1=slay END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~medoom~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24109) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~doomsa.cre~ ~override~ ~ntdemon.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 300
	WRITE_SHORT maxhp 300
	WRITE_SHORT naturalac 65529 //-7
	WRITE_SHORT effectiveac 65529 //-7
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 7
	WRITE_BYTE intelligence 12
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 22
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 9 //3.5
	WRITE_BYTE race 121 //Demonic
	WRITE_BYTE class 186 //Air Elemental
	WRITE_SHORT animation 29472 //Elemental_Air
	WRITE_BYTE fireresistance 75
	WRITE_BYTE coldresistance 25
	WRITE_BYTE elecresistance 125
	WRITE_BYTE acidresistance 25
	WRITE_BYTE slashingresistance 0
	WRITE_BYTE piercingresistance 0
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 0
	WRITE_BYTE magicresistance 25
	WRITE_BYTE magicfireresistance 75
	WRITE_BYTE magiccoldresistance 0
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_BYTE levelthirdclass 20
	WRITE_ASCII overridescript ~initdlg~ #8
	WRITE_ASCII classscript ~redbake~ #8
	WRITE_ASCII racescript ~medoomsa~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco086~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco087~ #0 ~innate~
	REMOVE_CRE_ITEMS
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~medoomsa~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	ADD_CRE_ITEM ~ring95~ #0 #0 #0 ~NONE~ ~LRING~
//	ADD_CRE_ITEM ~mefixres~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~meperm03~ #1 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV2~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~meblun28~ #0 #0 #0 ~UNSTEALABLE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyelecresistance target=1 timing=9 parameter1=75 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=50 END
	IF_EXISTS

COPY_EXISTING ~dopdop.cre~ ~override~ ~d2dop.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE class classclericmage
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medopdop~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII defaultscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems080~ #0 ~innate~
	ADD_CRE_ITEM ~medopdop~ #0 #0 #0 ~NONE~ ~RRING~
//	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	REPLACE_CRE_ITEM ~s2-16m2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~dopdur.cre~ ~override~ ~d2dur.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 10
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medopdur~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII defaultscript ~~ #8
//	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~dopfue.cre~ ~override~ ~d2fue.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 20
	WRITE_BYTE charisma 25
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medopfue~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII defaultscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~
	REPLACE_CRE_ITEM ~bow04~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~arow07~ #1 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~arow06~ #80 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~QUIVER2~
//	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~dopkie.cre~ ~override~ ~d2kie.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 10
	WRITE_BYTE wisdom 25
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~medopkie~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII defaultscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr111~ #0 ~priest~
	ADD_MEMORIZED_SPELL ~sppr513~ #4 ~priest~
	ADD_MEMORIZED_SPELL ~sppr718~ #6 ~priest~
	REPLACE_CRE_ITEM ~mehelm50~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meplat10~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~mekiel~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~blun07~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~dopisl.cre~ ~override~ ~d2isl.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 25
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~medopisl~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII defaultscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi313~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi515~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi718~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~dart04~ #40 #0 #0 ~UNSTEALABLE~ ~WEAPON1~ EQUIP
//	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~dopdop.cre~ ~override~ ~dopdur.cre~ ~override~ ~dopfue.cre~ ~override~ ~dopkie.cre~ ~override~ ~dopisl.cre~ ~override~
	WRITE_ASCII defaultscript ~movep1~ #8

COPY_EXISTING ~doppgr.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE attacksperround 5
	WRITE_BYTE class classclericmage
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE attacksperround 5
	WRITE_BYTE thac0 5
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~medoppgr~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi206~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi402~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi751~ #6 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi751~ ~%mewi751%~
	REPLACE_CRE_ITEM ~s2-16m2~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~mage01~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~rndtre05~ #0 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~dopple.cre~ ~override~ ~doppl7.cre~ ~override~ ~dopzorl.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 31
	WRITE_SHORT maxhp 31
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevspolymorph 17
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE class classclericmage
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 10
	WRITE_ASCII scriptname ~dopple~ #8
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medopple~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mewi251~ #1 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi251~ ~%mewi251%~
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi224~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi311~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi315~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi316~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi403~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi406~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi511~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi602~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi623~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems101~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi805~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi808~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi855~ #7 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi855~ ~%mewi855%~
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi907~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~s1-10~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END

COPY_EXISTING ~doppss.cre~ ~override~ //Seven Suns doppleganger
	WRITE_LONG killxp 1150
	WRITE_SHORT currenthp 31
	WRITE_SHORT maxhp 31
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 14
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevswand 14
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevspolymorph 13
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE class classclericmage
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medopss~ #8
	WRITE_ASCII generalscript ~dopple~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mepull01~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi523~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi808~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi913~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems099~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~s1-10~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END

COPY_EXISTING ~dopzorl.cre~ ~override~
	WRITE_ASCII classscript ~dopzorl~ #8
/*
	SAY NAME1 @18078
	SAY NAME2 @18078
	WRITE_LONG INITIAL_MEETING 0xFFFFFFFF
	WRITE_LONG BATTLE_CRY1 0xFFFFFFFF
	WRITE_LONG BATTLE_CRY2 0xFFFFFFFF
	WRITE_LONG BATTLE_CRY3 0xFFFFFFFF
	WRITE_LONG ATTACK1 0xFFFFFFFF
	WRITE_LONG DAMAGE 0xFFFFFFFF
	WRITE_LONG DYING 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON1 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON2 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON3 0xFFFFFFFF
	WRITE_LONG 0x130 0xFFFFFFFF
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 21
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 20
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 3
	WRITE_BYTE race racerakshasa
	WRITE_BYTE class classmage
	WRITE_BYTE alignment alignmentlawfulevil
	WRITE_SHORT animation 32528 //Rakshasa
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 1
	WRITE_BYTE levelthirdclass 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII racescript ~meraksha~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi401~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi614~ #5 ~wizard~ (1)
	REPLACE_CRE_ITEM ~s2-16~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~rakring~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~mage01~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~rndtre05~ #0 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
*/

COPY_EXISTING ~dorotea.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE wisdom 18
	WRITE_BYTE thac0 17
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~medorote~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr101~ #0 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr315~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~spcl721~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl722~ #0 ~innate~ (2)
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~

COPY_EXISTING ~dradee.cre~ ~override~
	ADD_CRE_ITEM ~MECLCK91~ #0 #0 #0 ~NONE~ ~CLOAK~

COPY_EXISTING ~drakar.cre~ ~override~
	WRITE_LONG killxp 1600
	WRITE_SHORT currenthp 73
	WRITE_SHORT maxhp 73
	WRITE_SHORT kit kitpriestoftalos
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII classscript ~medrakar~ #8
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr314~ #2 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~mems019~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~spcl721~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl722~ #0 ~innate~ (3)
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~drasus.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 92
	WRITE_SHORT maxhp 92
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII classscript ~medrasus~ #8
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~mems019~ #5 ~priest~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=improvedhaste END

COPY_EXISTING ~drelik.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 65
	WRITE_SHORT maxhp 65
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 18
	WRITE_BYTE thac0 1
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII racescript ~medrelik~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi206~ #1 ~wizard~ (9)
	ADD_MEMORIZED_SPELL ~spwi210~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco103~ #2 ~wizard~ (1)
	ADD_CRE_ITEM ~scrl6v~ #1 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~dribbe.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 4
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~arow09~ #30 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresa~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresb~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi403d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycoldresistance target=1 timing=1 parameter1=50 resist_dispel=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=1 parameter1=20 END

COPY_EXISTING ~drizzt.cre~ ~override~ ~x#drizzt.cre~ ~override~
	WRITE_LONG killxp 20000
	WRITE_SHORT currenthp 300
	WRITE_SHORT maxhp 300
	WRITE_SHORT naturalac 65518 //-18
	WRITE_SHORT effectiveac 65518 //-18
	WRITE_BYTE strength 11
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 18
	WRITE_BYTE thac0 244 //-12
	WRITE_BYTE attacksperround 4
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE slashingresistance 0
	WRITE_BYTE piercingresistance 0
	WRITE_BYTE crushingresistance 0
	WRITE_BYTE missileresistance 0
	WRITE_BYTE magicresistance 50
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII classscript ~medrizzt~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 3
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 5
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~MEPR153~ #0 ~priest~ (4)
//	ADD_MEMORIZED_SPELL ~sppr303~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~MEPR361~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~MEEC008~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~MEPR659~ #5 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (3)
	REMOVE_CRE_ITEM ~bootdriz~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=regeneration target=1 timing=9 parameter1=3 parameter2=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=feeblemind END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=paralyze END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=holdcreature1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=holdcreature2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=stun END
	IF_EXISTS

COPY_EXISTING ~droth.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE levelfirstclass 14
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~medroth~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi411~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi518~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi523~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mepull03~ #0 ~innate~ (1)
	ADD_CRE_ITEM ~mage01~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~mage06~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV2~
	REPLACE_CRE_ITEM ~mesw1h45~ #1 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~druid3.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE wisdom 20
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 14
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medruid3~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 1
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 1
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mepr151~ #0 ~priest~ (6)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr151~ ~%mepr151%~
	ADD_MEMORIZED_SPELL ~sppr302~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~mepr452~ #3 ~priest~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr452~ ~%mepr452%~
	ADD_MEMORIZED_SPELL ~sppr503~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull04~ END

COPY_EXISTING ~dryad.cre~ ~override~
	ADD_CRE_ITEM ~bow08~ #0 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~dryadha.cre~ ~override~
	WRITE_LONG killxp 1800
	WRITE_SHORT currenthp 63
	WRITE_SHORT maxhp 63
	WRITE_SHORT naturalac 65533 //-3
	WRITE_SHORT effectiveac 65533 //-3
	WRITE_BYTE dexterity 18
	WRITE_BYTE intelligence 17
	WRITE_BYTE wisdom 18
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE magicresistance 25
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 10
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~mehama~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=8 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~sppr506~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END

COPY_EXISTING ~dursword.cre~ ~override~ ~stoneg.cre~ ~override~ ~stonec.cre~ ~override~ ~stoned.cre~ ~override~ ~stonedl.cre~ ~override~ ~stonedw.cre~ ~override~ //Stationary creatures
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=teleport END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=modifymagicresistance END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=damage END

COPY_EXISTING ~eagle.cre~ ~override~
	WRITE_LONG killxp 0
	WRITE_BYTE race 170
	WRITE_BYTE class 199
	ADD_CRE_ITEM ~meflying~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~mebirdps~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~meeagld~ END

COPY_EXISTING_REGEXP ~bird.*\.cre~ ~override~ ~seagul\.cre~ ~override~ ~vultur\.cre~ ~override~
	WRITE_LONG killxp 0
	WRITE_BYTE race 170
	WRITE_BYTE class 199
	ADD_CRE_ITEM ~meflying~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~mebirdps~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~meeagle~ END

COPY_EXISTING ~efreetsu.cre~ ~override~
	WRITE_LONG killxp 2800
	WRITE_SHORT currenthp 105
	WRITE_SHORT maxhp 105
	WRITE_SHORT naturalac 65534 //-2
	WRITE_SHORT effectiveac 65534 //-2
	WRITE_BYTE strength 20
	WRITE_BYTE dexterity 19
	WRITE_BYTE intelligence 19
	WRITE_BYTE charisma 18
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevswand 12
	WRITE_BYTE savevspolymorph 12
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~none~ #8
	WRITE_ASCII generalscript ~meefreet~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi401~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi808~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi810~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 4
	REPLACE_CRE_ITEM ~mesw1h82~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~rndtre05~ #0 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~rndtre05~ #0 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi810~ END

COPY_EXISTING_REGEXP ~elairsu.*.cre~ ~override~ ~elearsu.*.cre~ ~override~ ~elfirsu.*.cre~ ~override~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8

COPY_EXISTING ~elairsu1.cre~ ~override~ ~elairsuw.cre~ ~override~ ~sumelair.cre~ ~override~
	WRITE_SHORT currenthp 64
	WRITE_SHORT maxhp 64
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 15
	WRITE_BYTE thac0 13
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 8
	WRITE_ASCII racescript ~meelair1~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_CRE_ITEM ~immune2~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meelair1~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~elairsu2.cre~ ~override~ ~elairsu3.cre~ ~override~ ~elairsu4.cre~ ~override~ ~swaair01.cre~ ~override~ ~swaair02.cre~ ~override~
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_LONG animation 29472
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meelair2~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_CRE_ITEM ~immune2~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meelair2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~meelair1.itm~ ~override~ ~meelair2.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR projectil=meelair1 END

COPY_EXISTING ~elfirsu1.cre~ ~override~ ~elfirsuw.cre~ ~override~ ~sumelfir.cre~ ~override~
	WRITE_SHORT currenthp 64
	WRITE_SHORT maxhp 64
	WRITE_SHORT naturalac 65535 //-1
	WRITE_SHORT effectiveac 65535 //-1
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 17
//	WRITE_BYTE fireresistance 125
//	WRITE_BYTE magicfireresistance 125
	WRITE_BYTE thac0 13
	WRITE_BYTE attacksperround 1
	WRITE_BYTE levelfirstclass 8
	WRITE_ASCII racescript ~meelfir1~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_CRE_ITEM ~immune2~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meelfir1~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~elfirpr.cre~ ~override~ ~elfirpr2.cre~ ~override~ ~elfirpr3.cre~ ~override~ ~elfirsu2.cre~ ~override~ ~elfirsu3.cre~ ~override~ ~elfirsu4.cre~ ~override~ ~swafir01.cre~ ~override~ ~swafir02.cre~ ~override~ ~bdelefir.cre~ ~override~ ~bdelfirg.cre~ ~override~ ~bdelfirm.cre~ ~override~ ~telelfir.cre~ ~override~ ~shfire.cre~ ~override~ ~bpelfir1.cre~ ~override~ ~deckfele.cre~ ~override~
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_SHORT naturalac 65533 //-3
	WRITE_SHORT effectiveac 65533 //-3
	WRITE_LONG animation 29456
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 18
//	WRITE_BYTE fireresistance 125
//	WRITE_BYTE magicfireresistance 125
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meelfir2~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_CRE_ITEM ~immune2~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meelfir2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~elearsu1.cre~ ~override~ ~elearsuw.cre~ ~override~ ~sumelear.cre~ ~override~
	WRITE_SHORT currenthp 64
	WRITE_SHORT maxhp 64
	WRITE_SHORT naturalac 65534 //-2
	WRITE_SHORT effectiveac 65534 //-2
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 24
	WRITE_BYTE slashingresistance 30
	WRITE_BYTE piercingresistance 30
	WRITE_BYTE crushingresistance 30
	WRITE_BYTE missileresistance 30
	WRITE_BYTE thac0 13
	WRITE_BYTE attacksperround 1
	WRITE_BYTE levelfirstclass 8
	WRITE_ASCII racescript ~meelear1~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_CRE_ITEM ~immune2~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meelear1~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~elearpr.cre~ ~override~ ~elearpr2.cre~ ~override~ ~elearpr3.cre~ ~override~ ~elearsu2.cre~ ~override~ ~elearsu3.cre~ ~override~ ~elearsu4.cre~ ~override~ ~swaear01.cre~ ~override~ ~swaear02.cre~ ~override~ ~bdearthe.cre~ ~override~ ~shearth.cre~ ~override~ ~elearg01.cre~ ~override~
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_LONG animation 29440
	WRITE_BYTE strength 24
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 25
	WRITE_BYTE slashingresistance 40
	WRITE_BYTE piercingresistance 40
	WRITE_BYTE crushingresistance 40
	WRITE_BYTE missileresistance 40
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meelear2~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_CRE_ITEM ~immune2~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meelear2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~elfirsu1.cre~ ~override/meelfir1.cre~  ~elairsu1.cre~ ~override/meelair1.cre~ ~elearsuw.cre~ ~override/meelear1.cre~
	WRITE_LONG killxp 2000
	WRITE_BYTE allegiance 255
	WRITE_BYTE gender 4
	WRITE_ASCII defaultscript ~wtasight~ #8

COPY_EXISTING ~elfirsu2.cre~ ~override/meelfir2.cre~ ~elairsu2.cre~ ~override/meelair2.cre~~elearsu2.cre~ ~override/meelear2.cre~
	WRITE_LONG killxp 4000
	WRITE_BYTE allegiance eaenemy

COPY_EXISTING_REGEXP ~elmin[1235].cre~ ~override~
	WRITE_SHORT currenthp 500
	WRITE_SHORT maxhp 500
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_SHORT class classmage
	WRITE_SHORT levelfirstclass 50
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meelmin~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (12)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (10)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (8)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (8)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi430~ #3 ~wizard~ (7)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi712~ #6 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems901~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems903~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems904~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems906~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi966~ #8 ~wizard~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyduration target=1 timing=9 parameter1=400 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~elmin3.cre~ ~override~
	ADD_CRE_ITEM ~MEECOL3S~ #0 #0 #0 ~IDENTIFIED~ ~INV11~

COPY_EXISTING ~elmins4.cre~ ~override~
	WRITE_SHORT currenthp 500
	WRITE_SHORT maxhp 500
	WRITE_BYTE race 145 //Elemental
	WRITE_BYTE class 187 //Fire Elemental
	WRITE_BYTE slashingresistance 99
	WRITE_BYTE piercingresistance 99
	WRITE_BYTE crushingresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicresistance 100
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~elmins4~ #8
	WRITE_ASCII racescript ~mearagch~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24098) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~dreppi3.cre~ ~override~
	WRITE_ASCII scriptname ~DREPPI3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8

COPY_EXISTING ~fuller3.cre~ ~override~
	WRITE_ASCII scriptname ~FULLER3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8

COPY_EXISTING ~gorion3.cre~ ~override~
	WRITE_ASCII racescript ~medopkch~ #8

COPY_EXISTING ~jondal3.cre~ ~override~
	WRITE_ASCII scriptname ~JONDAL3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8

COPY_EXISTING ~hull3.cre~ ~override~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8
	REPLACE_CRE_ITEM ~sw1h12~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~karan3.cre~ ~override~
	WRITE_ASCII scriptname ~KARAN3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8

COPY_EXISTING ~parda3.cre~ ~override~
	WRITE_ASCII scriptname ~PARDA3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8

COPY_EXISTING ~phlydi3.cre~ ~override~
	WRITE_ASCII scriptname ~PHLYDI3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8

COPY_EXISTING ~reevor3.cre~ ~override~
	WRITE_ASCII scriptname ~REEVOR3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8

COPY_EXISTING ~tethto3.cre~ ~override~
	WRITE_ASCII racescript ~medopkch~ #8

COPY_EXISTING ~winthr3.cre~ ~override~
	WRITE_ASCII scriptname ~WINTHR3~ #32
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~medopkch~ #8
	WRITE_ASCII generalscript ~medopagg~ #8

COPY_EXISTING ~entar.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 263
	WRITE_SHORT maxhp 263
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 20
	WRITE_BYTE wisdom 17
	WRITE_BYTE charisma 24
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 3
	WRITE_BYTE class classflamingfist
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII classscript ~initdlg~ #8
//	WRITE_ASCII racescript ~meentar~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD06~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~SW1H41~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~BOOT01~ #0 #0 #0 ~NONE~ ~BOOTS~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END

COPY_EXISTING ~entar.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~EscapeArea()~ ~Enemy()~
	END

COPY_EXISTING ~entill.cre~ ~override~
	SAY HURT ~[ENTILLIS 99]~ [ERROR30]
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 24
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~leavech7~ #8
	WRITE_ASCII racescript ~initmain~ #8
	WRITE_ASCII generalscript ~meentill~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi506~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi708~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi913~ #8 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi915~ #8 ~wizard~ (1)
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~erik.cre~ ~override~
	WRITE_ASCII overridescript ~meerik~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)

COPY_EXISTING ~etterc.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE thac0 6
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 5
	WRITE_ASCII classscript ~meetterc~ #8
	WRITE_ASCII racescript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~etterc2~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REMOVE_CRE_ITEM ~etterc1~
	ADD_MEMORIZED_SPELL ~spwi306~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt004~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt005~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt006~ END

COPY_EXISTING_REGEXP ~etterc1.cre~ ~override~
	SAY NAME1 @18008
	SAY NAME2 @18008
	WRITE_LONG killxp 1800
	WRITE_SHORT currenthp 84
	WRITE_SHORT maxhp 84
	WRITE_BYTE thac0 6
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 5
	WRITE_ASCII classscript ~meetter1~ #8
	WRITE_ASCII racescript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~etterc2~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REMOVE_CRE_ITEM ~etterc1~
	ADD_MEMORIZED_SPELL ~sppr720~ #6 ~priest~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt004~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt005~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=useefffile target=1 timing=9 parameter1=eaanyone parameter2=idsea STR_VAR resource=~meprt006~ END

COPY_EXISTING ~faber.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)

COPY_EXISTING ~fafight.cre~ ~override~ ~friend.cre~ ~override~
	WRITE_SHORT currenthp 33
	WRITE_SHORT maxhp 33
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE thac0 15
	WRITE_BYTE attacksperround 7 //1.5
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII classscript ~mefriend~ #8
	WRITE_ASCII racescript ~seeenemy~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 4
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~SW1H04~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~

COPY_EXISTING ~famcat.cre~ ~override~
	WRITE_SHORT currenthp 24
	WRITE_SHORT maxhp 24
	WRITE_SHORT naturalac 6
	WRITE_SHORT effectiveac 6
	WRITE_BYTE strength 10
	WRITE_BYTE dexterity 18
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsspell 15
	WRITE_BYTE savevswand 15
	WRITE_BYTE savevspolymorph 15
	WRITE_BYTE magicresistance 0
	WRITE_BYTE hideinshadows 20
	WRITE_BYTE movesilently 20
	WRITE_BYTE openlocks 80
	WRITE_BYTE findtraps 0
	WRITE_BYTE detectillusion 0
	WRITE_BYTE settraps 0
	WRITE_BYTE pickpockets 80
	WRITE_BYTE thac0 18
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 5
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco208~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF DELETE_CRE_EFFECT INT_VAR opcode_to_delete=modifymovementrate2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~famdust.cre~ ~override~
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE strength 16
	WRITE_BYTE savevsdeath 10
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE magicresistance 10
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE thac0 16
	WRITE_BYTE attacksperround 1
	WRITE_BYTE levelfirstclass 5
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spin935~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco208~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~S1-4~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~

COPY_EXISTING ~famfair.cre~ ~override~
	WRITE_SHORT currenthp 24
	WRITE_SHORT maxhp 24
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 16
	WRITE_BYTE savevsdeath 14
	WRITE_BYTE savevsbreath 10
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 18
	WRITE_BYTE magicresistance 30
	WRITE_BYTE thac0 16
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 5
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco201~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco202~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco063~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco127~ #0 ~innate~ (1)

COPY_EXISTING ~famfer.cre~ ~override~
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_SHORT naturalac 6
	WRITE_SHORT effectiveac 6
	WRITE_BYTE strength 10
	WRITE_BYTE dexterity 17
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsspell 14
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE magicresistance 0
	WRITE_BYTE hideinshadows 20
	WRITE_BYTE movesilently 20
	WRITE_BYTE openlocks 0
	WRITE_BYTE findtraps 80
	WRITE_BYTE detectillusion 60
	WRITE_BYTE settraps 0
	WRITE_BYTE pickpockets 0
	WRITE_BYTE thac0 15
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 5
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~S1-2~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco203~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco204~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisualrange target=1 timing=9 parameter1=10 END

COPY_EXISTING ~famimp.cre~ ~override~
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_SHORT naturalac 8
	WRITE_SHORT effectiveac 8
	WRITE_BYTE strength 17
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsspell 10
	WRITE_BYTE savevswand 11
	WRITE_BYTE savevspolymorph 19
	WRITE_BYTE magicresistance 50
	WRITE_BYTE thac0 12
	WRITE_BYTE attacksperround 1
	WRITE_BYTE levelfirstclass 5
	REPLACE_CRE_ITEM ~MEIMP~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~MEIMP~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~MEIMP~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~MEIMP~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco205~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco206~ #0 ~innate~ (1)

COPY_EXISTING ~fampsd.cre~ ~override~
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_SHORT naturalac 7
	WRITE_SHORT effectiveac 7
	WRITE_BYTE strength 17
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE magicresistance 20
	WRITE_BYTE thac0 14
	WRITE_BYTE attacksperround 1
	WRITE_BYTE levelfirstclass 5
	REPLACE_CRE_ITEM ~MEPSD~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~MEPSD~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~MEPSD~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~MEPSD~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco051~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco200~ #0 ~innate~ (1)

COPY_EXISTING ~famquas.cre~ ~override~
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_SHORT naturalac 8
	WRITE_SHORT effectiveac 8
	WRITE_BYTE strength 18
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsbreath 10
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE magicresistance 15
	WRITE_BYTE thac0 10
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 5
	REPLACE_CRE_ITEM ~MEQUASIT~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~MEQUASIT~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~MEQUASIT~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~MEQUASIT~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco207~ #0 ~innate~ (1)

COPY_EXISTING ~famrab.cre~ ~override~
	WRITE_SHORT currenthp 24
	WRITE_SHORT maxhp 24
	WRITE_SHORT naturalac 6
	WRITE_SHORT effectiveac 6
	WRITE_BYTE strength 10
	WRITE_BYTE dexterity 18
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsbreath 13
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevswand 14
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE magicresistance 0
	WRITE_BYTE hideinshadows 200
	WRITE_BYTE movesilently 200
	WRITE_BYTE openlocks 0
	WRITE_BYTE findtraps 0
	WRITE_BYTE detectillusion 0
	WRITE_BYTE settraps 0
	WRITE_BYTE pickpockets 0
	WRITE_BYTE thac0 5
	WRITE_BYTE attacksperround 1
	WRITE_BYTE levelfirstclass 5
	REPLACE_CRE_ITEM ~P1-12~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~P1-12~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~P1-12~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~
	REPLACE_CRE_ITEM ~P1-12~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~farluc.cre~ ~override~ ~nelik.cre~ ~override~ ~turpin.cre~ ~override~ ~waiter.cre~ ~override~ ~bart9.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 56
	WRITE_SHORT maxhp 56
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevspolymorph 17
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdoppleganger
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~megreteg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END

COPY_EXISTING ~fearm.cre~ ~override~
	SAY BATTLE_CRY1 #5166
	SAY SELECT_COMMON1 #5172
	SAY DAMAGE #5890
	SAY DYING #5891
	WRITE_LONG BATTLE_CRY2 0xFFFFFFFF
	WRITE_LONG ATTACK1 0xFFFFFFFF
	WRITE_LONG ATTACK2 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON2 0xFFFFFFFF
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 110
	WRITE_SHORT maxhp 110
	WRITE_LONG animation 57965
	WRITE_BYTE general generalmonster
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdopplegangergreater
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 1
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~reddeath~ #8
	WRITE_ASCII racescript ~mefearm~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_MEMORIZED_SPELL ~mems072~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~spcl103~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~spin866~ #2 ~wizard~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~mefearm~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV8~

COPY_EXISTING ~firebe.cre~ ~override~ ~fireb1.cre~ ~override~
	WRITE_LONG killxp 1800
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII racescript ~mefirebe~ #8
	WRITE_ASCII generalscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24033) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~firebe.cre~ ~override~
	REMOVE_CRE_ITEM ~bag03~
	ADD_CRE_ITEM ~MEECOL01~ #0 #0 #0 ~IDENTIFIED~ ~INV1~

COPY_EXISTING ~ffsleep.cre~ ~override~
	SAY INITIAL_MEETING #4988

COPY_EXISTING_REGEXP ~flam.*.cre~ ~override~ ~ff.*.cre~ ~override~ ~k9ff.*.cre~ ~override~ ~chimp5.cre~ ~override~ ~watchm.cre~ ~override~ ~fergus.cre~ ~override~ ~sorrel.cre~ ~override~ ~bill.cre~ ~override~ ~laola.cre~ ~override~ ~caedmo.cre~ ~override~ ~kent.cre~ ~override~ ~jonavi.cre~ ~override~
	REPLACE_CRE_ITEM ~meshld60~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~meflamfi~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~flam2.cre~ ~override~
	SAY NAME1 @18311
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 14
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 12
	WRITE_BYTE wisdom 17
	WRITE_BYTE charisma 14
	WRITE_BYTE thac0 15
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~

COPY_EXISTING ~flam4.cre~ ~override~
	SAY NAME1 @18312
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 12
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 15
	WRITE_BYTE thac0 9
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END

COPY_EXISTING ~flam5.cre~ ~override~
	SAY NAME1 @18317
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 9
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 17
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco275~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END

COPY_EXISTING ~flam5a.cre~ ~override~ ~flam5b.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 12
	WRITE_BYTE intelligence 9
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 13
	WRITE_BYTE thac0 15
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END

COPY_EXISTING ~flam7.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 246
	WRITE_SHORT maxhp 246
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 17
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~mems123~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~flam9.cre~ ~override~
	SAY NAME1 @18313
	WRITE_LONG killxp 9000
	WRITE_SHORT currenthp 388
	WRITE_SHORT maxhp 388
	WRITE_BYTE strength 24
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 24
	WRITE_BYTE intelligence 16
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 21
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 24
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV8~
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~mems123~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~ (5)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~flam10.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 9
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 17
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	WRITE_ASCII generalscript ~seeenemy~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco275~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END

COPY_EXISTING ~flam11.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 246
	WRITE_SHORT maxhp 246
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 17
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~mems123~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~flam12.cre~ ~override~
	SAY NAME1 @18315
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 157
	WRITE_SHORT maxhp 157
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 24
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 14
	WRITE_BYTE charisma 8
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~mems123~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~flam13.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 221
	WRITE_SHORT maxhp 221
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 17
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~mems123~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING_REGEXP ~flamal.cre~ ~override~ ~flamc7.cre~ ~override~ ~ffhunt.cre~ ~override~ ~ffhunt1.cre~ ~override~ ~ffhunt2.cre~ ~override~ ~ffhunt3.cre~ ~override~ ~k9ff.*.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 14
	WRITE_BYTE charisma 14
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~flamang.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE wisdom 18
	WRITE_BYTE thac0 3
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 18
	WRITE_BYTE levelsecondclass 18
	WRITE_ASCII racescript ~meflmang~ #8
	SET_BG2_PROFICIENCY PROFICIENCYMACE 5
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~sppr213~ #1 ~priest~
	ADD_MEMORIZED_SPELL ~sppr304~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr407~ #3 ~priest~
	ADD_MEMORIZED_SPELL ~sppr607~ #5 ~priest~
	ADD_MEMORIZED_SPELL ~sppr708~ #6 ~priest~
	REPLACE_CRE_ITEM ~helm09~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
//	REPLACE_CRE_ITEM ~shld06~ #0 #0 #0 ~NONE~ ~SHIELD~
//	REPLACE_CRE_ITEM ~blun05~ #0 #0 #0 ~NONE~ ~WEAPON1~
//	REPLACE_CRE_ITEM ~clck01~ #0 #0 #0 ~NONE~ ~CLOAK~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~sppr405~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~flambrid.cre~ ~override~
	SAY NAME1 @18314
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 14
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 12
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~

COPY_EXISTING ~flamen.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 16
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 14
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~ (5)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END

COPY_EXISTING ~flamen2.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 16
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 14
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~ (5)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END

COPY_EXISTING ~flamgate.cre~ ~override~
	SAY NAME1 @18316
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 11
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 10
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~
	IF_EXISTS

COPY_EXISTING ~flamgg.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 11
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 10
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~mech3act~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~meflam~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~

COPY_EXISTING ~flamhusb.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 12
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 11
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl811~ #0 ~innate~

COPY_EXISTING ~flampun.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 14
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~spcl232~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~mems123~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END

COPY_EXISTING ~flampun2.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 14
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REMOVE_CRE_ITEM ~arow01~ ~arow02~ ~arow07~
	REPLACE_CRE_ITEM ~fireseed~ #1000 #0 #0 ~IDENTIFIED~ ~WEAPON2~ EQUIP
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco275~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END

COPY_EXISTING ~flamsco.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 82
	WRITE_SHORT maxhp 82
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 16
	WRITE_BYTE wisdom 16
	WRITE_BYTE charisma 10
	WRITE_BYTE thac0 9
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 12
	WRITE_ASCII racescript ~meflam~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=4 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~flamvai.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 14
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 12
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 11
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~meco365~ #0 ~innate~

COPY_EXISTING ~flamwiz.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 69
	WRITE_SHORT maxhp 69
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 19
	WRITE_BYTE wisdom 17
	WRITE_BYTE charisma 12
	WRITE_BYTE thac0 9
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 12
	WRITE_ASCII racescript ~meflamwi~ #8
	WRITE_ASCII generalscript ~meflam~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~clck09~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_MEMORIZED_SPELL ~meco275~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spwi111~ #0 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=7 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

/*
COPY_EXISTING ~friwen.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE attacksperround 5
	WRITE_BYTE thac0 5
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdopplegangergreater
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~medopgch~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdrunsgt~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END
*/
COPY_EXISTING ~galile.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 23
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~megalile~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~UNSTEALABLE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~spwi911~ END

COPY_EXISTING ~gandol.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 2
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE thac0 0
	WRITE_BYTE class classflamingfist
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~seeenemy~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSLING 5
	REPLACE_CRE_ITEM ~LEAT02~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~MESLNG08~ #0 #0 #0 ~UNSTEALABLE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=4 parameter2=4 END

COPY_EXISTING ~gantol1.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 191
	WRITE_SHORT maxhp 191
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~megantol~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=minhp target=1 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi717~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24034) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gantol2.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 191
	WRITE_SHORT maxhp 191
	WRITE_SHORT kit kitkensai
	WRITE_BYTE levelfirstclass 18
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	REPLACE_CRE_ITEM ~sw1h42~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi717~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24035) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~garan.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE class classmagethief
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 20
	WRITE_BYTE acidresistance 120
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~megaran~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~belt10~ #0 #0 #0 ~NONE~ ~BELT~
	REPLACE_CRE_ITEM ~dagg01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~mescrl9z~ #1 #0 #0 ~IDENTIFIED~ ~INV7~
	ADD_CRE_ITEM ~wand09~ #10 #0 #0 ~NONE~ ~INV8~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems020~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi518~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi910~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spcl916~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24036) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gardus.cre~ ~override~
	WRITE_LONG killxp 4500
	WRITE_SHORT currenthp 117
	WRITE_SHORT maxhp 117
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 206
	WRITE_BYTE elecresistance 206
	WRITE_BYTE acidresistance 206
	WRITE_BYTE magicfireresistance 206
	WRITE_BYTE magiccoldresistance 206
	WRITE_BYTE savevsbreath 10
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 3
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~leavech7~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII scriptname ~GARDUSH~ #8
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	REPLACE_CRE_ITEM ~PLAT24~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~HAMM02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull04~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=25 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 50) END

COPY_EXISTING ~gazib.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE levelfirstclass 14
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~megazib~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi299~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi716~ #6 ~wizard~ (1)

COPY_EXISTING_REGEXP ~gdopp7.*.cre~ ~override~
	REMOVE_CRE_ITEM ~mage06~
	ADD_CRE_ITEM ~mage01~ #0 #0 #0 ~NONE~ ~BOOTS~

COPY_EXISTING ~gdopp7.cre~ ~override~
	SAY NAME1 @18009
	SAY NAME2 @18009
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~megdop70~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~gdopp71.cre~ ~override~
	SAY NAME1 @18010
	SAY NAME2 @18010
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~megdop71~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)

COPY_EXISTING ~gdopp72.cre~ ~override~
	SAY NAME1 @18011
	SAY NAME2 @18011
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 4
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~megdop72~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spin866~ #2 ~wizard~ (1)

COPY_EXISTING ~gdopp73.cre~ ~override~
	SAY NAME1 @18012
	SAY NAME2 @18012
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 21
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 2
	WRITE_BYTE attacksperround 4
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~megdop73~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~gdopp74.cre~ ~override~
	SAY NAME1 @18013
	SAY NAME2 @18013
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 2
	WRITE_BYTE attacksperround 4
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~megdop74~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi514~ #4 ~wizard~ (1)

COPY_EXISTING ~gdopp75.cre~ ~override~
	SAY NAME1 @18014
	SAY NAME2 @18014
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 14
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 4
	WRITE_BYTE attacksperround 3
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~megdop75~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8

COPY_EXISTING ~gellan.cre~ ~override~
	WRITE_LONG killxp 1800
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE magicresistance 75
	WRITE_BYTE thac0 12
	WRITE_BYTE class classflamingfist
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~megellan~ #8
	WRITE_ASCII generalscript ~seeenemy~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr507~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr510~ #4 ~priest~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 4
	REPLACE_CRE_ITEM ~BLUN03~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24037) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~geltik.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 15
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelsecondclass 6
	WRITE_ASCII racescript ~megeltik~ #8
	WRITE_ASCII generalscript ~wtasight~ #8
	ADD_MEMORIZED_SPELL ~spwi115~ #0 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (1)
	REMOVE_CRE_ITEM ~AROW01~ ~AROW12~
	REPLACE_CRE_ITEM ~CLCK11~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~COMPS01~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=wizard END

COPY_EXISTING ~gentho.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 92
	WRITE_SHORT maxhp 92
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE thac0 9
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meircall~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~
	REPLACE_CRE_ITEM ~plat01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~ax1h18~ #10 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~ax1h02~ #0 #0 #0 ~NONE~ ~WEAPON2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=iftookdamage STR_VAR resource=~meinswch~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24107) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gerde.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 102
	WRITE_SHORT maxhp 102
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~staf05~ #25 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END

COPY_EXISTING ~gervis.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 19
	WRITE_BYTE charisma 18
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 12
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~megervis~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi118~ #0 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi401~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~ghast.cre~ ~override~ ~ghastd.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_BYTE acidresistance 125
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 88
	WRITE_BYTE dexterity 16
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~meghast~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~meghast1~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~ghasts.cre~ ~override~
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_BYTE acidresistance 125
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 88
	WRITE_BYTE dexterity 16
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 10
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~ghoul.cre~ ~override~ ~ghoulsu.cre~ ~override~
	WRITE_SHORT currenthp 30
	WRITE_SHORT maxhp 30
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_BYTE acidresistance 125
	WRITE_BYTE savevsbreath 14
	WRITE_BYTE savevsdeath 14
	WRITE_BYTE savevswand 14
	WRITE_BYTE savevsspell 14
	WRITE_BYTE savevspolymorph 14
	WRITE_BYTE strength 18
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~ghoullor.cre~ ~override~ //Greater Ghoul
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 180
	WRITE_SHORT maxhp 180
	WRITE_SHORT naturalac 65534 //-2
	WRITE_SHORT effectiveac 65534 //-2
	WRITE_BYTE acidresistance 125
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meghoulg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~meinrtel~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~meghoulg~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisionrange target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=6 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING ~gibber.cre~ ~override~ ~rsgibber.cre~ ~override~
	WRITE_LONG killxp 180
	WRITE_SHORT currenthp 8
	WRITE_SHORT maxhp 8
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE strength 9
	WRITE_BYTE fireresistance 156 //-100%
	WRITE_BYTE magicfireresistance 156
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 5
	REPLACE_CRE_ITEM ~s1-2~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24038) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gibber02.cre~ ~override~ ~gibber2.cre~ ~override~
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE strength 9
	WRITE_BYTE fireresistance 156 //-100%
	WRITE_BYTE magicfireresistance 156
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE thac0 10
	WRITE_BYTE attacksperround 5
	REPLACE_CRE_ITEM ~mes1-1~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24039) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~glart.cre~ ~override~
	SAY NAME1 @18015
	SAY NAME2 @18015
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE class classfightermage
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~mechill~ #8
	WRITE_ASCII racescript ~meglart~ #8
	REMOVE_CRE_ITEM ~leat01~
	ADD_MEMORIZED_SPELL ~mems098~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi708~ #6 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=npcbump target=1 timing=9 parameter2=1 END

COPY_EXISTING ~gnarl.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE thac0 15
	WRITE_BYTE attacksperround 2
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~megnarl~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~
	ADD_CRE_ITEM ~BRAC19~ #0 #0 #0 ~NONE~ ~GLOVES~
	ADD_CRE_ITEM ~BELT15~ #0 #0 #0 ~NONE~ ~BELT~
	ADD_CRE_ITEM ~MFIST4~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setmeleeeffect target=1 timing=9 STR_VAR resource=~spcl909a~ END

COPY_EXISTING_REGEXP ~gnoll.*.cre~ ~override~ ~flind.*.cre~ ~override~ ~britik.cre~ ~override~ ~garkla.cre~ ~override~ ~ingot.cre~ ~override~ ~olgnoll.*.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 30
	WRITE_SHORT maxhp 30
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE thac0 5
	WRITE_BYTE attacksperround 3
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	IF_EXISTS

COPY_EXISTING_REGEXP ~gnoll.cre~ ~override~ ~gnoll[^_].*.cre~ ~override~ ~gnoll_b.*.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24046) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~flind.*.cre~ ~override~ ~flintal1.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 35
	WRITE_SHORT maxhp 35
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 100
	ADD_MEMORIZED_SPELL ~meflind~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24047) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~flind.cre~ ~override~ ~flind_[ABC].cre~ ~override~ ~flintal1.cre~ ~override~
	WRITE_ASCII overridescript ~meflind~ #8
	WRITE_ASCII racescript ~wtasight~ #8 //Reverted to base script so SCS can see it
	IF_EXISTS

COPY_EXISTING ~flindb.cre~ ~override~
	WRITE_ASCII overridescript ~shout~ #8
	WRITE_ASCII classscript ~meflind~ #8
	WRITE_ASCII racescript ~gnollfb~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~britik.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 86
	WRITE_SHORT maxhp 86
	WRITE_BYTE thac0 1
	WRITE_BYTE attacksperround 5
	WRITE_ASCII overridescript ~shout~ #8
	WRITE_ASCII classscript ~mebritik~ #8
	REPLACE_CRE_ITEM ~MEHALB10~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~UNDROPPABLE~ ~LRING~
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~UNDROPPABLE~ ~RRING~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV1~
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=panic END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=iftookdamage STR_VAR resource=~meintele~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24048) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~garkla.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE intelligence 17
	WRITE_BYTE thac0 3
	WRITE_BYTE attacksperround 4
	WRITE_ASCII classscript ~megnoll~ #8
	ADD_MEMORIZED_SPELL ~spwi306~ #2 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~
	ADD_MEMORIZED_SPELL ~spwi509~ #4 ~wizard~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV1~
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 3
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24040) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gnoll5.cre~ ~override~
	SAY NAME1 @18016
	SAY NAME2 @18016
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=iftookdamage STR_VAR resource=~meintele~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meindspl~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24041) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gnoll_a.cre~ ~override~ ~olgnolle.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE fireresistance 156 //-100%
	WRITE_BYTE coldresistance 156
	WRITE_BYTE elecresistance 156
	WRITE_BYTE acidresistance 156
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magicfireresistance 156
	WRITE_BYTE magiccoldresistance 156
	WRITE_BYTE thac0 2
	WRITE_BYTE attacksperround 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 100) parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate1 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24042) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~gnoll_c.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 65
	WRITE_SHORT maxhp 65
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 4
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~megnoll~ #8
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~
	REPLACE_CRE_ITEM ~HALB02~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate1 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24043) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gnoll_d.cre~ ~override~ ~olgnolls.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 24
	WRITE_SHORT maxhp 24
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~megnoll~ #8
	ADD_MEMORIZED_SPELL ~spwi511~ #4 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate1 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24044) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~gnoll_e.cre~ ~override~ ~olgnollv.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 54
	WRITE_SHORT maxhp 54
	WRITE_BYTE missileresistance 99
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~megnoll~ #8
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24045) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~gnoll_eb.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 54
	WRITE_SHORT maxhp 54
	WRITE_BYTE missileresistance 99
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~megnoll~ #8
	WRITE_ASCII generalscript ~gnollfb~ #8
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24045) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~golemf.cre~ ~override~ ~golemf2.cre~ ~override~ ~fgolem.cre~ ~override~ 
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 400
	WRITE_SHORT maxhp 400
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_LONG animation 32519 //BG2 golem
	WRITE_BYTE strength 22
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 206 //-50%
	WRITE_BYTE slashingresistance 156 //-100%
	WRITE_BYTE piercingresistance 156 //-100%
	WRITE_BYTE crushingresistance 156 //-100%
	WRITE_BYTE missileresistance 156  //-100%
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 7 //1.5
	WRITE_ASCII overridescript ~megolfle~ #8
	REPLACE_CRE_ITEM ~megolfle~ #0 #0 #0 ~NONE~ ~WEAPON1~
//	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycriticalhitchance target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END

COPY_EXISTING ~golinv.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE attacksperround 5
	WRITE_BYTE thac0 5
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdopplegangergreater
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~medopgch~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~gooddeat.cre~ ~override~
	WRITE_SHORT currenthp 600
	WRITE_SHORT maxhp 600
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE general generalundead
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 19
	WRITE_BYTE fireresistance 60
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 30
	WRITE_BYTE acidresistance 30
	WRITE_BYTE magicresistance 15
	WRITE_BYTE magicfireresistance 30
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 253 //-3
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 40
	REPLACE_CRE_ITEM ~ring99~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=30 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems059~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems097~ END

COPY_EXISTING ~gorf.cre~ ~override~
	WRITE_LONG INITIAL_MEETING 0xFFFFFFFF
	WRITE_LONG BATTLE_CRY1 0xFFFFFFFF
	WRITE_LONG BATTLE_CRY2 0xFFFFFFFF
	WRITE_LONG BATTLE_CRY3 0xFFFFFFFF
	WRITE_LONG ATTACK1 0xFFFFFFFF
	WRITE_LONG DAMAGE 0xFFFFFFFF
	WRITE_LONG DYING 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON1 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON2 0xFFFFFFFF
	WRITE_LONG SELECT_COMMON3 0xFFFFFFFF
	WRITE_LONG 0x130 0xFFFFFFFF
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 400
	WRITE_SHORT maxhp 400
	WRITE_SHORT animation 32574 //Fire Giant
	WRITE_BYTE race 142 //Giant
	WRITE_BYTE class 180 //Giant
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 10
	WRITE_BYTE constitution 25
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 156 //-100%
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 156
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~megorf~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~GIAFIR2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl909a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl909a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~gorion.cre~ ~override~
	REMOVE_CRE_ITEM ~belt16~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24075) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gorion3.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24096) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~gorpel.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE attacksperround 5
	WRITE_BYTE thac0 5
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdopplegangergreater
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~megreteg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END


COPY_EXISTING ~grael.cre~ ~override~
	SAY INITIAL_MEETING @18017
	SAY BATTLE_CRY1 @18017
	SAY BATTLE_CRY2 ~[GHAST LORD, GREATER 2]~ [MEGHAG02]
	SAY SELECT_COMMON1 ~[GHAST LORD, GREATER 6]~ [MEGHAG06]
	SAY SELECT_COMMON2 ~[GHAST LORD, GREATER 3]~ [MEGHAG03]
	SAY DAMAGE ~[GHAST LORD, GREATER 4]~ [MEGHAG04]
	SAY DYING ~[GHAST LORD, GREATER 5]~ [MEGHAG05]
	WRITE_SHORT animation slotghastlargedecimal
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 500
	WRITE_SHORT maxhp 500
	WRITE_SHORT naturalac 65529 //-7
	WRITE_SHORT effectiveac 65529 //-7
	WRITE_BYTE acidresistance 125
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE fireresistance 206 //-50
	WRITE_BYTE coldresistance 206 //-50
	WRITE_BYTE elecresistance 206 //-50
	WRITE_BYTE acidresistance 206 //-50
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE thac0 206 //-50
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~megrael~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~brac26~ #0 #0 #0 ~NONE~ ~GLOVES~
	REPLACE_CRE_ITEM ~megrael~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END

COPY_EXISTING ~gregor.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 93
	WRITE_SHORT maxhp 93
	WRITE_BYTE race racehalforc
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE magicresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE thac0 11
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~megregor~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	REPLACE_CRE_ITEM ~CHAN12~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SW1H05~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SW1H05~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV7~ //Tome of Clear Thought
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=1 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=300 parameter2=2 END


COPY_EXISTING ~gretek.cre~ ~override~
	WRITE_LONG killxp 3500
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 20
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 20
	WRITE_BYTE missileresistance 100
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 6
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~megreteg~ #8
	WRITE_ASCII racescript ~megretek~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco047~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~boot01~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~meax1h14~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~greywo.cre~ ~override~
	WRITE_LONG killxp 2600
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_SHORT kit kitkensai
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 18
	WRITE_BYTE slashingresistance 156 //-100%
	WRITE_BYTE piercingresistance 156 //-100%
	WRITE_BYTE crushingresistance 156 //-100%
	WRITE_BYTE missileresistance 156  //-100%
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~meshrt01~ #0 #0 #0 ~NONE~ ~ARMOR~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~MEINFAST~ END

COPY_EXISTING ~gurke.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE allegiance eagoodbutblue
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~megurke~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (9)
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi405~ END

COPY_EXISTING ~hack.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 10
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 2
	WRITE_BYTE attacksperround 1
	WRITE_BYTE levelfirstclass 15
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END

COPY_EXISTING ~hafiz.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 59
	WRITE_SHORT maxhp 59
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 18
	WRITE_BYTE thac0 14
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 2
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII racescript ~mehafiz~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi411~ #3 ~wizard~ (2)
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~mems046~ END

COPY_EXISTING ~hairto.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE thac0 15
	WRITE_BYTE attacksperround 2
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mehairto~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 3) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setmeleeeffect target=1 timing=9 STR_VAR resource=~spcl909a~ END

COPY_EXISTING ~hakt.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 21
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 9
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~arow07~ #1 #0 #0 ~NONE~ ~QUIVER1~ //Arrow of Dispelling
	REPLACE_CRE_ITEM ~arow08~ #36 #0 #0 ~NONE~ ~QUIVER2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissiledamage target=1 timing=9 parameter1=15 END

COPY_EXISTING ~halaca.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_SHORT kit kitillusionist
	WRITE_BYTE class classmage
	WRITE_BYTE thac0 17
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mehalaca~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 1
	SET_BG2_PROFICIENCY PROFICIENCYDART 1
	REMOVE_CRE_ITEM ~AX1H01~ ~HAMM01~
	REPLACE_CRE_ITEM ~CLCK13~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~DART03~ #10 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~DAGG02~ #0 #0 #0 ~NONE~ ~WEAPON2~
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_MEMORIZED_SPELL ~meco160~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spwi125~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi327~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi452~ #3 ~wizard~ (3)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi452~ ~%mewi452%~
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (2)
	ADD_CRE_ITEM ~MEWI452X~ #1 #0 #0 ~IDENTIFIED~ ~INV6~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~halbaz.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 180
	WRITE_SHORT maxhp 180
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mehalbaz~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~merobe92~ #1 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~UNSTEALABLE~ ~INV5~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~UNSTEALABLE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi118~ #0 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi213~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi306~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi313~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco103~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi406~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi502~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi506~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi509~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi519~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi601~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi616~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi623~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi702~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi708~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi711~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi713~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi717~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi718~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi719~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi803~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi902~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi907~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi918~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems095~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems099~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco033~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END

COPY_EXISTING ~halftr.cre~ ~override~
	WRITE_BYTE pickpockets 50
	REMOVE_CRE_ITEM ~MISC19~
	ADD_CRE_ITEM ~memiscgs~ #1 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24139) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~hareis.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 42
	WRITE_SHORT maxhp 42
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII classscript ~mehareis~ #8
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi213~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi328~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~MEWI457~ #3 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI457~ ~%mewi457%~
	ADD_MEMORIZED_SPELL ~spwi609~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi614~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi726~ #6 ~wizard~ (1)
	REPLACE_CRE_ITEM ~CLCK14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MAGE03~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~RING27~ #0 #0 #0 ~NONE~ ~RRING~
//	ADD_CRE_ITEM ~MERGCURE~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~SCRL6W~ #1 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV7~ //Tome of Understanding

COPY_EXISTING ~haseo.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 126
	WRITE_SHORT maxhp 126
	WRITE_SHORT kit kitkensai
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 21
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 5
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~sw1h44~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~memirror~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~boot01~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~mesw1h94~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=9 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=1 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~helmho.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 20
	WRITE_BYTE wisdom 14
	WRITE_BYTE charisma 3
	WRITE_BYTE thac0 6
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE fireresistance 25
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 25
	WRITE_BYTE acidresistance 25
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII generalscript ~mehelmho~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi616~ #5 ~wizard~ (1) //Disintegrate
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REMOVE_CRE_ITEMS
	ADD_CRE_ITEM ~mehelm50~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~ //Helmet
	ADD_CRE_ITEM ~shld06~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~meblun63~ #0 #0 #0 ~NONE~ ~WEAPON1~ //Helmed Horror's Morning Star +1
//	ADD_CRE_ITEM ~ring95~ #0 #0 #0 ~NONE~ ~LRING~
//	ADD_CRE_ITEM ~mefixres~ #0 #0 #0 ~NONE~ ~RRING~
//	REPLACE_CRE_ITEM ~mergcure~ #0 #0 #0 ~NONE~ ~BELT~
//	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV1~ //Tome of Clear Thought
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=1 resist_dispel=3 school=5 sectype=3 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~meselfkn~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter1=slay END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24111) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~helsha.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE dexterity 18
	WRITE_BYTE intelligence 21
	WRITE_BYTE slashingresistance 25
	WRITE_BYTE piercingresistance 25
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 25
	WRITE_BYTE fireresistance 25
	WRITE_BYTE coldresistance 25
	WRITE_BYTE elecresistance 25
	WRITE_BYTE acidresistance 25
	WRITE_BYTE magicfireresistance 25
	WRITE_BYTE magiccoldresistance 25
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~mehelsha~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~clck13~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV7~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi118~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi602~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi616~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi711~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi714~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi918~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=25 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~spwi119~ END

COPY_EXISTING ~hick.cre~ ~override~
	SAY NAME1 @18018
	SAY NAME2 @18018

COPY_EXISTING_REGEXP ~hob.*.cre~ ~override~ ~bhobgob.cre~ ~override~ ~nthobgod.cre~ ~override~ ~k9hobgob.cre~ ~override~
	WRITE_LONG killxp 90
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 18
	REPLACE_CRE_ITEM ~helm11~ #0 #0 #0 ~NONE~ ~HELMET~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24112) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~hobelite.cre~ ~override~ ~hobgbeg9.cre~ ~override~ ~hobchil2.cre~ ~override~ ~hobgobsu.cre~ ~override~
	WRITE_LONG killxp 450
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE constitution 18
	WRITE_BYTE class classfightercleric
	WRITE_BYTE levelfirstclass 4
	WRITE_BYTE levelsecondclass 5
	WRITE_ASCII classscript ~mehobeli~ #8
	ADD_MEMORIZED_SPELL ~sppr101~ #0 ~priest~
	REPLACE_CRE_ITEM ~helm11~ #0 #0 #0 ~NONE~ ~HELMET~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=priest END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24113) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~hobgobc.cre~ ~override~ //Chill Hobgoblin
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 18
	WRITE_BYTE class classfightermage
	WRITE_BYTE thac0 14
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 3
	WRITE_BYTE levelsecondclass 6
	WRITE_ASCII overridescript ~shout~ #8
	WRITE_ASCII classscript ~mechill~ #8
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ //Melf's Acid Arrow
	REMOVE_CRE_ITEM ~leat01~
	REPLACE_CRE_ITEM ~helm11~ #0 #0 #0 ~NONE~ ~HELMET~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=normalinvisibility resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 5) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24114) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~hobgzhur.cre~ ~override~
	SAY NAME1 @18329
	SAY NAME2 @18329
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 55
	WRITE_BYTE colorminor 66
	WRITE_BYTE colormajor 66
	WRITE_BYTE constitution 17
	WRITE_BYTE class classfighterthief
	WRITE_BYTE thac0 16
	WRITE_BYTE levelfirstclass 5
	WRITE_BYTE levelsecondclass 4
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~megrawli~ #8
	REMOVE_CRE_ITEM ~boot02~ ~boot02zh~ ~sw1h01~
	PATCH_IF FILE_EXISTS_IN_GAME ~BOOT02ZH.itm~ BEGIN
		REPLACE_CRE_ITEM ~boot02zh~ #0 #0 #0 ~NONE~ ~BOOTS~
	END ELSE BEGIN
		REPLACE_CRE_ITEM ~boot02~ #0 #0 #0 ~NONE~ ~BOOTS~
	END
	REPLACE_CRE_ITEM ~helm11~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~sw1h04~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~mewi352x~ #0 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=overridecreaturedata target=1 timing=9 parameter1=1 parameter2=4 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24113) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~hobjoia.cre~ ~override~
	SAY NAME1 @18328
	SAY NAME2 @18328
	WRITE_LONG killxp 450
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE constitution 13
	WRITE_BYTE class classfightermage
	WRITE_BYTE thac0 17
	WRITE_BYTE levelfirstclass 4
	WRITE_BYTE levelsecondclass 5
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~mewergol~ #8
	REMOVE_CRE_ITEM ~leat01~
	ADD_MEMORIZED_SPELL ~SPWI212~ #1 ~wizard~
	ADD_MEMORIZED_SPELL ~MEWI251~ #1 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI251~ ~%mewi251%~
	ADD_MEMORIZED_SPELL ~MEWI552~ #4 ~wizard~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI552~ ~%mewi552%~
	REPLACE_CRE_ITEM ~helm11~ #0 #0 #0 ~NONE~ ~HELMET~
	ADD_CRE_ITEM ~mewi251x~ #0 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=wizard END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24113) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~housg5.cre~ ~override~ ~housg6.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24082) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~hulrik.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24115) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~hurgan.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 0
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magicresistance 25
	WRITE_BYTE levelfirstclass 25
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REMOVE_CRE_ITEM ~HAMM04~
	REPLACE_CRE_ITEM ~MEHAMM10~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=1 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24116) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ichary.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_SHORT animation 30467 //BG2 shadow sprite
	WRITE_BYTE race 134 //Wraith
	WRITE_BYTE class 172 //Wraith
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 7
	WRITE_BYTE attacksperround 3
	WRITE_SHORT naturalac 65533 //-3
	WRITE_SHORT effectiveac 65533 //-3
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE fireresistance 0
	WRITE_BYTE magicfireresistance 231 //-25%
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 0
	WRITE_BYTE magicresistance 20
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meichary~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEMS
	ADD_CRE_ITEM ~HELMNOAN~ #0 #0 #0 ~NONE~ ~HELMET~ //Helmet
	ADD_CRE_ITEM ~RING99~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~IMMUNE1~ #0 #0 #0 ~NONE~ ~BELT~ //Immunity to normal weapons
	ADD_CRE_ITEM ~MESW1H68~ #0 #0 #0 ~NONE~ ~WEAPON1~ //Spectral Brand +2
	ADD_MEMORIZED_SPELL ~meco065~ #0 ~innate~ //Slay Living
	ADD_MEMORIZED_SPELL ~meco103~ #2 ~wizard~ //Wild Horror
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=75 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste1 target=1 timing=9 parameter2=normalhaste END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate1 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~spwi221~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24117) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~igibber.cre~ ~override~
	WRITE_SHORT currenthp 8
	WRITE_SHORT maxhp 8
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE strength 9
	WRITE_BYTE fireresistance 156 //-100%
	WRITE_BYTE magicfireresistance 156
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24038) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ihobgob.cre~ ~override~
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 18
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24112) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ikobold.cre~ ~override~
	SAY NAME1 @18049
	SAY NAME2 @18049
	WRITE_SHORT currenthp 10
	WRITE_SHORT maxhp 10
	WRITE_SHORT naturalac 11
	WRITE_SHORT effectiveac 11
	WRITE_BYTE strength 19
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 2
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=4 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~iskelet.cre~ ~override~
	WRITE_SHORT currenthp 2
	WRITE_SHORT maxhp 2
	WRITE_BYTE strength 16
	WRITE_BYTE thac0 15
	WRITE_BYTE missileresistance 100
	WRITE_BYTE levelfirstclass 1
	REMOVE_CRE_ITEM ~shld18~
	REPLACE_CRE_ITEM ~MEISKELE~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=slow target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl909a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskuli1~ END

COPY_EXISTING ~itasloi.cre~ ~override~
	WRITE_SHORT currenthp 19
	WRITE_SHORT maxhp 19
	WRITE_BYTE strength 17
	WRITE_BYTE thac0 9
	WRITE_ASCII racescript ~meitaslo~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megaztis~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~megaztis~ effsource=~menogaz~ END

COPY_EXISTING ~ixvart.cre~ ~override~
	WRITE_BYTE attacksperround 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=1 STR_VAR resource=~memove01~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24055) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ike.cre~ ~override~ ~ike2.cre~ ~override~
	REMOVE_CRE_ITEM ~MISC2M~
	ADD_CRE_ITEM ~MEMISC2J~ #0 #0 #0 ~NONE~ ~QITEM1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=aid END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=modifyfireresistance END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~sppr201~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~sppr210~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~sppr306~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi319~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~meco121~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24118) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ingot.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_BYTE strength 20
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 206 //-50%
	WRITE_BYTE elecresistance 206 //-50%
	WRITE_BYTE acidresistance 206 //-50%
	WRITE_BYTE magicfireresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 206 //-50%
	WRITE_BYTE missileresistance 100
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 6
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~HALB02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 50) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24049) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~irlent.cre~ ~override~
	WRITE_LONG killxp 6500
	WRITE_SHORT currenthp 1000
	WRITE_SHORT maxhp 1000
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE race racerakshasa
	WRITE_BYTE class classrakshasa
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~meirlent~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_CRE_ITEM ~rakring~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24050) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron2.cre~ ~override~
	SAY NAME1 @18019
	SAY NAME2 @18019
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE allegiance eaenemy
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 83
	WRITE_BYTE intelligence 19
	WRITE_BYTE thac0 3
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII classscript ~none~ #8
	ADD_CRE_ITEM ~MAGE03~ #1 #0 #0 ~NONE~ ~LRING~ //Automatic Mirror Image ring
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~mems101~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi721~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24056) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron3.cre~ ~override~
	SAY NAME1 @18020
	SAY NAME2 @18020
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE race racehalfelf
	WRITE_SHORT animation 24833 //fighter male elf
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meircall~ #8
	WRITE_ASCII generalscript ~meiron3~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII dialogfile ~meiron3~ #8
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~CHAN04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~ //Splint Mail
	REPLACE_CRE_ITEM ~SW2H01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ //Two-Handed Sword
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV2~ //Tome of Understanding
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=1 STR_VAR resource=~memove02~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24057) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron4.cre~ ~override~
	SAY NAME1 @18021
	SAY NAME2 @18021
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 25
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE thac0 11
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meircall~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 1
	REPLACE_CRE_ITEM ~HELM09~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~ //Helmet
	REPLACE_CRE_ITEM ~CHAN04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~ //Splint Mail
	REPLACE_CRE_ITEM ~MEBLUN62~ #0 #0 #0 ~NONE~ ~WEAPON1~ //Huge Flail of Frost
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24058) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron5.cre~ ~override~
	SAY NAME1 @18022
	SAY NAME2 @18022
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 9
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meircall~ #8
	WRITE_ASCII generalscript ~meiron5~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~ //Helmet
	REPLACE_CRE_ITEM ~CHAN13~ #0 #0 #0 ~NONE~ ~ARMOR~ //Elven Chain Mail +1
	REPLACE_CRE_ITEM ~SW1H04~ #0 #0 #0 ~NONE~ ~SHIELD~ //Long Sword
	REPLACE_CRE_ITEM ~SW1H05~ #0 #0 #0 ~NONE~ ~WEAPON1~ //Long Sword +1
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (5) //Lightning Bolt
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1) //Shadow Door
	ADD_MEMORIZED_SPELL ~spwi603~ #5 ~wizard~ (1) //Tenser's Transformation
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1) //Improved Haste
	ADD_MEMORIZED_SPELL ~mems023~ #0 ~innate~ (1) //Blood Rage
	ADD_MEMORIZED_SPELL ~meco160~ #0 ~innate~ (1) //Improved Alacrity
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24059) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron6.cre~ ~override~
	SAY NAME1 @18023
	SAY NAME2 @18023
	WRITE_LONG killxp 1000
	WRITE_SHORT currenthp 2
	WRITE_SHORT maxhp 2
	WRITE_BYTE fireresistance 99
	WRITE_BYTE coldresistance 99
	WRITE_BYTE elecresistance 99
	WRITE_BYTE acidresistance 99
	WRITE_BYTE slashingresistance 99
	WRITE_BYTE piercingresistance 99
	WRITE_BYTE crushingresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 99
	WRITE_BYTE magiccoldresistance 99
	WRITE_BYTE thac0 19
	WRITE_BYTE levelfirstclass 2
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meiron6~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV7~ //Tome of Clear Thought
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV8~ //Tome of Clear Thought
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=1 parameter1=99 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=1 parameter1=99 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~spwi601~ END //Invisible Stalker
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24060) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron7.cre~ ~override~
	SAY NAME1 @18024
	SAY NAME2 @18024
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 12
	WRITE_BYTE attacksperround 4
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meiron7~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (1) //War Cry
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~HELM12~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~MEIRON7~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 parameter2=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24061) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron8.cre~ ~override~
	SAY NAME1 @18025
	SAY NAME2 @18025
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 8
	WRITE_SHORT maxhp 8
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE dexterity 18
	WRITE_BYTE fireresistance 156
	WRITE_BYTE coldresistance 156
	WRITE_BYTE elecresistance 156
	WRITE_BYTE acidresistance 156
	WRITE_BYTE magicfireresistance 156
	WRITE_BYTE magiccoldresistance 156
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 3
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 1
	REPLACE_CRE_ITEM ~STAF07~ #0 #0 #0 ~NONE~ ~WEAPON1~ //Staff Spear
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV1~ //Tome of Leadership and Influence
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=forcevisible END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24062) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron9.cre~ ~override~
	SAY NAME1 @18026
	SAY NAME2 @18026
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_SHORT naturalac 65527 //-9
	WRITE_SHORT effectiveac 65527 //-9
	WRITE_BYTE dexterity 17
	WRITE_BYTE fireresistance 60
	WRITE_BYTE coldresistance 60
	WRITE_BYTE elecresistance 60
	WRITE_BYTE acidresistance 60
	WRITE_BYTE magicfireresistance 60
	WRITE_BYTE magiccoldresistance 60
	WRITE_BYTE slashingresistance 60
	WRITE_BYTE piercingresistance 60
	WRITE_BYTE crushingresistance 60
	WRITE_BYTE missileresistance 60
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevswand 12
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevspolymorph 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meiron9~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV1~ //Manual of Bodily Health
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 parameter2=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24063) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron10.cre~ ~override~
	SAY NAME1 @18027
	SAY NAME2 @18027
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 3
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meiron10~ #8
	WRITE_ASCII generalscript ~meircall~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~HELM11~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~CHAN01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~AROW06~ #1 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~MEAROW25~ #1 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~AROW11~ #30 #0 #0 ~NONE~ ~QUIVER3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 STR_VAR resource=~meminorg~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=1 STR_VAR resource=~spcl909a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=1 STR_VAR resource=~spcl909b~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=1 STR_VAR resource=~spcl909c~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=1 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24064) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron11.cre~ ~override~
	SAY NAME1 @18028
	SAY NAME2 @18028
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 94
	WRITE_SHORT maxhp 94
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE wisdom 20
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE class classfightercleric
	WRITE_BYTE levelfirstclass 13
	WRITE_BYTE levelsecondclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meiron11~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr301~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr414~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr512~ #4 ~priest~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	ADD_CRE_ITEM ~blun03~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~scrl5f~ #4 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~scrl61~ #4 #0 #0 ~IDENTIFIED~ ~INV7~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24065) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron12.cre~ ~override~
	SAY NAME1 @18029
	SAY NAME2 @18029
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spcl321~ #0 ~innate~ (1) //Berserker Rage
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT10~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~SW1H02~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24066) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron13.cre~ ~override~
	SAY NAME1 @18030
	SAY NAME2 @18030
	WRITE_LONG killxp 1700
	WRITE_SHORT currenthp 71
	WRITE_SHORT maxhp 71
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevswand 10
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevspolymorph 11
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	WRITE_BYTE levelsecondclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~meiron13~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi602~ #5 ~wizard~ (1) //Globe of Invulnerability
	ADD_MEMORIZED_SPELL ~mems099~ #8 ~wizard~ (1) //Damage Turning
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~HALB02~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24067) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~iron14.cre~ ~override~
	SAY NAME1 @18031
	SAY NAME2 @18031
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 102
	WRITE_SHORT maxhp 102
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 10
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 10
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~CHAN01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD02P~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	REPLACE_CRE_ITEM ~SW1H44~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=1 STR_VAR resource=~mestun3s~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24068) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ironelit.cre~ ~override~ ~btelite.cre~ ~override~ //Blacktalon Elite
	WRITE_LONG killxp 1200
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meircall~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 2
	ADD_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~AROW09~ #40 #0 #0 ~NONE~ ~QUIVER1~
	REMOVE_CRE_ITEM ~AROW01~ ~AROW02~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24069) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~irongu.cre~ ~override~ //Cloakwood mines basic guard
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meircall~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 4
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24070) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~irongu01.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevswand 10
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevspolymorph 11
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII defaultscript ~irongu~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD15~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24071) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~irongu02.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 76
	WRITE_SHORT maxhp 76
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 10
	WRITE_BYTE constitution 10
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevswand 10
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevspolymorph 11
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII defaultscript ~irongu~ #8
	ADD_MEMORIZED_SPELL ~spcl521~ #0 ~innate~ (1) //Offensive Spin
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~LEAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~HALB01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=1 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=1 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=1 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24072) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~irongu03.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 79
	WRITE_SHORT maxhp 79
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 10
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 10
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~wtarsgt~ #8
	WRITE_ASCII defaultscript ~irongu~ #8
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (1) //War Cry
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 2
	REPLACE_CRE_ITEM ~HELM13~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SW2H01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~IDENTIFIED~ ~SHIELD~
	REPLACE_CRE_ITEM ~AROW10~ #10 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~AROW01~ #30 #0 #0 ~IDENTIFIED~ ~QUIVER2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=1 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24073) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ironguar.cre~ ~override~ //Cloakwood mines archer
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 19
	WRITE_SHORT maxhp 19
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 9
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meircall~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1) //Greater Whirlwind Attack
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 4
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 2
	REPLACE_CRE_ITEM ~AROW11~ #20 #0 #0 ~NONE~ ~QUIVER1~ //Arrow +2
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=1 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=1 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=2 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING_REGEXP ~ironm.*~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24085) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~islsir.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 160
	WRITE_SHORT maxhp 160
	WRITE_SHORT naturalac 65527 //-9
	WRITE_SHORT effectiveac 65527 //-9
	WRITE_BYTE slashingresistance 35
	WRITE_BYTE piercingresistance 35
	WRITE_BYTE crushingresistance 70
	WRITE_BYTE missileresistance 35
	WRITE_BYTE dexterity 24
	WRITE_BYTE intelligence 19
	WRITE_BYTE charisma 25
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~shout~ #8
	WRITE_ASCII generalscript ~meislsir~ #8
	WRITE_ASCII defaultscript ~mearange~ #8
	REMOVE_MEMORIZED_SPELLS
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	REMOVE_CRE_ITEM ~arow05~
	REPLACE_CRE_ITEM ~BOW18~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~MEAROW92~ #32767 #0 #0 ~UNDROPPABLE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~MEAROW92~ #20 #0 #0 ~NONE~ ~INV8~
	REPLACE_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV9~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromprojectile target=1 timing=9 parameter2=(swave - 1) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~MEMS405D~ END

COPY_EXISTING ~ithmee.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE dexterity 18
	WRITE_BYTE intelligence 21
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~meithmee~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV7~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi601~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi621~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi623~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi701~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi719~ #6 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi907~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~izefia.cre~ ~override~ //One of the Shadow Druids
	SAY NAME1 @18309
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 86
	WRITE_SHORT maxhp 86
	WRITE_SHORT kit kitavenger
	WRITE_BYTE levelfirstclass 13
	WRITE_BYTE dexterity 25
	WRITE_BYTE wisdom 21
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meizefia~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spdr101~ #0 ~priest~ (10)
	ADD_MEMORIZED_SPELL ~spdr201~ #1 ~priest~ (7)
	ADD_MEMORIZED_SPELL ~sppr219~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr315~ #2 ~priest~ (8)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~spdr501~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~meps506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr610~ #5 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~spcl632~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~LEAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	ADD_CRE_ITEM ~ANTIWEB~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV7~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=priest END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24119) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jacil.cre~ ~override~ //Merchant's League guard and blink dog trainer
	WRITE_LONG killxp 4400
	WRITE_SHORT currenthp 255
	WRITE_SHORT maxhp 255
	WRITE_BYTE strength 22
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 0
	WRITE_BYTE slashingresistance 156 //-100
	WRITE_BYTE piercingresistance 156 //-100
	WRITE_BYTE crushingresistance 156 //-100
	WRITE_BYTE missileresistance 156 //-100
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII classscript ~mejacil~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REMOVE_CRE_ITEM ~BOW03~ ~AROW02~ ~SPER05~
	REPLACE_CRE_ITEM ~MESPER12~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~POTN23~ #1 #0 #0 ~IDENTIFIED~ ~INV2~
	ADD_CRE_ITEM ~POTN52~ #2 #0 #0 ~IDENTIFIED~ ~INV3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~sppr610~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24120) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jalant.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 350
	WRITE_SHORT maxhp 350
	WRITE_BYTE strength 19
	WRITE_BYTE wisdom 25
	WRITE_BYTE pickpockets 30
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~mejalant~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~plat01~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~meshld61~ #0 #0 #0 ~UNSTEALABLE~ ~SHIELD~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mepr351~ #2 ~priest~ (4)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr351~ ~%mepr351%~
	ADD_MEMORIZED_SPELL ~sppr426~ #3 ~priest~ (10)
	ADD_MEMORIZED_SPELL ~mepr652~ #5 ~priest~ (4)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr652~ ~%mepr652%~
	ADD_MEMORIZED_SPELL ~sppr607~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr722~ #6 ~priest~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonuscrushing END

COPY_EXISTING ~jardak.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE thac0 0
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE slashingresistance 100
	WRITE_BYTE piercingresistance 100
	WRITE_BYTE crushingresistance 100
	WRITE_BYTE missileresistance 100
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE alignment alignmentlawfulneutral
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII racescript ~mejardak~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~MESW1H66~ #0 #1 #0 ~NONE~ ~WEAPON1~
//	REPLACE_CRE_ITEM ~SHLD07A~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=1 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24121) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jebado.cre~ ~override~
	WRITE_LONG killxp 450
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE elecresistance 60
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=iftookdamage STR_VAR resource=~spcl722~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24122) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jellgr.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE strength 19
	WRITE_BYTE fireresistance 206 //-50
	WRITE_BYTE coldresistance 206 //-50
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE slashingresistance 30
	WRITE_BYTE piercingresistance 30
	WRITE_BYTE crushingresistance 0
	WRITE_BYTE missileresistance 30
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 206 //-50
	WRITE_BYTE magiccoldresistance 156 //-100
	REPLACE_CRE_ITEM ~MEJELLGY~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=1 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24125) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jellmu.cre~ ~override~ ~jellmusu.cre~ ~override~ ~jellymu.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE strength 17
	WRITE_BYTE coldresistance 0
	WRITE_BYTE magiccoldresistance 0
	WRITE_BYTE acidresistance 100
	WRITE_BYTE slashingresistance 25
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magicresistance 50
	WRITE_BYTE attacksperround 2
	REPLACE_CRE_ITEM ~MEJELLMU~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24126) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jellmul.cre~ ~override~
	SAY NAME1 @18032
	SAY NAME2 @18032
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 77
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 50
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 100
	WRITE_BYTE magicresistance 100
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE attacksperround 5
	WRITE_BYTE class 154 //Green Slime
	WRITE_SHORT animation 30977
	REPLACE_CRE_ITEM ~MEJELLGR~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24127) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jelloc.cre~ ~override~ ~jellyco.cre~ ~override~
	WRITE_LONG killxp 2600
	WRITE_SHORT currenthp 28
	WRITE_SHORT maxhp 28
	WRITE_BYTE strength 19
	WRITE_BYTE fireresistance 90
	WRITE_BYTE coldresistance 90
	WRITE_BYTE elecresistance 90
	WRITE_BYTE acidresistance 90
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magicresistance 25
	WRITE_BYTE magicfireresistance 90
	WRITE_BYTE magiccoldresistance 90
	REPLACE_CRE_ITEM ~MEJELLOC~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=90 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24128) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jellspa.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 19
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE slashingresistance 25
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE attacksperround 7 //1.5
	WRITE_BYTE levelfirstclass 16
	REPLACE_CRE_ITEM ~MEJELLFS~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24129) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jellygr.cre~ ~override~ ~jellygr2.cre~ ~override~
	WRITE_LONG killxp 700
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE strength 17
	WRITE_BYTE attacksperround 2
	REPLACE_CRE_ITEM ~MEJELLGR~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24130) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~jemby.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE intelligence 19
	WRITE_BYTE levelfirstclass 8
	WRITE_ASCII racescript ~mejemby~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (2) //Burning Hands
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (4) //Magic Missile
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (1) //Melf's Acid Arrow
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (1) //Agannazar's Scorcher
	ADD_MEMORIZED_SPELL ~spwi224~ #1 ~wizard~ (1) //Glitterdust
	ADD_MEMORIZED_SPELL ~mems402~ #2 ~wizard~ (3) //Fireball
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1) //Shadow Door
	ADD_MEMORIZED_SPELL ~mewi654~ #5 ~wizard~ (1) //Spellshaping: Fireball
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI654~ ~%mewi655%~
	REPLACE_CRE_ITEM ~clck10~ #0 #0 #0 ~NONE~ ~ARMOR~ //Robe of Fire Resistance
	ADD_CRE_ITEM ~scrlal~ #1 #0 #0 ~IDENTIFIED~ ~INV5~ //Sunfire

COPY_EXISTING ~jenkal.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 12
	WRITE_BYTE fireresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 99
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spcl916~ #0 ~innate~ (1) //Assassination
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~LEAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SW1H78~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~MESHLD96~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~mekobrep~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=1 END

COPY_EXISTING ~jondal.cre~ ~override~
	WRITE_ASCII classscript ~mejondal~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (1)

COPY_EXISTING ~kahrk.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 146
	WRITE_SHORT maxhp 146
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 21
	WRITE_BYTE charisma 14
	WRITE_BYTE thac0 240 //-16
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~shoutdlg~ #8
	WRITE_ASCII racescript ~mekahrk~ #8
	WRITE_ASCII generalscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 5
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (10)
	ADD_MEMORIZED_SPELL ~spwi414~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi602~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi708~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi915~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~mesw1h95~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END

COPY_EXISTING ~kaldran.cre~ ~override~
	SAY NAME1 @18033
	SAY NAME2 @18033
	WRITE_LONG killxp 8000
	WRITE_LONG animation slotbearpolarlargedecimal
	WRITE_SHORT currenthp 304
	WRITE_SHORT maxhp 304
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE magicfireresistance 206 //-50%
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 18
//	WRITE_ASCII overridescript ~mekaldra~ #8
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV6~
	REPLACE_CRE_ITEM ~mekaldra~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~mewolfwi.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR projectile=idpro25 END

COPY_EXISTING ~karlat.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 46
	WRITE_SHORT maxhp 46
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~mekarlat~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mepr451~ #3 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr451~ ~%mepr451%~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=3 END

COPY_EXISTING ~keeper.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 400
	WRITE_SHORT maxhp 400
	WRITE_SHORT naturalac 65524 //-12
	WRITE_SHORT effectiveac 65524 //-12
	WRITE_BYTE thac0 241 //-15
	WRITE_BYTE attacksperround 3
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE fireresistance 0
	WRITE_BYTE coldresistance 0
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 0
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 25
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 25
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 0
	WRITE_ASCII classscript ~mekeeper~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~MEKEEPER~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END

COPY_EXISTING ~keldda.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 340
	WRITE_SHORT maxhp 340
	WRITE_BYTE strength 18
	WRITE_BYTE wisdom 25
	WRITE_BYTE pickpockets 40
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mekeldda~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~hamm13~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spcl741~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~sppr213~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr313~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr513~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr607~ #5 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr735~ #6 ~priest~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~kestor.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 0
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYDART 5
	REMOVE_CRE_ITEM ~DART01~ ~DART03~
	ADD_CRE_ITEM ~MEDART98~ #900 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	ADD_CRE_ITEM ~SHLD17~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~MEDART98~ #20 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~POTN23~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_MEMORIZED_SPELL ~meco034~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisualrange target=1 timing=9 parameter1=15 END

COPY_EXISTING ~kieres.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 127
	WRITE_SHORT maxhp 127
	WRITE_BYTE strength 25
	WRITE_BYTE thac0 2
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 19
	WRITE_ASCII racescript ~mekieres~ #8
	WRITE_ASCII dialogfile ~mekieres~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=36 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=iftookdamage STR_VAR resource=~meininvs~ END

COPY_EXISTING ~king.cre~ ~override~
	WRITE_LONG killxp 7500
	WRITE_SHORT currenthp 180
	WRITE_SHORT maxhp 180
	WRITE_BYTE strength 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meking~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REMOVE_CRE_ITEM ~sw2h07~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV8~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi609~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi915~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~kirian.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 21
	WRITE_BYTE thac0 7
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 14
	WRITE_BYTE levelsecondclass 14
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~mekirian~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~MEWI155~ #0 ~wizard~ (5)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI155~ ~%mewi155%~
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEWI567~ #4 ~wizard~ (1)
//	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI567~ ~%mewi758%~
	ADD_MEMORIZED_SPELL ~spwi804~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi920~ #8 ~wizard~ (1)
	ADD_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~clck11~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~METIMELG~ effsource=~METIMELG~ END

COPY_EXISTING ~kirinh.cre~ ~override~
	SAY INITIAL_MEETING #6026
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 200
	WRITE_SHORT maxhp 200
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 21
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE elecresistance 50
	WRITE_BYTE magicresistance 20
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE class 160 //Tanar'ri
	WRITE_BYTE thac0 4
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mekirinh~ #8
	WRITE_ASCII generalscript ~initdlg~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~STAF07~
	REPLACE_CRE_ITEM ~B3-18M3~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~RING34~ #0 #0 #0 ~NONE~ ~BELT~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV8~

COPY_EXISTING ~knight.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 25
	WRITE_BYTE constitution 18
	WRITE_BYTE fireresistance 206 //-50
	WRITE_BYTE coldresistance 206
	WRITE_BYTE elecresistance 206
	WRITE_BYTE acidresistance 206
	WRITE_BYTE magicfireresistance 206
	WRITE_BYTE magiccoldresistance 206
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 1
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~kingdead~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	REMOVE_CRE_ITEM ~mage06~ ~sw1h04~
	REPLACE_CRE_ITEM ~SW1H05~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 50) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meinrtel~ END

COPY_EXISTING ~knightsk.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 118
	WRITE_SHORT maxhp 118
	WRITE_BYTE magicresistance 50
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE missileresistance 90
	WRITE_BYTE strength 20
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~MAGE03~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MESPER06~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV8~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV9~
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~meande11~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING ~knott.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 5
	REPLACE_CRE_ITEM ~helm12~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~xbow02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~bolt06~ #40 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	ADD_CRE_ITEM ~mebolt98~ #5 #0 #0 ~NONE~ ~QUIVER2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END

COPY_EXISTING ~kobbeg1.cre~ ~override~
	SAY NAME1 @18290
	SAY NAME2 @18290
	WRITE_LONG killxp 120
	WRITE_SHORT currenthp 18
	WRITE_SHORT maxhp 18
	WRITE_BYTE piercingresistance 100
	WRITE_BYTE missileresistance 90
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~sppr519~ #4 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~sppr519~ END
	IF_EXISTS

COPY_EXISTING ~kobbeg2.cre~ ~override~
	SAY NAME1 @18291
	SAY NAME2 @18291
	WRITE_LONG killxp 120
	WRITE_SHORT currenthp 14
	WRITE_SHORT maxhp 14
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=10 END
	IF_EXISTS

COPY_EXISTING ~kobbeg3.cre~ ~override~
	SAY NAME1 @18292
	SAY NAME2 @18292
	WRITE_LONG killxp 120
	WRITE_SHORT currenthp 21
	WRITE_SHORT maxhp 21
	WRITE_ASCII classscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~ghoult~ #999 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~kobcomm.cre~ ~override~
	SAY NAME1 @18034
	SAY NAME2 @18034
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 7
	WRITE_SHORT maxhp 7
	WRITE_BYTE fireresistance 99
	WRITE_BYTE magicfireresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE coldresistance 157 //-99%
	WRITE_BYTE magiccoldresistance 157 //-99%
	REPLACE_CRE_ITEM ~arow06~ #1 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~arowkc~ #80 #0 #0 ~NONE~ ~QUIVER2~

COPY_EXISTING ~kobola_a.cre~ ~override~
	SAY NAME1 @18035
	SAY NAME2 @18035
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 15
	WRITE_SHORT maxhp 15
	WRITE_BYTE dexterity 18
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi513~ #4 ~wizard~ (1)

COPY_EXISTING ~kobola_b.cre~ ~override~
	SAY NAME1 @18036
	SAY NAME2 @18036
	WRITE_LONG killxp 180
	WRITE_SHORT currenthp 12
	WRITE_SHORT maxhp 12
	WRITE_BYTE thac0 18
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi316~ #2 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisualrange target=1 timing=9 parameter1=15 END

COPY_EXISTING ~kobola_c.cre~ ~override~ ~kobcap01.cre~ ~override~
	SAY NAME1 @18037
	SAY NAME2 @18037
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 12
	WRITE_SHORT maxhp 12
	WRITE_BYTE thac0 236 //-20
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 3
	REPLACE_CRE_ITEM ~bow01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~sw1h07~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	REPLACE_CRE_ITEM ~arow01~ #80 #0 #0 ~IDENTIFIED~ ~QUIVER1~ EQUIP
	IF_EXISTS

COPY_EXISTING ~kobola_d.cre~ ~override~
	SAY NAME1 @18038
	SAY NAME2 @18038
	WRITE_LONG killxp 120
	WRITE_SHORT currenthp 9
	WRITE_SHORT maxhp 9
	WRITE_BYTE dexterity 17
	WRITE_BYTE fireresistance 75
	WRITE_BYTE magicfireresistance 75
	WRITE_BYTE thac0 19
	WRITE_ASCII classscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~arowkc~ #40 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	ADD_CRE_ITEM ~arow08~ #2 #0 #0 ~NONE~ ~INV6~

COPY_EXISTING ~kobola_e.cre~ ~override~
	SAY NAME1 @18039
	SAY NAME2 @18039
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 9
	WRITE_SHORT maxhp 9
	WRITE_BYTE dexterity 25
	WRITE_BYTE thac0 19
	WRITE_ASCII classscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco045~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~arow07~ #80 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~QUIVER1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=blur target=1 timing=9 END

COPY_EXISTING ~kobold.cre~ ~override~
	SAY NAME1 @18040
	SAY NAME2 @18040

COPY_EXISTING ~kobold02.cre~ ~override~
	SAY NAME1 @18041
	SAY NAME2 @18041
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 3
	WRITE_SHORT maxhp 3
	WRITE_BYTE strength 17
	WRITE_BYTE thac0 16
	WRITE_BYTE attacksperround 5
	WRITE_BYTE fireresistance 99
	WRITE_BYTE coldresistance 99
	WRITE_BYTE elecresistance 99
	WRITE_BYTE acidresistance 99
	WRITE_BYTE slashingresistance 99
	WRITE_BYTE piercingresistance 99
	WRITE_BYTE crushingresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 99
	WRITE_BYTE magiccoldresistance 99
	WRITE_BYTE levelfirstclass 3
	REPLACE_CRE_ITEM ~REGHP2R~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=99 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meinfast~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END

COPY_EXISTING ~kobold03.cre~ ~override~
	SAY NAME1 @18042
	SAY NAME2 @18042
	WRITE_LONG killxp 720
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_BYTE strength 17
	WRITE_BYTE fireresistance 120
	WRITE_BYTE elecresistance 120
	WRITE_BYTE slashingresistance 90
	WRITE_BYTE piercingresistance 90
	WRITE_BYTE crushingresistance 90
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 120
	WRITE_BYTE levelfirstclass 4
	WRITE_ASCII classscript ~mekobl03~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END

COPY_EXISTING ~kobold2.cre~ ~override~
	SAY NAME1 @18043
	SAY NAME2 @18043
	WRITE_LONG killxp 270
	WRITE_SHORT currenthp 24
	WRITE_SHORT maxhp 24
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 2
	WRITE_BYTE strength 17
	WRITE_BYTE slashingresistance 99
	WRITE_BYTE piercingresistance 157 //-99
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~sppr603~ #5 ~priest~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~kobold3.cre~ ~override~
	SAY NAME1 @18044
	SAY NAME2 @18044
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_BYTE thac0 15
	WRITE_BYTE dexterity 17
	WRITE_BYTE savevsdeath 1
	WRITE_ASCII classscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~spcl423~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~kobold4.cre~ ~override~
	SAY NAME1 @18045
	SAY NAME2 @18045
	WRITE_LONG killxp 630
	WRITE_SHORT currenthp 7
	WRITE_SHORT maxhp 7
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 95
	WRITE_BYTE elecresistance 95
	WRITE_BYTE acidresistance 95
	WRITE_BYTE slashingresistance 80
	WRITE_BYTE piercingresistance 80
	WRITE_BYTE crushingresistance 80
	WRITE_BYTE missileresistance 100
	WRITE_BYTE magicresistance 25
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 95
	WRITE_BYTE levelfirstclass 7
	WRITE_ASCII classscript ~mekobl4~ #8
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=15 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=4 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~mexplo01~ END

COPY_EXISTING ~kobold5.cre~ ~override~
	SAY NAME1 @18046
	SAY NAME2 @18046
	WRITE_LONG killxp 270
	WRITE_SHORT currenthp 9
	WRITE_SHORT maxhp 9
	WRITE_SHORT naturalac 2
	WRITE_SHORT effectiveac 2
	WRITE_BYTE thac0 17
	WRITE_BYTE fireresistance 70
	WRITE_BYTE coldresistance 70
	WRITE_BYTE elecresistance 70
	WRITE_BYTE acidresistance 70
	WRITE_BYTE slashingresistance 70
	WRITE_BYTE piercingresistance 70
	WRITE_BYTE crushingresistance 70
	WRITE_BYTE missileresistance 70
	WRITE_BYTE magicfireresistance 90
	WRITE_BYTE magiccoldresistance 90
	WRITE_ASCII classscript ~mekobl5~ #8
	ADD_MEMORIZED_SPELL ~spin788~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spwi701~ #6 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=90 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 5) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=1 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~kobold6.cre~ ~override~
	SAY NAME1 @18047
	SAY NAME2 @18047
	WRITE_LONG killxp 180
	WRITE_SHORT currenthp 24
	WRITE_SHORT maxhp 24
	WRITE_BYTE thac0 14
	WRITE_BYTE acidresistance 100
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi522~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi614~ #5 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~kobold7.cre~ ~override~
	SAY NAME1 @18048
	SAY NAME2 @18048
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 2
	WRITE_SHORT maxhp 2
	WRITE_SHORT naturalac 4
	WRITE_SHORT effectiveac 4
	WRITE_BYTE strength 18
	WRITE_BYTE thac0 15
	WRITE_BYTE elecresistance 120
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (1)
	REPLACE_CRE_ITEM ~MEMINORG~ #0 #0 #0 ~NONE~ ~AMULET~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 6) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~sppr113~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END

COPY_EXISTING ~kobold8.cre~ ~override~
	SAY NAME1 @18049
	SAY NAME2 @18049
	WRITE_LONG killxp 240
	WRITE_SHORT currenthp 10
	WRITE_SHORT maxhp 10
	WRITE_SHORT naturalac 11
	WRITE_SHORT effectiveac 11
	WRITE_BYTE strength 19
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 2
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=4 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~kobold9.cre~ ~override~
	SAY NAME1 @18050
	SAY NAME2 @18050
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_SHORT naturalac 1
	WRITE_SHORT effectiveac 1
	WRITE_BYTE dexterity 18
	WRITE_BYTE magicresistance 100
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi807~ #7 ~wizard~ (5)
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=12 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 5) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromcreaturetype target=1 timing=9 parameter1=idsgender parameter2=gendersummoneddemon END

COPY_EXISTING ~kobold10.cre~ ~override~
	SAY NAME1 @18051
	SAY NAME2 @18051
	WRITE_LONG killxp 180
	WRITE_SHORT currenthp 16
	WRITE_SHORT maxhp 16
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 77
	WRITE_BYTE thac0 11
	WRITE_BYTE attacksperround 3
	WRITE_BYTE coldresistance 120
	WRITE_BYTE magiccoldresistance 120
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresa~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresb~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi403d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycoldresistance target=1 timing=1 parameter1=50 resist_dispel=3 END

COPY_EXISTING ~kobold11.cre~ ~override~
	SAY NAME1 @18052
	SAY NAME2 @18052
	WRITE_LONG killxp 150
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_SHORT naturalac 16
	WRITE_SHORT effectiveac 16
	WRITE_BYTE thac0 19
	WRITE_BYTE fireresistance 75
	WRITE_BYTE coldresistance 75
	WRITE_BYTE elecresistance 75
	WRITE_BYTE acidresistance 75
	WRITE_BYTE fireresistance 75
	WRITE_BYTE magiccoldresistance 75
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~sppr717~ #6 ~priest~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=(0 - 3) END

COPY_EXISTING ~kobold12.cre~ ~override~
	SAY NAME1 @18053
	SAY NAME2 @18053
	WRITE_LONG killxp 240
	WRITE_SHORT currenthp 3
	WRITE_SHORT maxhp 3
	WRITE_SHORT naturalac 15
	WRITE_SHORT effectiveac 15
	WRITE_BYTE fireresistance 99
	WRITE_BYTE coldresistance 99
	WRITE_BYTE elecresistance 99
	WRITE_BYTE acidresistance 99
	WRITE_BYTE slashingresistance 99
	WRITE_BYTE piercingresistance 99
	WRITE_BYTE crushingresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 99
	WRITE_BYTE magiccoldresistance 99
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 4
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 parameter2=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meinfas2~ END

COPY_EXISTING ~kobold_a.cre~ ~override~
	SAY NAME1 @18054
	SAY NAME2 @18054
	WRITE_LONG killxp 120
	WRITE_SHORT currenthp 11
	WRITE_SHORT maxhp 11
	WRITE_SHORT naturalac 4
	WRITE_SHORT effectiveac 4
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 17
	WRITE_BYTE attacksperround 2
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi918~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~B1-6~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=1 END

COPY_EXISTING ~kobold_b.cre~ ~override~
	SAY NAME1 @18055
	SAY NAME2 @18055
	WRITE_LONG killxp 270
	WRITE_SHORT currenthp 15
	WRITE_SHORT maxhp 15
	WRITE_SHORT naturalac 12
	WRITE_SHORT effectiveac 12
	WRITE_BYTE strength 17
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 50
	WRITE_BYTE thac0 17
	WRITE_BYTE attacksperround 2
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi221~ #1 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=99 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisionrange target=1 timing=9 parameter1=15 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=50 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meinfast~ END

COPY_EXISTING ~kobold_c.cre~ ~override~
	SAY NAME1 @18056
	SAY NAME2 @18056
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 8
	WRITE_SHORT maxhp 8
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE coldresistance 120
	WRITE_BYTE magiccoldresistance 120
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (1)
	REPLACE_CRE_ITEM ~MAGEBRAC~ #0 #0 #0 ~NONE~ ~GLOVES~
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~spwi503~ END

COPY_EXISTING ~kobold_d.cre~ ~override~
	SAY NAME1 @18057
	SAY NAME2 @18057
	WRITE_LONG killxp 150
	WRITE_SHORT currenthp 13
	WRITE_SHORT maxhp 13
	WRITE_SHORT naturalac 6
	WRITE_SHORT effectiveac 6
	WRITE_BYTE thac0 18
	WRITE_BYTE elecresistance 75
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~sppr507~ #4 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END

COPY_EXISTING ~kobold_e.cre~ ~override~
	SAY NAME1 @18058
	SAY NAME2 @18058
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 3
	WRITE_SHORT maxhp 3
	WRITE_SHORT naturalac 12
	WRITE_SHORT effectiveac 12
	WRITE_BYTE thac0 12
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~spwi708~ #6 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~kobolda.cre~ ~override~
	SAY NAME1 @18059
	SAY NAME2 @18059

COPY_EXISTING ~koboldab.cre~ ~override~
	SAY NAME1 @18060
	SAY NAME2 @18060
	WRITE_LONG killxp 120
	WRITE_SHORT currenthp 8
	WRITE_SHORT maxhp 8
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~mekoblab~ #8
	WRITE_ASCII classscript ~attkally~ #8
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=3 parameter2=1 END

COPY_EXISTING ~koboldal.cre~ ~override~
	SAY NAME1 @18061
	SAY NAME2 @18061
	WRITE_LONG killxp 90
	WRITE_SHORT currenthp 7
	WRITE_SHORT maxhp 7
	WRITE_BYTE fireresistance 157 //-99%
	WRITE_BYTE magicfireresistance 157 //-99%
	WRITE_BYTE missileresistance 99
	WRITE_BYTE coldresistance 99
	WRITE_BYTE magiccoldresistance 99
	REPLACE_CRE_ITEM ~mearow25~ #1 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~arow09~ #80 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~arow09~ #5 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING ~koboldfl.cre~ ~override~
	SAY NAME1 @18062
	SAY NAME2 @18062
	WRITE_LONG killxp 240
	WRITE_SHORT currenthp 12
	WRITE_SHORT maxhp 12
	WRITE_BYTE thac0 12
	WRITE_ASCII classscript ~mekobspl~ #8
	ADD_MEMORIZED_SPELL ~mems102~ #5 ~wizard~ (3)
//	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

ACTION_IF NOT MOD_IS_INSTALLED ~Korax_NPC.tp2~ ~0~ BEGIN

COPY_EXISTING ~korax.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 64
	WRITE_SHORT maxhp 64
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 85
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=3 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

END

COPY_EXISTING ~krumm.cre~ ~override~
	SAY DAMAGE #12588
	SAY DYING #12589
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 18
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE coldresistance 206
	WRITE_BYTE elecresistance 206
	WRITE_BYTE acidresistance 206
	WRITE_BYTE magicfireresistance 206
	WRITE_BYTE magiccoldresistance 206
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~helm06~ #0 #0 #0 ~NONE~ ~HELMET~ //Helmet of Charm Protection
	REPLACE_CRE_ITEM ~memirror~ #0 #0 #0 ~UNDROPPABLE~ ~LRING~ //Physical mirror ring
	REPLACE_CRE_ITEM ~leat10~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~ //Hide Armor
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 50) END

COPY_EXISTING ~kryll.cre~ ~override~
	WRITE_LONG killxp 3500
	WRITE_SHORT currenthp 92
	WRITE_SHORT maxhp 92
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~mekryll~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi313~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi409~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi602~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi609~ #5 ~wizard~ (1)
	REPLACE_CRE_ITEM ~clck09~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING_REGEXP ~kryskel.*.cre~ ~override~
	WRITE_LONG killxp 650
	WRITE_SHORT currenthp 20
	WRITE_SHORT maxhp 20
	WRITE_BYTE thac0 11
	WRITE_BYTE attacksperround 4
	REPLACE_CRE_ITEM ~mekryske~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END

COPY_EXISTING ~krysti.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 3
	WRITE_BYTE class classmagethief
	WRITE_BYTE levelfirstclass 30
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~mekrysti~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi502~ #4 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (2)
	REPLACE_CRE_ITEM ~merobe61~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~dagg04~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~book05~ #0 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book06~ #0 #0 #0 ~NONE~ ~INV8~
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 parameter2=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 STR_VAR resource=~spwi502~ END

COPY_EXISTING ~kysus.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE dexterity 21
	WRITE_BYTE intelligence 21
	WRITE_ASCII classscript ~meircall~ #8
	WRITE_ASCII racescript ~mekysus~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi115~ #0 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi118~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi406~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi415~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi506~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi616~ #5 ~wizard~ (3)
	ADD_CRE_ITEM ~MAGE03~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~lakada.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_SHORT kit kitwizardslayer
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 15
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~ENEBLADE~ #200 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SHLD02~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl132~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl132a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~spcl132~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~spcl132a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~spcl909a~ END

COPY_EXISTING ~lamalh.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE wisdom 18
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~melamalh~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr304~ #2 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr706~ #3 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr718~ #3 ~priest~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 1
	REPLACE_CRE_ITEM ~HAMM03~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull06~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush04~ END

COPY_EXISTING ~landri.cre~ ~override~
	SAY INITIAL_MEETING #11640
	SAY SELECT_COMMON1 #11639
	SAY SELECT_COMMON2 #11639
	SAY DAMAGE #11641
	SAY DYING #11642

COPY_EXISTING ~larria.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 98
	WRITE_SHORT maxhp 98
	WRITE_BYTE intelligence 25
	WRITE_BYTE magicresistance 100
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 14
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~melarria~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromprojectile target=1 timing=9 parameter2=(swave - 1) END

COPY_EXISTING ~laryss.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE wisdom 20
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 14
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~melaryss~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr103~ #0 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr315~ #2 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr515~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr612~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr735~ #6 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mepr756~ #6 ~priest~ (1)
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=normalhaste END

COPY_EXISTING ~larze.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 240
	WRITE_SHORT maxhp 240
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 5
	WRITE_BYTE thac0 250 //-6
	WRITE_BYTE attacksperround 1
	WRITE_BYTE magicresistance 100
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~melarze~ #8
	ADD_CRE_ITEM ~POTN14~ #1 #0 #0 ~IDENTIFIED~ ~QITEM2~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV4~
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setmeleeeffect target=1 timing=9 STR_VAR resource=~mepush03~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter2=8 STR_VAR resource=~mems168~ END

COPY_EXISTING ~lasala.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 42
	WRITE_SHORT maxhp 42
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 14
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~melasala~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi423~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEWI560~ #4 ~wizard~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI560~ ~%mewi560%~
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi718~ #6 ~wizard~ (1)
	REPLACE_CRE_ITEM ~clck11~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV5~

COPY_EXISTING ~laskal.cre~ ~override~
	SAY NAME1 @18307
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 86
	WRITE_SHORT maxhp 86
	WRITE_BYTE class classdruid
	WRITE_SHORT kit kitavenger
	WRITE_BYTE levelfirstclass 13
	WRITE_BYTE dexterity 24
	WRITE_BYTE wisdom 22
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~melaskal~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spdr101~ #0 ~priest~ (10)
	ADD_MEMORIZED_SPELL ~sppr217~ #1 ~priest~ (8)
	ADD_MEMORIZED_SPELL ~spdr301~ #2 ~priest~ (6)
	ADD_MEMORIZED_SPELL ~mepr351~ #2 ~priest~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr351~ ~%mepr351%~
	ADD_MEMORIZED_SPELL ~sppr426~ #3 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr502~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~meps506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mepr652~ #5 ~priest~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr652~ ~%mepr652%~
	REPLACE_CRE_ITEM ~LEAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~STAF01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV5~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=priest END

COPY_EXISTING ~laurel.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 117
	WRITE_SHORT maxhp 117
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 19
	WRITE_BYTE thac0 2
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~melaurel~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII dialogfile ~melaurel~ #8
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~SW1H02~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV2~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_MEMORIZED_SPELL ~meco093~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=maze END

COPY_EXISTING_REGEXP ~leaggu.*.cre~ ~override~
	WRITE_LONG killxp 500
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 1
	REPLACE_CRE_ITEM ~XBOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~BOLT01~ #400 #0 #0 ~IDENTIFIED~ ~QUIVER1~
	REMOVE_CRE_ITEM ~BOW05~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=improvedhaste END

COPY_EXISTING ~lendar.cre~ ~override~
	WRITE_LONG killxp 3500
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE constitution 16
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE coldresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII classscript ~melendar~ #8
	REPLACE_CRE_ITEM ~CLCK14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MAGE03~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~MERING73~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~MERGCURE~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~SCRL2D~ #0 #0 #0 ~NONE~ ~QITEM3~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi414~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~mems098~ #4 ~wizard~ (5)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~liia.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 25
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 21
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~meliia~ #8
	WRITE_ASCII racescript ~shout~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)

COPY_EXISTING ~lindin.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 96
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~shout~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~melindin~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~MESW1H30~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV1~
//	ADD_MEMORIZED_SPELL ~mems094~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=0 END

COPY_EXISTING ~lovem.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 101
	WRITE_SHORT maxhp 101
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE class classfightermage
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 19
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicresistance 25
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 0
	WRITE_BYTE slashingresistance 0
	WRITE_BYTE piercingresistance 0
	WRITE_BYTE crushingresistance 0
	WRITE_BYTE missileresistance 0
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~reddeath~ #8
	WRITE_ASCII racescript ~melovem~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~spec02~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~sw1h02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~misc1a~ #0 #0 #0 ~IDENTIFIED~ ~QITEM2~
	REPLACE_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=3 END

COPY_EXISTING ~lussel.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 3
	WRITE_SHORT maxhp 3
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 1
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII defaultscript ~wdasight~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mexplo02~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=50 END

COPY_EXISTING ~malkax.cre~ ~override~
	WRITE_LONG killxp 1250
	WRITE_SHORT currenthp 34
	WRITE_SHORT maxhp 34
	WRITE_BYTE intelligence 17
	WRITE_BYTE thac0 10
	WRITE_BYTE slashingresistance 59
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 59
	WRITE_BYTE missileresistance 59
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~memalkax~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi616~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi716~ #6 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter2=20 END

COPY_EXISTING ~maneir.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 89
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~memaneir~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi915~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYDART 2
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~MEDART80~ #40 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull06~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush04~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END

COPY_EXISTING ~marcel.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE dexterity 23
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 24
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~memarcel~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~mageamul~
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~scrl8p~ #0 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=5 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING ~marek.cre~ ~override~ ~marek1.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 140
	WRITE_SHORT maxhp 140
	WRITE_BYTE class classmagethief
	WRITE_SHORT naturalac 65524 //-12
	WRITE_SHORT effectiveac 65524 //-12
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~memarek~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REMOVE_CRE_ITEM ~arow01~ ~bow08~
	REPLACE_CRE_ITEM ~meshrt02~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~misc75~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi920~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems091~ #8 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mepull03~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl423~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~marl.cre~ ~override~
	WRITE_LONG killxp 1600
	WRITE_SHORT currenthp 54
	WRITE_SHORT maxhp 54
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 17
	WRITE_BYTE thac0 11
	WRITE_BYTE attacksperround 3
	WRITE_BYTE magicresistance 100
	WRITE_BYTE missileresistance 100
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyfistdamage target=1 timing=9 parameter1=15 parameter2=0 END

COPY_EXISTING ~meakin.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 76
	WRITE_SHORT maxhp 76
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 11
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 2
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 11
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~memeakin~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco128~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~mesw1h84~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~mesw1h84~ #0 #0 #0 ~NONE~ ~SHIELD~

COPY_EXISTING ~meiala.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE thac0 0
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~memeiala~ #8
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (20)
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~meilum.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 153
	WRITE_SHORT maxhp 153
	WRITE_SHORT kit kitkensai
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 2
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 246 //-10
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII racescript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco046~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 5
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~sw1h44~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END

COPY_EXISTING ~mick.cre~ ~override~
	WRITE_ASCII overridescript ~mech3act~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdrunsgt~ #8

COPY_EXISTING ~molkar.cre~ ~override~
	WRITE_LONG killxp 2800
	WRITE_SHORT currenthp 111
	WRITE_SHORT maxhp 111
	WRITE_SHORT kit kitbarbarian
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 14
	WRITE_BYTE constitution 23
	WRITE_BYTE charisma 16
	WRITE_BYTE thac0 11
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~molkar~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spcl152~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~mage01~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~shld29~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END

COPY_EXISTING_REGEXP ~monktu.*.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=9 parameter1=1 parameter2=2 STR_VAR resource=~merwarp~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24032) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~moorlock.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII generalscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (4)
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END

COPY_EXISTING ~morvin.cre~ ~override~
	WRITE_LONG killxp 1800
	WRITE_SHORT currenthp 72
	WRITE_SHORT maxhp 72
	WRITE_SHORT kit kitdwarvendefender
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 87
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 19
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spdwd02~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 4
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~mage01~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~hamm04~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyslashingresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypiercingresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycrushingresistance target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissileresistance target=1 timing=9 parameter1=5 END

COPY_EXISTING ~mtbe10.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24093) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~mtowbas.*.cre~ ~override~ ~mtownast.cre~ ~override~ ~mtowfr_.*.cre~ ~override~ ~ftowfrsc.cre~ ~override~ ~mtwslim.cre~ ~override~ ~attslim.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24090) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~mulahe.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 72
	WRITE_SHORT maxhp 72
	WRITE_BYTE strength 19
	WRITE_BYTE constitution 19
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevspolymorph 19
	WRITE_BYTE thac0 13
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~memulahe~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~helm19~ #0 #0 #0 ~NONE~ ~HELMET~
	ADD_CRE_ITEM ~chan04~ #1 #0 #0 ~NONE~ ~ARMOR~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr107~ #0 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mems009~ #2 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=sanctuary target=1 timing=9 END

COPY_EXISTING ~mutami.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 43
	WRITE_SHORT maxhp 43
	WRITE_BYTE dexterity 18
	WRITE_BYTE intelligence 20
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~memutami~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi415~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi616~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems121~ #0 ~innate~ (1)
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~naaman.cre~ ~override~
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_SHORT animation 25088 //Mage male human
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 24
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 15
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 18
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~menaaman~ #8
	WRITE_ASCII generalscript ~leavech7~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	WRITE_ASCII scriptname ~NAAMAN~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (7)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi711~ #6 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi717~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~CLCK10~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~AMUL16~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~nadari.cre~ ~override~
	REMOVE_CRE_ITEM ~BOOT02~
	ADD_CRE_ITEM ~MECLCK90~ #5 #0 #0 ~NONE~ ~INV5~

COPY_EXISTING ~nader.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 66
	WRITE_SHORT maxhp 66
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 14
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~megreteg~ #8
	WRITE_ASCII racescript ~menader~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco211~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~mems121~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 1
	REPLACE_CRE_ITEM ~xbow05~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~bolt03~ #30 #0 #0 ~NONE~ ~QUIVER1~ EQUIP

COPY_EXISTING ~narcil.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE constitution 20
	WRITE_BYTE acidresistance 100
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII racescript ~menarcil~ #8
	REPLACE_CRE_ITEM ~MEROBE60~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV8~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems020~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mems013~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END

COPY_EXISTING ~narlen.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE dexterity 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 13
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~menarlen~ #8
	WRITE_ASCII racescript ~narlen~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~meco211~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~UNSTEALABLE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=teleportfield END

COPY_EXISTING ~natash.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 44
	WRITE_SHORT maxhp 44
	WRITE_SHORT kit kitinvoker
	WRITE_BYTE levelfirstclass 14
	WRITE_ASCII classscript ~menatash~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEWI354~ #2 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI354~ ~%mewi354%~
	ADD_MEMORIZED_SPELL ~spwi418~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi524~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEWI760~ #6 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI760~ ~%mewi760%~
	REPLACE_CRE_ITEM ~CLCK10~ #0 #0 #0 ~NONE~ ~ARMOR~
//	ADD_CRE_ITEM ~MAGE03~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~RING40~ #0 #0 #0 ~NONE~ ~RRING~
//	ADD_CRE_ITEM ~MERGCURE~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~MEWI354X~ #1 #0 #0 ~IDENTIFIED~ ~QITEM3~
	ADD_CRE_ITEM ~SCRL5T~ #1 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCSHRO~ #1 #0 #0 ~IDENTIFIED~ ~INV2~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV7~

COPY_EXISTING_REGEXP ~neadoy.cre~ ~override~ ~neekando.cre~ ~override~ ~nemagreb.cre~ ~override~ ~nemeklin.cre~ ~override~ ~nethay01.cre~ ~override~ ~nethbarb.cre~ ~override~ ~rs.*.cre~ ~override~ ~dorotea.cre~ ~override~ ~senjack.cre~ ~override~ ~kryll.cre~ ~override~ ~simmeon.cre~ ~override~
	WRITE_LONG HURT 0xFFFFFFFF

COPY_EXISTING ~neadoy.cre~ ~override~ ~nemagreb.cre~ ~override~
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE slashingresistance 100
	WRITE_BYTE piercingresistance 100
	WRITE_BYTE crushingresistance 100
	WRITE_BYTE missileresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END

COPY_EXISTING ~neekando.cre~ ~override~
	WRITE_LONG BATTLE_CRY1 0xFFFFFFFF
	WRITE_LONG killxp 3900
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE fireresistance 90
	WRITE_BYTE coldresistance 90
	WRITE_BYTE elecresistance 90
	WRITE_BYTE acidresistance 90
	WRITE_BYTE slashingresistance 90
	WRITE_BYTE piercingresistance 90
	WRITE_BYTE crushingresistance 90
	WRITE_BYTE missileresistance 90
	WRITE_BYTE magicfireresistance 90
	WRITE_BYTE magiccoldresistance 90
	WRITE_ASCII classscript ~meneekan~ #8
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (12)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (10)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (8)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (2)
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~dagg01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
//	REPLACE_CRE_ITEM ~mescrl9b~ #0 #0 #0 ~IDENTIFIED~ ~INV4~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=95 END

COPY_EXISTING_REGEXP ~negob.*.cre~ ~override~ ~neguar.*.cre~ ~override~ ~rsgob.cre~ ~override~ ~k9rsgob.cre~ ~override~
	WRITE_LONG killxp 450
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_SHORT naturalac 6
	WRITE_SHORT effectiveac 6
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 23
	WRITE_BYTE constitution 10
	WRITE_BYTE thac0 10
	WRITE_BYTE fireresistance 99
	WRITE_BYTE coldresistance 99
	WRITE_BYTE elecresistance 99
	WRITE_BYTE acidresistance 99
	WRITE_BYTE slashingresistance 99
	WRITE_BYTE piercingresistance 99
	WRITE_BYTE crushingresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 99
	WRITE_BYTE magiccoldresistance 99
	WRITE_BYTE levelfirstclass 4
	WRITE_ASCII classscript ~menegob~ #8
	WRITE_ASCII generalscript ~negoblin~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=99 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=99 END
	IF_EXISTS

COPY_EXISTING ~neira.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 81
	WRITE_SHORT maxhp 81
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 21
	WRITE_BYTE thac0 16
	WRITE_BYTE class classclericthief
	WRITE_BYTE levelfirstclass 7
	WRITE_BYTE levelsecondclass 7
	WRITE_ASCII racescript ~meneira~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr213~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr315~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr512~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #6 ~priest~ (1)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mepr757%~
	REPLACE_CRE_ITEM ~HELM12~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~LEAT06~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END


COPY_EXISTING ~nemoose1.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~MEXPLO11~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=ifseeenemy STR_VAR resource=~MEINSWCH~ END

COPY_EXISTING ~nemphr.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 192
	WRITE_SHORT maxhp 192
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~menemphr~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi913~ #8 ~wizard~ (2)
	REPLACE_CRE_ITEM ~CLCK13~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MESCRL9V~ #1 #0 #0 ~IDENTIFIED~ ~INV8~

COPY_EXISTING ~neogre.cre~ ~override~
	WRITE_LONG killxp 1700
	WRITE_SHORT currenthp 140
	WRITE_SHORT maxhp 140
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE thac0 7
	WRITE_BYTE slashingresistance 206 //-50
	WRITE_BYTE piercingresistance 206
	WRITE_BYTE crushingresistance 206
	WRITE_BYTE missileresistance 206
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogrebe~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spcl321~ #0 ~innate~ (3)

COPY_EXISTING ~nerogdok.cre~ ~override~
	WRITE_LONG killxp 2700
	WRITE_SHORT currenthp 81
	WRITE_SHORT maxhp 81
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 98
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 15
	WRITE_BYTE thac0 12
	WRITE_BYTE fireresistance 110
	WRITE_BYTE coldresistance 110
	WRITE_BYTE elecresistance 110
	WRITE_BYTE acidresistance 110
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magicfireresistance 110
	WRITE_BYTE magiccoldresistance 110
	WRITE_BYTE class classfightercleric
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~menerogd~ #8
	WRITE_ASCII racescript ~ohfgtk01~ #8
	ADD_MEMORIZED_SPELL ~sppr203~ #1 ~priest~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 2
	REMOVE_CRE_ITEM ~BOW06~
	REPLACE_CRE_ITEM ~MEAROW94~ #1 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~AROW04~ #20 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~BOW04~ #0 #0 #0 ~NONE~ ~INV1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=priest END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=30 parameter2=bonusfire END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=30 parameter2=bonuscold END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=30 parameter2=bonuselec END
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=30 parameter2=bonusacid END

COPY_EXISTING ~nesqrl.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~MEXPLO01~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=ifseeenemy STR_VAR resource=~MEINSWCH~ END

COPY_EXISTING ~nestor.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 153
	WRITE_SHORT maxhp 153
	WRITE_SHORT kit kittrueclass
	WRITE_BYTE strength 22
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 23
	WRITE_BYTE charisma 23
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 251 //-5
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~PLAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~MEHALB98~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~BOOT01~ #0 #0 #0 ~UNSTEALABLE~ ~BOOTS~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=1 parameter2=1 END

COPY_EXISTING ~nethay01.cre~ ~override~
	SAY SELECT_COMMON1 #11106
	SAY BATTLE_CRY1 #11106
	WRITE_LONG killxp 650
	WRITE_SHORT currenthp 30
	WRITE_SHORT maxhp 30
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_ASCII classscript ~menethay~ #8
	ADD_MEMORIZED_SPELL ~spwi119~ #0 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems090~ #8 ~wizard~ (3)
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~dagg01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=99 END

COPY_EXISTING ~nethbarb.cre~ ~override~
	SAY SELECT_COMMON1 #11102
	SAY BATTLE_CRY1 #11102
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 76
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 12
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_BYTE levelfirstclass 9
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 2
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~dagg16~ #30 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~sper02~ #0 #0 #0 ~NONE~ ~WEAPON2~

COPY_EXISTING ~nethgua1.cre~ ~override~ ~nethgua2.cre~ ~override~
	SAY SELECT_COMMON1 #11096
	SAY BATTLE_CRY1 #11096
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 7
	WRITE_SHORT maxhp 7
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 18
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 1
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~seeenemy~ #8
	WRITE_ASCII generalscript ~menethgu~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi118~ #0 ~wizard~ (1)
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~

COPY_EXISTING ~neumber.cre~ ~override~
	SAY NAME1 @18063
	SAY NAME2 @18063
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 238
	WRITE_SHORT maxhp 238
	WRITE_BYTE strength 22
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 6
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE levelfirstclass 20
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~sppr411~ END

COPY_EXISTING ~nevill.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 93
	WRITE_SHORT maxhp 93
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE fireresistance 120
	WRITE_BYTE magicfireresistance 120
	WRITE_BYTE thac0 11
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 10
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	ADD_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~MEBLUN26~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meintele~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=1 parameter1=20 END

COPY_EXISTING ~niemai.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~meniemai~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi414~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco104~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi713~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (3)
	REPLACE_CRE_ITEM ~MESCRL7I~ #3 #0 #0 ~IDENTIFIED~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END

COPY_EXISTING ~nimbul.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 22
	WRITE_BYTE thac0 15
	WRITE_BYTE class classbard
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~menimbul~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi111~ #0 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi511~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi703~ #6 ~wizard~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 1
	REMOVE_CRE_ITEM ~RING21~
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MEXBOW09~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~BOLT04~ #40 #0 #0 ~NONE~ ~QUIVER1~
	ADD_CRE_ITEM ~SCCOUR~ #0 #0 #0 ~IDENTIFIED~ ~INV2~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=1 resist_dispel=3 school=5 sectype=3 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=0 timing=0 duration=0x20000000 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END


COPY_EXISTING ~nobl2.cre~ ~override~ ~nobw2.cre~ ~override~ ~nobl3.cre~ ~override~ ~nobw3.cre~ ~override~ ~samant.cre~ ~override~ ~jamie.cre~ ~override~ ~taris.cre~ ~override~
	REPLACE_CRE_ITEM ~mebootlv~ #0 #0 #0 ~NONE~ ~BOOTS~
	IF_EXISTS

COPY_EXISTING ~nobl6.cre~ ~override~
	SAY INITIAL_MEETING @18064
	SAY SELECT_COMMON1 @18064

COPY_EXISTING ~nobl12.cre~ ~override~ ~nobw5.cre~ ~override~
	WRITE_ASCII overridescript ~mech7act~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~runenemy~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtrunsgt~ #8

COPY_EXISTING ~nobl14.cre~ ~override~ ~noblba.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24091) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~nobwba.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24092) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~noober.cre~ ~override~
	WRITE_LONG killxp 20000
	WRITE_SHORT currenthp 600
	WRITE_SHORT maxhp 600
	WRITE_SHORT naturalac 65519 //-17
	WRITE_SHORT effectiveac 65519 //-17
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 22
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 20
	WRITE_BYTE wisdom 20
	WRITE_BYTE charisma 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE fireresistance 50
	WRITE_BYTE magicfireresistance 20
	WRITE_BYTE thac0 251 //-5
	WRITE_BYTE race 146 //Dragon
	WRITE_BYTE class 212 //Amnish Soldier
	WRITE_BYTE levelfirstclass 30
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg2~ #8
	WRITE_ASCII racescript ~menoober~ #8
	WRITE_ASCII generalscript ~runenemy~ #8
	WRITE_ASCII defaultscript ~wtrunsgt~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24104) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~norale.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 25
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 0
	WRITE_BYTE class classflamingfist
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~MEQUIV80~ #40 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissiledamage target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter1=5 parameter2=1 END

COPY_EXISTING ~nymphsu.cre~ ~override~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~menymphs~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems078~ #0 ~innate~ (1)

COPY_EXISTING ~oberan.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_BYTE constitution 23
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII classscript ~meoberan~ #8
	REPLACE_CRE_ITEM ~CLCK13~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MESCRL7H~ #1 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco033~ #0 ~innate~ (20)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING_REGEXP ~ogre.cre~ ~override~ ~ogre0.*.cre~ ~override~ ~ogre_.*.cre~ ~override~ ~ogred.cre~ ~override~ ~ogres.cre~ ~override~ ~ogreunsh.cre~ ~override~ ~ntwelt.cre~ ~override~ ~x#chop.cre~ ~override~ ~x#cru11.cre~ ~override~
	WRITE_LONG killxp 1000
	WRITE_SHORT currenthp 85
	WRITE_SHORT maxhp 85
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE thac0 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogre~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	IF_EXISTS

COPY_EXISTING ~ogreberz.cre~ ~override~
	WRITE_LONG killxp 1600
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE thac0 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogrebe~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spcl321~ #0 ~innate~ (2)

COPY_EXISTING ~ogreco.cre~ ~override~
	SAY NAME1 @18297
	SAY NAME2 @18297
	WRITE_LONG killxp 6400
	WRITE_SHORT currenthp 220
	WRITE_SHORT maxhp 220
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogreco~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~BOOT08~ #0 #0 #0 ~NONE~ ~BOOTS~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter2=8 STR_VAR resource=~mems168~ END

COPY_EXISTING ~x3hogre.cre~ ~override~ ~x3hogre2.cre~ ~override~
	WRITE_LONG killxp 1000
	WRITE_SHORT currenthp 85
	WRITE_SHORT maxhp 85
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE thac0 13
	WRITE_ASCII racescript ~meogre~ #8
	IF_EXISTS

COPY_EXISTING ~x3hogrec.cre~ ~override~
	WRITE_LONG killxp 1600
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE thac0 10
	WRITE_ASCII classscript ~meogrebe~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_MEMORIZED_SPELL ~spcl321~ #0 ~innate~ (2)
	IF_EXISTS

COPY_EXISTING ~x3hogrel.cre~ ~override~
	WRITE_LONG killxp 6400
	WRITE_SHORT currenthp 220
	WRITE_SHORT maxhp 220
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII racescript ~meogreco~ #8
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter2=8 STR_VAR resource=~mems168~ END
	IF_EXISTS

COPY_EXISTING_REGEXP ~ogregr.cre~ ~override~ ~ogregr[1234].cre~ ~override~ ~ogregr_[ABCD].cre~ ~override~ ~ogremiri.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_SHORT currenthp 35
	WRITE_SHORT maxhp 35
	WRITE_BYTE thac0 15
	WRITE_BYTE attacksperround 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setmeleeeffect target=1 timing=9 STR_VAR resource=~spcl909a~ END

COPY_EXISTING_REGEXP ~ogreha.*.cre~ ~override~ ~ogrebjor.cre~ ~override~
	WRITE_LONG killxp 750
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE exceptionalstrength 93
	WRITE_BYTE thac0 13
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20

COPY_EXISTING ~ogrema.cre~ ~override~ //Most common ogre mage
	WRITE_LONG killxp 3500
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 11
	WRITE_BYTE levelfirstclass 17
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogma01~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_CRE_ITEM ~SW1H20~
	ADD_CRE_ITEM ~SW1H43~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCRL5N~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~SCRL5O~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~SCRL5P~ #1 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~SCRL5Q~ #1 #0 #0 ~IDENTIFIED~ ~INV7~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi401~ #3 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi609~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi614~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi711~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi719~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mexplo02~ #4 ~wizard~ (1)

COPY_EXISTING ~ogrema02.cre~ ~override~ //Firewine Ruins Ogre Mage
	SAY NAME1 @18310
	SAY NAME2 @18065
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 24
	WRITE_BYTE intelligence 24
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 9
	WRITE_SHORT kit kitdiviner
	WRITE_BYTE levelfirstclass 17
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meogma02~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REMOVE_CRE_ITEM ~SW1H20~
	ADD_CRE_ITEM ~SW1H43~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCRL6W~ #1 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCRL6P~ #1 #0 #0 ~IDENTIFIED~ ~INV2~
//	ADD_CRE_ITEM ~SCRL6S~ #1 #0 #0 ~IDENTIFIED~ ~INV3~
	ADD_CRE_ITEM ~SCRL6Y~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi111~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi213~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #1 ~wizard~ (4)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%mewi260%~
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi523~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #4 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%mewi559%~
	ADD_MEMORIZED_SPELL ~spwi614~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi803~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi810~ #7 ~wizard~ (1)
	ADD_CRE_ITEM ~MEWI260X~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyduration target=1 timing=9 parameter1=200 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=7 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING ~ogrema03.cre~ ~override~ //Cloakwood Mines Ogre Mage
	SAY NAME1 @18066
	SAY NAME2 @18066
	WRITE_LONG killxp 3200
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 22
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meogma03~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_CRE_ITEM ~SCRL6L~ #1 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCRL6O~ #1 #0 #0 ~IDENTIFIED~ ~INV2~
	ADD_CRE_ITEM ~SCRL6U~ #1 #0 #0 ~IDENTIFIED~ ~INV3~
	ADD_CRE_ITEM ~SCRL6Z~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi111~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi518~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems101~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems023~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=4 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~ogrema_a.cre~ ~override~ //Ogre Mage who attacks you in a house in Baldur's Gate
	WRITE_LONG killxp 3200
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_SHORT naturalac 2
	WRITE_SHORT effectiveac 2
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 23
	WRITE_BYTE charisma 20
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 14
	WRITE_BYTE savevswand 12
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogma_a~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII scriptname ~ogrema_a~ #8
	REMOVE_CRE_ITEM ~SW1H20~
	ADD_CRE_ITEM ~SW1H43~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCRL6K~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~SCRL73~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~MESCRL7J~ #1 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~MESCRL7T~ #1 #0 #0 ~IDENTIFIED~ ~INV7~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi409~ #3 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi914~ #8 ~wizard~ (2)

COPY_EXISTING ~ogrema_b.cre~ ~override~ //Ogre Mage who attacks you in a house in Baldur's Gate
	WRITE_LONG killxp 3200
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_SHORT naturalac 8
	WRITE_SHORT effectiveac 8
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 22
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 19
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogma_b~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII scriptname ~ogrema_b~ #8
	REMOVE_CRE_ITEM ~SW1H20~
	ADD_CRE_ITEM ~SW1H43~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCRL5L~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~SCRL6V~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~SCRL6N~ #1 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~SCRL76~ #1 #0 #0 ~IDENTIFIED~ ~INV7~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi411~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING ~ogrema_c.cre~ ~override~ //Ogre Mage who attacks you in a house in Baldur's Gate
	WRITE_LONG killxp 3200
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_SHORT naturalac 4
	WRITE_SHORT effectiveac 4
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 23
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 14
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 11
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogma_c~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII scriptname ~ogrema_c~ #8
	REMOVE_CRE_ITEM ~SW1H20~
	ADD_CRE_ITEM ~SW1H43~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	ADD_CRE_ITEM ~SCRL6W~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~SCRL6X~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi406~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi423~ #3 ~wizard~ (10)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~ogrema_d.cre~ ~override~ //Ogre Mage who attacks you in a house in Baldur's Gate
	SAY NAME1 @18067
	SAY NAME2 @18067
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_BYTE dexterity 22
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 10
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meogma_d~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	WRITE_ASCII scriptname ~ogrema_d~ #8
	REPLACE_CRE_ITEM ~SW1H02~ #0 #1 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~SCRL6H~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~SCRL6I~ #1 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi515~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi603~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi714~ #6 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=4 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=4 END

COPY_EXISTING ~ogremba.cre~ ~override~ ~ogrmba.cre~ ~override~ //Baldur's Gate Sewers Ogre Mage
	SAY NAME1 @18068
	SAY NAME2 @18068
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 24
	WRITE_BYTE intelligence 24
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meogmaba~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~SW1H34~ #0 #1 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~MESCRL7F~ #1 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~SCRL8A~ #1 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi118~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi602~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi609~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi623~ #5 ~wizard~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=5 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=4 END

COPY_EXISTING ~ogresu.cre~ ~override~
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE thac0 13
	WRITE_BYTE allegiance eaenemy
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogresu~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~ogreunsh.cre~ ~override~
	ADD_CRE_ITEM ~MEBELT50~ #0 #0 #0 ~IDENTIFIED~ ~INV5~
	ADD_CRE_ITEM ~MEBELT51~ #0 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~MEBELT52~ #0 #0 #0 ~IDENTIFIED~ ~INV7~
	ADD_CRE_ITEM ~MEBELT53~ #0 #0 #0 ~IDENTIFIED~ ~INV8~
	ADD_CRE_ITEM ~MEBELT54~ #0 #0 #0 ~IDENTIFIED~ ~INV9~
	ADD_CRE_ITEM ~MEBELT55~ #0 #0 #0 ~IDENTIFIED~ ~INV10~

COPY_EXISTING ~oogiew.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 115
	WRITE_SHORT maxhp 115
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 10
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE attacksperround 5
	WRITE_BYTE thac0 5
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdopplegangergreater
	WRITE_BYTE alignment alignmentneutralevil
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII scriptname ~oogiew~ #8
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~meoogiew~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~oopah.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE thac0 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meogre~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~oopah2.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE thac0 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meoopah2~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it

COPY_EXISTING ~orc01.cre~ ~override~ ~k9orc01.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 8
	WRITE_BYTE wisdom 9
	WRITE_BYTE charisma 8
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII racescript ~meorc~ #8
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 4
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~HALB01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=150 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~orc02.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 51
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 10
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 7
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII racescript ~meorc~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 4
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~AROW08~ #15 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=150 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~orc03.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 11
	WRITE_BYTE wisdom 17
	WRITE_BYTE charisma 14
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meorcpri~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr106~ #0 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr109~ #0 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr303~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr309~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr330~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr414~ #3 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr503~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr510~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mems222~ #6 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=150 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~orc04.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 11
	WRITE_BYTE wisdom 9
	WRITE_BYTE charisma 14
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meorceli~ #8
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~HELM13~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~HALB01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~orc05.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 11
	WRITE_BYTE wisdom 17
	WRITE_BYTE charisma 14
	WRITE_BYTE magiccoldresistance 125
	WRITE_BYTE magicfireresistance 125
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meorcsha~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr250~ #1 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr309~ #2 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr330~ #2 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr450~ #3 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr650~ #5 ~priest~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=150 parameter2=2 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonusfire END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~orc06.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 51
	WRITE_SHORT maxhp 51
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 10
	WRITE_BYTE wisdom 11
	WRITE_BYTE charisma 8
	WRITE_BYTE levelfirstclass 6
	WRITE_BYTE levelfirstclass 7
	WRITE_ASCII racescript ~meorcrai~ #8
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~orc07.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 12
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 9
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meorcela~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~AROW04~ #15 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~orduli.cre~ ~override~
	WRITE_LONG killxp 4500
	WRITE_SHORT currenthp 210
	WRITE_SHORT maxhp 210
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE wisdom 23
	WRITE_BYTE thac0 8
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meorduli~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr709~ #6 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr721~ #6 ~priest~ (4)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=1 parameter2=1 END

COPY_EXISTING ~osmadi.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 86
	WRITE_SHORT maxhp 86
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 11
	WRITE_BYTE class classfighterdruid
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meosmadi~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr217~ #1 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #3 ~priest~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%mepr452%~
	ADD_MEMORIZED_SPELL ~sppr501~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr522~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr602~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr604~ #5 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #5 ~priest~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEPHSPL~ ~%mepr660%~
	ADD_MEMORIZED_SPELL ~sppr720~ #6 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~mequakea~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~mequakeb~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~mequakec~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~meco019~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~sppr720~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END

COPY_EXISTING ~oulam.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 84
	WRITE_SHORT maxhp 84
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~meoulam~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi119~ #0 ~wizard~ (50)
	ADD_MEMORIZED_SPELL ~meco103~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi414~ #3 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END

COPY_EXISTING ~pallon.cre~ ~override~
	WRITE_LONG killxp 5500
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 22
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mepallon~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~UNSTEALABLE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~mems093~ END

COPY_EXISTING ~pargus.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 63
	WRITE_SHORT maxhp 63
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~megreteg~ #8
	WRITE_ASCII racescript ~mepargus~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi611~ #5 ~wizard~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 2
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 2
	REPLACE_CRE_ITEM ~MEBRAC97~ #0 #0 #0 ~NONE~ ~GLOVES~
	REPLACE_CRE_ITEM ~STAF05~ #15 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~STAF01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=1 END

COPY_EXISTING ~pawn.cre~ ~override~
	WRITE_LONG killxp 1250
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE strength 19
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE levelfirstclass 5
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~kingdead~ #8
	WRITE_ASCII generalscript ~mepawn~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=(0 - 3) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END

COPY_EXISTING ~perdue.cre~ ~override~
	WRITE_LONG killxp 1000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 5
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 4
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 1
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~MESW1H85~ #0 #0 #0 ~NONE~ ~WEAPON3~ EQUIP
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)

COPY_EXISTING ~peter.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE constitution 15
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII classscript ~mepeter~ #8
	REPLACE_CRE_ITEM ~CHAN04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	ADD_CRE_ITEM ~SCRL5F~ #1 #0 #0 ~IDENTIFIED~ ~INV7~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV8~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems026~ #2 ~priest~ (40)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~phanda.cre~ ~override~
	SAY INITIAL_MEETING #4976
	WRITE_LONG killxp 9000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~shout~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~mephanda~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~HELM10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~MEPLAT14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~MESPER90~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr412~ #3 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~meha150~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END

COPY_EXISTING ~pheirk.cre~ ~override~
	SAY INITIAL_MEETING #11179
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 168
	WRITE_SHORT maxhp 168
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 87
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 19
	WRITE_BYTE wisdom 25
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 5
	WRITE_BYTE attacksperround 2
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mepheirk~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~MEPHEIRK~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyvisualrange target=1 timing=1 parameter1=15 END

COPY_EXISTING ~pheoarch.cre~ ~override~ ~pheogurd.cre~ ~override~ ~phoenix.cre~ ~override~
	WRITE_LONG killxp 500
	WRITE_SHORT currenthp 3
	WRITE_SHORT maxhp 3
	WRITE_BYTE constitution 10
	WRITE_BYTE thac0 9
	WRITE_BYTE fireresistance 120
	WRITE_BYTE coldresistance 156 //-100
	WRITE_BYTE elecresistance 99
	WRITE_BYTE acidresistance 99
	WRITE_BYTE slashingresistance 99
	WRITE_BYTE piercingresistance 99
	WRITE_BYTE crushingresistance 99
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicfireresistance 120
	WRITE_BYTE magiccoldresistance 156 //-100
	WRITE_BYTE savevsbreath 10
	WRITE_BYTE savevsdeath 10
	WRITE_BYTE savevswand 12
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevspolymorph 16
	WRITE_BYTE race 145 //Elemental
	WRITE_BYTE class 187 //Fire Elemental
	WRITE_BYTE levelfirstclass 3
	WRITE_BYTE levelsecondclass 3
	WRITE_BYTE levelthirdclass 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=99 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~mems066~ END

COPY_EXISTING ~pheogurd.cre~ ~override~ ~phoenix.cre~ ~override~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~MESW1HPH~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~pheoarch.cre~ ~override~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REPLACE_CRE_ITEM ~BOWPHEO~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~MESW1HPH~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~MEAROWPH~ #0 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER4~

COPY_EXISTING ~phlydi.cre~ ~override~ ~phlydi2.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE class 211
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mephlydi~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi221~ #1 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24103) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~poe.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 56
	WRITE_SHORT maxhp 56
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevspolymorph 17
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE alignment alignmenttrueneutral
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdoppleganger
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~mepoe~ #8
	WRITE_ASCII classscript ~~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END

COPY_EXISTING ~portal.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 170
	WRITE_SHORT maxhp 170
	WRITE_SHORT naturalac 65535 //-1
	WRITE_SHORT effectiveac 65535 //-1
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 15
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 15
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 10
	WRITE_BYTE levelthirdclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meportal~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=1 parameter2=1 END

COPY_EXISTING ~prat.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 98
	WRITE_SHORT maxhp 98
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~meprat~ #8
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems023~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi719~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi721~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi909~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~ax1h06~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~shld08p~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~mage04~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV10~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV11~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV12~
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresa~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresr~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi403d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi418d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycoldresistance target=1 timing=1 parameter1=50 resist_dispel=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyfireresistance target=1 timing=1 parameter1=50 resist_dispel=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=4 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=4 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 STR_VAR resource=~spwi304~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 STR_VAR resource=~spwi503~ END

COPY_EXISTING ~pridem.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE class classfighter
	WRITE_BYTE strength 20
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 20
	WRITE_BYTE fireresistance 0
	WRITE_BYTE coldresistance 0
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 0
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 0
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 75
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~reddeath~ #8
	WRITE_ASCII racescript ~mepridem~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~sw2h08~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV8~

COPY_EXISTING ~priilm.cre~ ~override~ ~priilmu.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 212
	WRITE_SHORT maxhp 212
	WRITE_BYTE wisdom 22
	WRITE_BYTE constitution 25
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mepriilm~ #8
	WRITE_ASCII generalscript ~shout~ #8
	WRITE_ASCII defaultscript ~~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems122~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr607~ #5 ~priest~ (6)
	ADD_MEMORIZED_SPELL ~sppr713~ #6 ~priest~ (3)

COPY_EXISTING_REGEXP ~pros.*.cre~ ~override~ ~prs.*.cre~ ~override~ ~mcook.*.cre~ ~override~ ~fcook.*.cre~ ~override~ ~fecook.cre~ ~override~ ~cookge.cre~ ~override~ ~dillar.cre~ ~override~ ~nobl14.cre~ ~override~ ~noblba.cre~ ~override~ ~nobwba.cre~ ~override~ ~mtownast.cre~ ~override~ ~ftowfrsc.cre~ ~override~ ~mtowfr_.*.cre~ ~override~ ~mtowbas.*.cre~ ~override~ ~mtbe10.cre~ ~override~ ~shelli.cre~ ~override~ ~desslo.cre~ ~override~ ~ironm.*.cre~ ~override~ ~bat_.*.cre~ ~override~ ~barslim.cre~ ~override~ ~attslim.cre~ ~override~ ~mtwslim.*.cre~ ~override~ ~housg5.cre~ ~override~ ~housg6.cre~ ~override~ ~emitar3.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 56
	WRITE_SHORT maxhp 56
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevspolymorph 17
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE alignment alignmenttrueneutral
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdoppleganger
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~medopch1~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END

COPY_EXISTING ~pumberl.cre~ ~override~ ~pumber2.cre~ ~override~ ~ntnasha.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 72
	WRITE_SHORT maxhp 72
	WRITE_BYTE strength 17
	WRITE_BYTE constitution 17
	WRITE_BYTE wisdom 18
	WRITE_BYTE pickpockets 30
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII racescript ~mepumber~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr310~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mepr351~ #2 ~priest~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr351~ ~%mepr351%~
	ADD_MEMORIZED_SPELL ~sppr426~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mepr652~ #5 ~priest~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr652~ ~%mepr652%~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	IF_EXISTS

COPY_EXISTING ~queen.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE class classmage
	WRITE_BYTE thac0 13
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~kingdead~ #8
	WRITE_ASCII generalscript ~mequeen~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi515~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi518~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco160~ #0 ~innate~ (1)

COPY_EXISTING ~quenas.cre~ ~override~
	WRITE_ASCII racescript ~mequenas~ #8

COPY_EXISTING ~rabbit.cre~ ~override~ ~rabbitsu.cre~ ~override~ ~nerabit1.cre~ ~override~
	REPLACE_CRE_ITEM ~p1-12~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=9 parameter1=20 END

COPY_EXISTING ~raemon.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~ax1h01~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=3 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END

COPY_EXISTING ~ragefa.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meragefa~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~clck16~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi306~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi616~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco033~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~mems048~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=4 END

COPY_EXISTING ~rahvin.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~HELM10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~MESPER06~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~BOW17~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #80 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~spcl909a~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~spcl909a~ END

COPY_EXISTING ~raiken.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 11
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~meraiken~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	REPLACE_CRE_ITEM ~helm09~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~halb02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END

COPY_EXISTING ~raleo.cre~ ~override~
	WRITE_LONG killxp 1750
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 90
	WRITE_BYTE crushingresistance 90
	WRITE_BYTE missileresistance 90
	WRITE_ASCII overridescript ~meraleo~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24138) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~ramazi.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~meramazi~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~brac15~ #0 #0 #0 ~NONE~ ~GLOVES~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi327~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi432~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi506~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #4 ~wizard~ (2)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi554%~
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi714~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #6 ~wizard~ (1)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi754%~
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~rat.cre~ ~override~
	WRITE_LONG killxp 35
	WRITE_SHORT currenthp 9
	WRITE_SHORT maxhp 9
	WRITE_BYTE attacksperround 2
	WRITE_BYTE thac0 19
	WRITE_ASCII racescript ~merat~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	WRITE_ASCII scriptname ~RAT~ #32
	ADD_MEMORIZED_SPELL ~mems071~ #0 ~innate~ (1)
	REPLACE_CRE_ITEM ~mep1-1~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~rat2.cre~ ~override~
	WRITE_ASCII classscript ~merevrat~ #8
	ADD_MEMORIZED_SPELL ~mems071~ #0 ~innate~ (1)

COPY_EXISTING ~ratchi.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE fireresistance 90
	WRITE_BYTE coldresistance 60
	WRITE_BYTE elecresistance 60
	WRITE_BYTE acidresistance 60
	WRITE_BYTE magicfireresistance 90
	WRITE_BYTE slashingresistance 60
	WRITE_BYTE piercingresistance 60
	WRITE_BYTE crushingresistance 60
	WRITE_BYTE missileresistance 90
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 12
	WRITE_BYTE class classcleric
	WRITE_BYTE gender genderfemale
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~meratchi~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr612~ #5 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr699~ #5 ~priest~ (1)
	ADD_CRE_ITEM ~helmnoan~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~sw1h07~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV4~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=1 parameter1=60 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24137) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~regina.cre~ ~override~
	WRITE_LONG killxp 100000
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24136) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~resar.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meresar~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~merobe80~ #0 #0 #0 ~NONE~ ~ARMOR~
//	ADD_CRE_ITEM ~mescrl7o~ #2 #0 #0 ~IDENTIFIED&UNSTEALABLE~ ~INV3~
	ADD_CRE_ITEM ~scrl9t~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi215~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi313~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi515~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems090~ #8 ~wizard~ (1)

COPY_EXISTING ~revent.cre~ ~override~
	WRITE_LONG killxp 4500
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_BYTE strength 19
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg2~ #8
	WRITE_ASCII racescript ~merevdag~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~revent2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull02~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~rezdan.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE dexterity 21
	WRITE_BYTE intelligence 21
	WRITE_ASCII classscript ~meircall~ #8
	WRITE_ASCII racescript ~merezdan~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mems098~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi701~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=4 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END

COPY_EXISTING ~rielta.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 140
	WRITE_SHORT maxhp 140
	WRITE_BYTE class classmage
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE slashingresistance 65
	WRITE_BYTE piercingresistance 65
	WRITE_BYTE crushingresistance 65
	WRITE_BYTE missileresistance 65
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~merielta~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~scrl8l~ #0 #0 #0 ~UNSTEALABLE~ ~INV3~
	ADD_CRE_ITEM ~scrl8y~ #0 #0 #0 ~UNSTEALABLE~ ~INV4~
	ADD_CRE_ITEM ~spwi807x~ #0 #0 #0 ~UNSTEALABLE~ ~INV5~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV8~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (10)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi430~ #3 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi502~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi810~ #7 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi816~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi921~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~spwi304~ END

COPY_EXISTING ~rook.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 25
	WRITE_BYTE wisdom 18
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~kingdead~ #8
	WRITE_ASCII generalscript ~merook~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~sppr705~ #6 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~CHAN12~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=6 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING_REGEXP ~rsdapp.*.cre~ ~override~
	WRITE_LONG BATTLE_CRY1 0xFFFFFFFF
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 17
	WRITE_BYTE thac0 14
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 7
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mersdapp~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END

COPY_EXISTING ~rsdcl01.cre~ ~override~
	SAY NAME1 @18069
	SAY NAME2 @18069
	SAY SELECT_COMMON1 #11104
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE colormetal 254
	WRITE_BYTE colorleather 254
	WRITE_BYTE colorarmor 254
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE wisdom 21
	WRITE_BYTE thac0 12
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mersdcl~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr101~ #0 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (6)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (6)
	ADD_MEMORIZED_SPELL ~sppr414~ #3 ~priest~ (18)
	ADD_MEMORIZED_SPELL ~sppr503~ #4 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr708~ #6 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr721~ #6 ~priest~ (1)
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~BLUN05~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SHLD04~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~MEJUMPTO~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=16 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=21 END

COPY_EXISTING ~rsdinita.cre~ ~override~
	SAY BATTLE_CRY1 #11096
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE colormetal 254
	WRITE_BYTE colorleather 254
	WRITE_BYTE colorarmor 254
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 23
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 17
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~rsdinit~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~HELM13~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~CHAN04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~BOW01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~AROW09~ #20 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~AROW01~ #60 #0 #0 ~IDENTIFIED~ ~QUIVER2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meco038~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi206~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meinrtel~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=16 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=21 END

COPY_EXISTING ~rsdinitf.cre~ ~override~
	SAY BATTLE_CRY1 #11097
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE colormetal 254
	WRITE_BYTE colorleather 254
	WRITE_BYTE colorarmor 254
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesw2h02~ #8
	WRITE_ASCII generalscript ~rsdinit~ #8
	WRITE_ASCII defaultscript ~ohfgtk01~ #8
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~HELM10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SW2H02~ #0 #1 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meco038~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi206~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meintele~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=16 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=21 END

COPY_EXISTING ~rsdinitm.cre~ ~override~
	SAY BATTLE_CRY1 #11129
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE colormetal 254
	WRITE_BYTE colorleather 254
	WRITE_BYTE colorarmor 254
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE thac0 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mersdinm~ #8
	WRITE_ASCII generalscript ~rsdinit~ #8
	WRITE_ASCII defaultscript ~ohfgtk01~ #8
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)
	REPLACE_CRE_ITEM ~CLCK10~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi206~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meinrtel~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=16 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=21 END

COPY_EXISTING ~rsdinitt.cre~ ~override~
	SAY BATTLE_CRY1 #11101
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE colormetal 254
	WRITE_BYTE colorleather 254
	WRITE_BYTE colorarmor 254
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 16
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~rsdinit~ #8
	WRITE_ASCII defaultscript ~ohfgtk01~ #8
	REPLACE_CRE_ITEM ~LEAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SW1H08~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~meco038~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi206~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meinphas~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=16 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setcolor target=1 timing=9 parameter1=254 parameter2=21 END

COPY_EXISTING_REGEXP ~rsdmnk0[1239].cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_BYTE thac0 7
	WRITE_BYTE attacksperround 3
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 92
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mersdmnk~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spdm101~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spdm106~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~medm144~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi228~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems057~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~rsdmnk04.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 22
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 2
	WRITE_BYTE attacksperround 4
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mersdmnk~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spdm106~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~medm144~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~medm144~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi228~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems057~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING_REGEXP ~rsdmnk0[5678].cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_BYTE thac0 7
	WRITE_BYTE attacksperround 3
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 92
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mersdmnk~ #8
	WRITE_ASCII generalscript ~rsdmnk~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spdm101~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spdm106~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~medm144~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi228~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems057~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~rsdmnk05.cre~ ~override~
	WRITE_ASCII classscript ~rsdmnk05~ #8

COPY_EXISTING_REGEXP ~rsdmnk[ABCD].cre~ ~override~ ~rsdmnk.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_BYTE thac0 7
	WRITE_BYTE attacksperround 3
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 92
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mersdmnk~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spdm101~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spdm106~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~medm144~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi228~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems057~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~rsdtroll.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 163
	WRITE_SHORT maxhp 163
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 25
	WRITE_BYTE fireresistance 156 //-100%
	WRITE_BYTE coldresistance 100
	WRITE_BYTE acidresistance 156
	WRITE_BYTE magicfireresistance 156
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~merstrol~ #8
	WRITE_ASCII generalscript ~rstrol01~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi716~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi907~ #8 ~wizard~ (1)
	REMOVE_CRE_ITEM ~TROLLREG~ ~MONHP1~
	REPLACE_CRE_ITEM ~merstrol~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~rsgamaz.cre~ ~override~
	WRITE_LONG BATTLE_CRY1 0xFFFFFFFF
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_SHORT naturalac 65521 //-10
	WRITE_SHORT effectiveac 65521 //-10
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mersgama~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spdm106~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl820~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~medm144~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~mems057~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~mems058~ #0 ~innate~ (1)
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV8~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV10~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~medm144~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi228~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems057~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=500 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END

COPY_EXISTING ~rssorrem.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 13
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~rssorrem~ #8
	WRITE_ASCII generalscript ~merssorr~ #8
	WRITE_ASCII defaultscript ~ohfgtk01~ #8
	REPLACE_CRE_ITEM ~LEAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi206~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meinrtel~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=10 END

COPY_EXISTING ~rufie.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_SHORT naturalac 2
	WRITE_SHORT effectiveac 2
	WRITE_SHORT animation slotworglargedecimal
	WRITE_BYTE alignment alignmentneutralevil
	WRITE_BYTE race 121 //Demonic
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 19
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicresistance 20
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE savevsbreath 1
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevsspell 1
	WRITE_BYTE savevswand 1
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE thac0 4
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~merufie~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi910~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 parameter1=3 parameter2=3 STR_VAR resource=~mems075~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 STR_VAR resource=~mems075~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromweapons target=1 timing=1 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=1 parameter1=300 parameter2=2 END

COPY_EXISTING ~sakul.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 92
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 24
	WRITE_BYTE wisdom 21
	WRITE_BYTE charisma 5
	WRITE_BYTE levelfirstclass 11
	WRITE_BYTE levelsecondclass 11
	WRITE_ASCII classscript ~mesakul~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi210~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~meco103~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi402~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi415~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems098~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems102~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~scrl2f~ #1 #0 #0 ~IDENTIFIED~ ~INV8~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV10~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=10 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=3 parameter2=0 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END

COPY_EXISTING ~sarev1.cre~ ~override~ ~gorion.cre~ ~override~ ~tamoko.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=wingbuffet END

COPY_EXISTING ~sarevo.cre~ ~override~
	WRITE_LONG killxp 30000
	WRITE_SHORT currenthp 700
	WRITE_SHORT maxhp 700
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE fireresistance 30
	WRITE_BYTE coldresistance 30
	WRITE_BYTE elecresistance 30
	WRITE_BYTE acidresistance 30
	WRITE_BYTE magicresistance 20
	WRITE_BYTE magicfireresistance 30
	WRITE_BYTE magiccoldresistance 30
	WRITE_BYTE slashingresistance 30
	WRITE_BYTE piercingresistance 30
	WRITE_BYTE crushingresistance 30
	WRITE_BYTE missileresistance 30
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE thac0 241 //-15
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 40
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesarevo~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~mesarevo~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=60 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=paralyze END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=holdcreature1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=stun END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=feeblemind END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=confusion END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=panic END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=slay END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=killtarget END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=imprisonment END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~meco028~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~meco227~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi914~ END

COPY_EXISTING ~sarevo2.cre~ ~override~
	WRITE_LONG killxp 30000
	WRITE_SHORT currenthp 1400
	WRITE_SHORT maxhp 1400
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE thac0 241 //-15
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 40
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesarevo~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~helm15~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~mesarevo~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=60 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=paralyze END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=holdcreature1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=stun END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=feeblemind END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=confusion END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=panic END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=slay END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=killtarget END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=imprisonment END

COPY_EXISTING ~mesarevo.bcs~ ~override/sarevok.bcs~

COPY_EXISTING ~sarhed.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 937
	WRITE_SHORT maxhp 937
	WRITE_BYTE missileresistance 99
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 15
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~meshld30~ #0 #0 #0 ~UNSTEALABLE~ ~SHIELD~
	REPLACE_CRE_ITEM ~ax1h17~ #0 #0 #0 ~UNSTEALABLE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meintele~ END

COPY_EXISTING ~sath.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 11
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 9
	WRITE_BYTE thac0 5
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 10
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~turninvi~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 1
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 1
	REPLACE_CRE_ITEM ~staf05~ #25 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~

COPY_EXISTING ~scar.cre~ ~override~
	WRITE_LONG killxp 25000
	WRITE_SHORT currenthp 246
	WRITE_SHORT maxhp 246
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 18
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~mescar~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~ax1h02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~schlum.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE fireresistance 40
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 125
	WRITE_BYTE slashingresistance 40
	WRITE_BYTE piercingresistance 80
	WRITE_BYTE crushingresistance 80
	WRITE_BYTE missileresistance 80
	WRITE_BYTE magicresistance 50
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII classscript ~meschlum~ #8
	REPLACE_CRE_ITEM ~MESCHLUM~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromprojectile target=1 timing=1 parameter2=meschlum END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24131) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~semaj.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mesemaj~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi409~ #3 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi711~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems093~ #8 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~sendai.cre~ ~override~
	WRITE_LONG killxp 2700
	WRITE_SHORT currenthp 102
	WRITE_SHORT maxhp 102
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~sendai~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 3
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~meplat10~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mebootlv~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~bow06~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~sw1h02~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~arow10~ #40 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spwi614~ END

COPY_EXISTING ~seniya.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 200
	WRITE_SHORT maxhp 200
	WRITE_BYTE strength 18
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE wisdom 25
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meseniya~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 1
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 1
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr110~ #0 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr302~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr517~ #4 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr604~ #5 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #5 ~priest~ (1)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mepr660%~
	ADD_MEMORIZED_SPELL ~sppr704~ #6 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mepr754~ #6 ~priest~ (1)
	REPLACE_CRE_ITEM ~MELEAT98~ #0 #0 #0 ~NONE~ ~ARMOR~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=spellfailure END

COPY_EXISTING ~senjack.cre~ ~override~
	WRITE_LONG killxp 1500
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 6
	WRITE_BYTE thac0 16
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~senjack~ #8
	WRITE_ASCII defaultscript ~~ #8
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 2
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	REMOVE_CRE_ITEM ~brac18~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=2 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=2 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=2 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=2 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=2 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=2 timing=9 parameter1=1 END

COPY_EXISTING ~servsu.cre~ ~override~ ~bdservsu.cre~ ~override~
	WRITE_SHORT currenthp 72
	WRITE_SHORT maxhp 72
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 99
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~meelair2~ #8
	WRITE_ASCII defaultscript ~bdsum00~ #8
	REMOVE_CRE_ITEM ~immune2~
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meelair2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	IF_EXISTS

COPY_EXISTING_REGEXP ~sewerf.*.cre~ ~override~
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE charisma 3
	WRITE_BYTE slashingresistance 60
	WRITE_BYTE piercingresistance 60
	WRITE_BYTE crushingresistance 60
	WRITE_BYTE missileresistance 60
	WRITE_BYTE acidresistance 100
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromprojectile target=1 timing=1 parameter2=meschlum END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=poison END

COPY_EXISTING ~shaldr.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meshaldr~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV5~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #1 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEWI359~ #2 ~wizard~ (5)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI359~ ~%mewi359%~
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi431~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi601~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi717~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi718~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi910~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEWI961~ #8 ~wizard~ (2)
//	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI961~ ~%mewi961%~
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco164~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~shandal2.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 50
	WRITE_SHORT maxhp 50
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 2
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~shoutdlg~ #8
	WRITE_ASCII generalscript ~meshanda~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~merobe93~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV9~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi299~ #1 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi907~ #8 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi915~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)

COPY_EXISTING ~shank.cre~ ~override~
	WRITE_LONG killxp 150
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_BYTE levelfirstclass 1
	WRITE_BYTE thac0 12
	WRITE_BYTE attacksperround 1
	WRITE_SHORT naturalac 20
	WRITE_SHORT effectiveac 20
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 20
	WRITE_ASCII racescript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 1
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~shelli.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24086) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~shoal.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 3
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 4
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meshoal~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8

COPY_EXISTING ~shvert.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 85
	WRITE_SHORT maxhp 85
	WRITE_LONG creflags 0x85000001 //Now he's uninterruptible
	WRITE_BYTE strength 3
	WRITE_BYTE dexterity 3
	WRITE_BYTE constitution 3
	WRITE_BYTE intelligence 19
	WRITE_BYTE wisdom 19
	WRITE_BYTE charisma 3
	WRITE_SHORT naturalac 65521 //-15
	WRITE_SHORT effectiveac 65521 //-15
	WRITE_BYTE slashingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_BYTE acidresistance 100
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII classscript ~meshvert~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=poison END

COPY_EXISTING ~sil.cre~ ~override~
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE slashingresistance 35
	WRITE_BYTE piercingresistance 35
	WRITE_BYTE crushingresistance 70
	WRITE_BYTE missileresistance 35
	WRITE_BYTE intelligence 19
	WRITE_BYTE charisma 25
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesil~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems099~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~MEAROW92~ #32767 #0 #0 ~UNDROPPABLE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~MEAROW92~ #5 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromprojectile target=1 timing=9 parameter2=(swave - 1) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~MEMS405D~ END

COPY_EXISTING ~silenc.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesilenc~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~mesw1h84~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP

COPY_EXISTING ~silke.cre~ ~override~
	SAY SELECT_COMMON1 #4697
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE dexterity 19
	WRITE_BYTE intelligence 19
	WRITE_BYTE charisma 19
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 9
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesilke~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~~ #8
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi105~ #0 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi411~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi514~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi524~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi607~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi656~ #5 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi656~ ~%mewi656%~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24140) STR_VAR resource=~meidecre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=4 parameter1=1 parameter2=1 STR_VAR resource=~mesilke~ END

COPY_EXISTING ~simage1.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_SHORT kit kitconjurer
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesimage~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~clck12~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~NONE~ ~INV4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi718~ #8 ~wizard~ (3)

COPY_EXISTING ~simdemon.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 95
	WRITE_SHORT maxhp 95
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesimdem~ #8
	WRITE_ASCII generalscript ~mesw2h02~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr510~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~spwi913~ #8 ~wizard~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~spin996~ END

COPY_EXISTING ~simmeon.cre~ ~override~
	WRITE_LONG BATTLE_CRY1 0xFFFFFFFF
	WRITE_LONG killxp 9000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mesimmeo~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco033~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~HELM10~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~BOOT01~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~MESW2H60~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV4~
	REPLACE_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV5~
	REPLACE_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV6~
	REPLACE_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~spin996~ END

COPY_EXISTING ~siprst.cre~ ~override~
	SAY NAME1 @18070
	SAY NAME2 @18070
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE wisdom 21
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 12
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesiprst~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REPLACE_CRE_ITEM ~slng02~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	REPLACE_CRE_ITEM ~bull02~ #40 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr301~ #2 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr401~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr502~ #4 ~priest~ (2)

COPY_EXISTING_REGEXP ~sirine.*.cre~ ~override~ ~ntsirin.*.cre~ ~override~
	WRITE_LONG killxp 2400
	WRITE_SHORT currenthp 64
	WRITE_SHORT maxhp 64
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE charisma 25
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~sirene~ #8
	WRITE_ASCII generalscript ~mesirine~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems120~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi405~ #3 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromprojectile target=1 timing=9 parameter2=(swave - 1) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~MEMS405D~ END
	IF_EXISTS

COPY_EXISTING ~sirine.cre~ ~override~ ~sirine02.cre~ ~override~ ~ntsirin4.cre~ ~override~ ~ntsirine.cre~ ~override~
	WRITE_ASCII classscript ~shout~ #8
	IF_EXISTS

COPY_EXISTING_REGEXP ~skel.*.cre~ ~override~
	REMOVE_CRE_ITEM ~misc50~
	IF ~MISC50~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~skelaci.cre~ ~override~ ~skelfire.cre~ ~override~ ~skelice.cre~ ~override~
	WRITE_LONG killxp 350
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE thac0 7
	WRITE_BYTE levelfirstclass 6
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul09~ END

COPY_EXISTING ~skeldis.cre~ ~override~
	WRITE_LONG killxp 450
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE missileresistance 100
	WRITE_BYTE thac0 5
	WRITE_BYTE levelfirstclass 6
	REMOVE_CRE_ITEM ~arow07~
	REPLACE_CRE_ITEM ~AROW07~ #100 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~AROW07~ #1 #0 #0 ~NONE~ ~INV4~
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 4
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul08~ END

COPY_EXISTING ~skelet03.cre~ ~override~
	WRITE_LONG killxp 200
	WRITE_SHORT currenthp 4
	WRITE_SHORT maxhp 4
	WRITE_BYTE strength 17
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 3
	WRITE_ASCII racescript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul03~ END

COPY_EXISTING ~skelet_a.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 24
	WRITE_SHORT maxhp 24
	WRITE_BYTE strength 18
	WRITE_BYTE thac0 14
	WRITE_BYTE missileresistance 100
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII racescript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul04~ END

COPY_EXISTING ~skelet_b.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 7
	WRITE_SHORT maxhp 7
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 19
	WRITE_BYTE elecresistance 100
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII racescript ~meskel_b~ #8
	ADD_MEMORIZED_SPELL ~sppr512~ #4 ~priest~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul05~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=(0 - 4) END

COPY_EXISTING ~skelet_c.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 16
	WRITE_SHORT maxhp 16
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 77
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII racescript ~meskel_c~ #8
	ADD_MEMORIZED_SPELL ~meco235~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul07~ END

COPY_EXISTING ~skeletb.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 12
	WRITE_SHORT maxhp 12
	WRITE_BYTE strength 16
	WRITE_BYTE thac0 10
	WRITE_BYTE fireresistance 100
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~skeletb~ #8
	WRITE_ASCII defaultscript ~wdarsgt~ #8
	ADD_MEMORIZED_SPELL ~meco040~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul02~ END

COPY_EXISTING ~skelets.cre~ ~override~ ~skelmel.cre~ ~override~
	WRITE_LONG killxp 200
	WRITE_SHORT currenthp 6
	WRITE_SHORT maxhp 6
	WRITE_BYTE thac0 12
	WRITE_BYTE missileresistance 50
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII racescript ~meskels~ #8
	ADD_MEMORIZED_SPELL ~sppr113~ #0 ~priest~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=iftookdamage STR_VAR resource=~meskul06~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=7 END

COPY_EXISTING ~skelsu01.cre~ ~override~ ~skelsu07.cre~ ~override~ ~skelsu11.cre~ ~override~ ~skelwasu.cre~ ~override~
	WRITE_BYTE magicresistance 0

COPY_EXISTING ~skelwa.cre~ ~override~ ~skelwa01.cre~ ~override~
	SAY NAME1 @18071
	SAY NAME2 @18071
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 12
	WRITE_BYTE wisdom 21
	WRITE_BYTE charisma 16
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE missileresistance 60
	WRITE_BYTE magicresistance 25
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 1
	WRITE_BYTE class classfightercleric
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meskelwp~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr101~ #0 ~priest~ (1) //Bless
	ADD_MEMORIZED_SPELL ~sppr203~ #1 ~priest~ (1) //Chant
	ADD_MEMORIZED_SPELL ~sppr301~ #2 ~priest~ (7) //Animate Dead
	ADD_MEMORIZED_SPELL ~sppr415~ #3 ~priest~ (1) //Cloak of Fear
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1) //True Seeing
	ADD_MEMORIZED_SPELL ~sppr715~ #6 ~priest~ (1) //Unholy Word
	ADD_MEMORIZED_SPELL ~sppr718~ #6 ~priest~ (1) //Symbol, Stun
	ADD_MEMORIZED_SPELL ~sppr719~ #6 ~priest~ (1) //Symbol, Death
	SET_BG2_PROFICIENCY PROFICIENCYMACE 2
	SET_BG2_PROFICIENCY PROFICIENCYSLING 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~MEHELMBL~ #0 #0 #0 ~UNDROPPABLE~ ~HELMET~
	REPLACE_CRE_ITEM ~BLUN21~ #0 #0 #0 ~NONE~ ~WEAPON1~ //Mace +2
	REPLACE_CRE_ITEM ~SLNG02~ #0 #0 #0 ~NONE~ ~WEAPON2~ //Sling +1
	REPLACE_CRE_ITEM ~BULL08~ #40 #0 #0 ~NONE~ ~QUIVER1~ //Ice Bullet +1
	REPLACE_CRE_ITEM ~SHLD06~ #0 #0 #0 ~NONE~ ~SHIELD~ //Large Shield +1
//	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV8~ //Tome of Understanding
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=16 STR_VAR resource=~MESKULW1~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spwi404~ END //Protection from Ice Storm
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spwi502~ END //Protection from Cloudkill
	IF_EXISTS

COPY_EXISTING ~skelwa02.cre~ ~override~
	SAY NAME1 @18072
	SAY NAME2 @18072
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 77
	WRITE_SHORT maxhp 77
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 21
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 14
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE slashingresistance 25
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 206 //-50%
	WRITE_BYTE missileresistance 50
	WRITE_BYTE magicresistance 50
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 1
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 16
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meskelwm~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1) //Detect Invisibility
	ADD_MEMORIZED_SPELL ~spwi213~ #1 ~wizard~ (2) //Stinking Cloud
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1) //Vocalize
	ADD_MEMORIZED_SPELL ~spwi404~ #3 ~wizard~ (2) //Ice Storm
	ADD_MEMORIZED_SPELL ~spwi502~ #4 ~wizard~ (2) //Cloudkill
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (1) //Cone of Cold
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (1) //Improved Haste
	ADD_MEMORIZED_SPELL ~spwi713~ #6 ~wizard~ (1) //Finger of Death
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (1) //Abi-Dalzim's Horrid Wilting
	ADD_MEMORIZED_SPELL ~meco103~ #2 ~wizard~ (1) //Wild Horror
	ADD_MEMORIZED_SPELL ~mems098~ #4 ~wizard~ (1) //Large Skeleton Horde
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYDART 2
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~MEHELMBL~ #0 #0 #0 ~UNDROPPABLE~ ~HELMET~
	REPLACE_CRE_ITEM ~SW1H41~ #0 #0 #0 ~NONE~ ~WEAPON1~ //Long Sword +2
	REPLACE_CRE_ITEM ~DART04~ #40 #0 #0 ~NONE~ ~WEAPON2~ //Darts of Wounding
	REPLACE_CRE_ITEM ~SHLD01~ #0 #0 #0 ~NONE~ ~SHIELD~ //Small Shield +1
//	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV8~ //Tome of Clear Thought
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=16 STR_VAR resource=~MESKULW2~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spwi404~ END //Protection from Ice Storm
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spwi502~ END //Protection from Cloudkill

COPY_EXISTING ~skelwa03.cre~ ~override~
	SAY NAME1 @18073
	SAY NAME2 @18073
	WRITE_LONG killxp 9000
	WRITE_SHORT currenthp 126
	WRITE_SHORT maxhp 126
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 12
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE slashingresistance 60
	WRITE_BYTE piercingresistance 60
	WRITE_BYTE crushingresistance 30
	WRITE_BYTE missileresistance 90
	WRITE_BYTE magicresistance 50
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 1
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 21
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (1) //Smite
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REPLACE_CRE_ITEM ~MEHELMBL~ #0 #0 #0 ~UNDROPPABLE~ ~HELMET~
	REPLACE_CRE_ITEM ~SW2H11~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP //Two-handed Sword +2
	REPLACE_CRE_ITEM ~BOW02~ #0 #0 #0 ~NONE~ ~WEAPON2~ //Composite Longbow +1
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~MEAROW25~ #100 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~QUIVER1~ //Blue Arrows of Detonation
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~MEAROW25~ #5 #0 #0 ~NONE~ ~INV4~ //Blue Arrows of Detonation
//	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV8~ //Manual of Bodily Health
//	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV9~ //Manual of Gainful Exercise
//	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV10~ //Manual of Quickness of Action
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=16 STR_VAR resource=~MESKULW3~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spwi404~ END //Protection from Ice Storm
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spwi502~ END //Protection from Cloudkill

COPY_EXISTING ~slythe.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 126
	WRITE_SHORT maxhp 126
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 89
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 251 //-5
	WRITE_BYTE levelfirstclass 30
	WRITE_BYTE levelfirstclass 30
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~leat11~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mesw1h74~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~brac10~ #0 #0 #0 ~NONE~ ~GLOVES~
	REPLACE_CRE_ITEM ~mage03~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~mage06~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~mebelt71~ #0 #0 #0 ~NONE~ ~BELT~
	ADD_CRE_ITEM ~book04~ #0 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book05~ #0 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~book05~ #0 #0 #0 ~NONE~ ~INV7~
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 3
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit STR_VAR resource=~spwi206~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~spwi224~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 parameter1=spellineffective STR_VAR resource=~spwi502~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 parameter2=1 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~sonner.cre~ ~override~
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE elecresistance 80
	REMOVE_CRE_ITEM ~BLUN03~
	ADD_CRE_ITEM ~BLUN13~ #0 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=iftookdamage STR_VAR resource=~spcl722~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24124) STR_VAR resource=~meidecre~ END

COPY_EXISTING_REGEXP ~spbear[1-5].cre~ ~override~ ~splion[1-5].cre~ ~override~ ~spsnak[1-5].cre~ ~override~ ~spwolf[1-5].cre~ ~override~ ~spirbear.cre~ ~override~ ~spirlion.cre~ ~override~ ~spirsnak.cre~ ~override~ ~spirwolf.cre~ ~override~
	WRITE_BYTE specifics 250

COPY_EXISTING_REGEXP ~spid.*.cre~ ~override~
	WRITE_BYTE thac0 236 //-20

COPY_EXISTING ~spidgi.cre~ ~override~ ~rsspidgi.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MESPDGI~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~spidgisu.cre~ ~override~
	WRITE_SHORT currenthp 20
	WRITE_SHORT maxhp 20
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MESPDGI~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~spidhu.cre~ ~override~ ~spidland.cre~ ~override~
	WRITE_LONG killxp 500
	WRITE_BYTE strength 17
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MESPDHU~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~spidph.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~measpdph~ #8
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MESPDPH~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~mepspmov~ END

COPY_EXISTING ~spidphas.cre~ ~override~ //Astral Phase Spider
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE attacksperround 4
	WRITE_BYTE magicresistance 25
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mespidas~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~measpdph~ #8
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MESPDPH~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~mepspmov~ END

COPY_EXISTING ~spidphsu.cre~ ~override~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~measpdph~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~mepspmov~ END

COPY_EXISTING ~spidsw.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 15
	WRITE_BYTE attacksperround 5
//	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MESPDSW~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=improvedhaste END

COPY_EXISTING ~spidswsu.cre~ ~override~
	WRITE_SHORT currenthp 15
	WRITE_SHORT maxhp 15
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 15
	WRITE_BYTE attacksperround 5
	REPLACE_CRE_ITEM ~MESPDSW~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=improvedhaste END

COPY_EXISTING ~spidwr.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 65
	WRITE_SHORT maxhp 65
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE attacksperround 2
	WRITE_BYTE missileresistance 50
	REPLACE_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MESPDWR~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=150 parameter2=2 END

COPY_EXISTING ~squirl.cre~ ~override~ ~squirr.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~MEXPLO02~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=ifseeenemy STR_VAR resource=~MEINSWCH~ END

COPY_EXISTING ~stalke.cre~ ~override~ ~stalkesu.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 99
	WRITE_SHORT maxhp 99
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20
	WRITE_SHORT animation slotinvisiblestalkernewdecimal
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE fireresistance 0
	WRITE_BYTE coldresistance 0
	WRITE_BYTE elecresistance 100
	WRITE_BYTE acidresistance 0
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 0
	WRITE_BYTE magiccoldresistance 0
	WRITE_BYTE thac0 249 //-7
	WRITE_BYTE attacksperround 3
	WRITE_BYTE race 145 //Elemental
	WRITE_BYTE class 186 //Air elemental
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 12
	WRITE_BYTE levelthirdclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mestalke~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_CRE_ITEM ~MAGE01~
	REPLACE_CRE_ITEM ~HELMNOAN~ #0 #0 #0 ~UNDROPPABLE~ ~HELMET~
	REPLACE_CRE_ITEM ~BOOT08~ #0 #0 #0 ~UNDROPPABLE~ ~BOOTS~
//	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=nondetection target=1 timing=9 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 50) END

COPY_EXISTING ~stepha.cre~ ~override~
	WRITE_LONG killxp 500
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_ASCII classscript ~mestepha~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=minimumhp target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24134) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~sunin.cre~ ~override~
	WRITE_LONG killxp 2700
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 20
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 20
	WRITE_BYTE wisdom 20
	WRITE_BYTE charisma 20
	WRITE_ASCII racescript ~mesunin~ #8
	WRITE_ASCII dialogfile ~mesunin~ #8
	REMOVE_MEMORIZED_SPELLS
	REPLACE_CRE_ITEM ~CLCK14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~SCRL7H~ #1 #0 #0 ~IDENTIFIED~ ~INV5~

COPY_EXISTING ~surgeo.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 67
	WRITE_SHORT maxhp 67
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE fireresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE class classclericmage
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mesurgeo~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr607~ #5 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (1)

COPY_EXISTING ~sword01.cre~ ~override~ //Mordenkainen's Sword
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 56
	WRITE_SHORT maxhp 56
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE thac0 5
	WRITE_BYTE fireresistance 80
	WRITE_BYTE coldresistance 90
	WRITE_BYTE elecresistance 30
	WRITE_BYTE acidresistance 0
	WRITE_BYTE slashingresistance 80
	WRITE_BYTE piercingresistance 90
	WRITE_BYTE crushingresistance 70
	WRITE_BYTE missileresistance 99
	WRITE_BYTE magicresistance 0
	WRITE_BYTE magicfireresistance 80
	WRITE_BYTE magiccoldresistance 90
	WRITE_BYTE levelfirstclass 10
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24135) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~takiyah.cre~ ~override~
	SAY NAME1 @18308
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 86
	WRITE_SHORT maxhp 86
	WRITE_BYTE wisdom 23
	WRITE_SHORT kit kitavenger
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~metakiya~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spdr101~ #0 ~priest~ (10)
	ADD_MEMORIZED_SPELL ~sppr217~ #1 ~priest~ (8)
	ADD_MEMORIZED_SPELL ~spdr301~ #2 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr302~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr315~ #2 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr420~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mepr452~ #3 ~priest~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr452~ ~%mepr452%~
	ADD_MEMORIZED_SPELL ~meco106~ #3 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~spdr501~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~meps506~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~spdr601~ #5 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~meco125~ #0 ~innate~ (2)
	REPLACE_CRE_ITEM ~LEAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~MESTAF71~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=priest END

COPY_EXISTING ~tam.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII classscript ~metam~ #8
	WRITE_ASCII racescript ~wtarsgt~ #8
	ADD_MEMORIZED_SPELL ~mems003~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~mems013~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~mems039~ #0 ~innate~
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 2
	REMOVE_CRE_ITEM ~arow01~
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~mearow94~ #200 #0 #0 ~UNDROPPABLE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~mehalb07~ #0 #0 #0 ~NONE~ ~WEAPON2~
	ADD_CRE_ITEM ~mearow94~ #4 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV8~
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV9~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=1 parameter1=10 parameter2=0 END

COPY_EXISTING ~tamoko.cre~ ~override~ ~tamoko2.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 300
	WRITE_SHORT maxhp 300
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE slashingresistance 25
	WRITE_BYTE piercingresistance 25
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 25
	WRITE_BYTE thac0 0
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII racescript ~metamoko~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr304~ #2 ~priest~ (6)
	ADD_MEMORIZED_SPELL ~sppr503~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr607~ #5 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mems415~ #5 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr722~ #6 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr728~ #6 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mems413~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	SET_BG2_PROFICIENCY PROFICIENCYSLING 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~meshld94~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~slng02~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~mage01~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~bull03~ #80 #0 #0 ~NONE~ ~QUIVER1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~mems413d~ END

COPY_EXISTING ~tamoko2.cre~ ~override~
	WRITE_ASCII classscript ~~ #8

COPY_EXISTING ~tanar.cre~ ~override~ //Aec'Letec
	WRITE_LONG killxp 25000
	WRITE_SHORT currenthp 540
	WRITE_SHORT maxhp 540
	WRITE_SHORT naturalac 65518 //-18
	WRITE_SHORT effectiveac 65518 //-18
	WRITE_LONG animation 4355
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 24
	WRITE_BYTE wisdom 22
	WRITE_BYTE charisma 25
	WRITE_BYTE savevsbreath 2
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 1
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 0
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicresistance 65
	WRITE_BYTE slashingresistance 25
	WRITE_BYTE piercingresistance 25
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 25
	WRITE_BYTE thac0 248 //-8
	WRITE_BYTE levelfirstclass 40
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~metanari~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~menabalo~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~mebossim~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~memiscte~ #1 #0 #0 ~UNSTEALABLE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=imprisonment END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~meaecch~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=100 END

COPY_EXISTING ~tarnes.cre~ ~override~
	WRITE_LONG killxp 750
	WRITE_SHORT currenthp 34
	WRITE_SHORT maxhp 34
	WRITE_BYTE intelligence 21
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~metarnes~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi119~ #0 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi224~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #2 ~wizard~ (1)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi359%~
	ADD_MEMORIZED_SPELL ~spwi518~ #4 ~wizard~ (1)
	ADD_CRE_ITEM ~RING08~ #0 #0 #0 ~NONE~ ~LRING~

COPY_EXISTING ~tarnor.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 10
	WRITE_BYTE constitution 21
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII generalscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~ax1h02~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=poison END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=wingbuffet END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifypoisonresistance target=1 timing=9 parameter1=100 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24133) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~tasloi.cre~ ~override~ ~tasloi02.cre~ ~override~ ~tasloi03.cre~ ~override~ ~taslgurk.cre~ ~override~ 
	WRITE_LONG killxp 200
	WRITE_SHORT currenthp 19
	WRITE_SHORT maxhp 19
	WRITE_BYTE strength 17
	WRITE_BYTE thac0 9
	WRITE_ASCII racescript ~metasloi~ #8
	ADD_CRE_ITEM ~misc37~ #2 #0 #0 ~IDENTIFIED~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megaztas~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 STR_VAR resource=~megaztas~ effsource=~menogaz~ END

COPY_EXISTING ~tasloisu.cre~ ~override~
	WRITE_SHORT currenthp 19
	WRITE_SHORT maxhp 19
	WRITE_BYTE strength 17
	WRITE_BYTE thac0 9
//	WRITE_ASCII racescript ~metaslsu~ #8
//	ADD_MEMORIZED_SPELL ~mebzgaze~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~megaztas~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 STR_VAR resource=~megaztas~ effsource=~menogaz~ END

COPY_EXISTING ~taugos.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 111
	WRITE_SHORT maxhp 111
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 5
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~metaugos~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_MEMORIZED_SPELL ~mems416~ #0 ~innate~ (3)
	REPLACE_CRE_ITEM ~helm15~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~shld07~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~brac18~ #0 #0 #0 ~NONE~ ~GLOVES~
//	REPLACE_CRE_ITEM ~amul14~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~belt04~ #0 #0 #0 ~NONE~ ~BELT~
	REPLACE_CRE_ITEM ~mehamm62~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV1~
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 5

COPY_EXISTING ~tazok.cre~ ~override~
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 21
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~tazok~ #8
	WRITE_ASCII racescript ~metazok~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 5
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~UNSTEALABLE~ ~HELMET~
	REPLACE_CRE_ITEM ~sw1h42~ #0 #0 #0 ~UNSTEALABLE~ ~WEAPON1~

COPY_EXISTING ~tazok2.cre~ ~override~
	WRITE_SHORT currenthp 240
	WRITE_SHORT maxhp 240
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 3
	WRITE_BYTE levelfirstclass 18
	WRITE_SHORT naturalac 65516 //-20
	WRITE_SHORT effectiveac 65516 //-20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~metazok2~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 5
	REPLACE_CRE_ITEM ~helmnoan~ #0 #0 #0 ~UNSTEALABLE~ ~HELMET~
	REPLACE_CRE_ITEM ~sw1h42~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~telano.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 119
	WRITE_SHORT maxhp 119
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 19
	WRITE_SHORT naturalac 2
	WRITE_SHORT effectiveac 2
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_ASCII classscript ~metelano~ #8
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi618~ #5 ~wizard~ (1)
	ADD_CRE_ITEM ~scrl6z~ #0 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~scrl7o~ #0 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~telka.cre~ ~override~ ~ntelka.cre~ ~override~ ~ntnatalk.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 18
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 12
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 9
	WRITE_BYTE levelsecondclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~metelka~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 2
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull06~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush04~ END
	IF_EXISTS

COPY_EXISTING ~tellan.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE class classmage
	WRITE_BYTE fireresistance 120
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 120
	WRITE_BYTE magicfireresistance 120
	WRITE_BYTE magiccoldresistance 50
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 23
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~metellan~ #8
	WRITE_ASCII generalscript ~follow~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~mage03~ #0 #0 #0 ~UNDROPPABLE~ ~LRING~
	ADD_CRE_ITEM ~mage04~ #0 #0 #0 ~UNDROPPABLE~ ~RRING~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV1~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi712~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~meco168~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=4 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=9 parameter1=8 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=4 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~telmen.cre~ ~override~
	WRITE_LONG killxp 450
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE elecresistance 40
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=iftookdamage STR_VAR resource=~spcl722~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24123) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~tenya.cre~ ~override~
	WRITE_ASCII classscript ~metenya~ #8
	WRITE_ASCII racescript ~none~ #8
	ADD_KNOWN_SPELL ~sppr302~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr325~ #2 ~priest~
	ADD_KNOWN_SPELL ~mepr351~ #2 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr351~ ~%mepr351%~
	ADD_KNOWN_SPELL ~sppr423~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr426~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr617~ #5 ~priest~
	ADD_KNOWN_SPELL ~mepr652~ #5 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr652~ ~%mepr652%~
	ADD_KNOWN_SPELL ~sppr720~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr722~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr734~ #6 ~priest~
	ADD_MEMORIZED_SPELL ~meco328~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco329~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco330~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonuscrushing END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@28002) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~tenya2.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 198
	WRITE_SHORT maxhp 198
	WRITE_BYTE wisdom 19
	WRITE_BYTE dexterity 17
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 100
	WRITE_BYTE acidresistance 100
	WRITE_BYTE magicfireresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE crushingresistance 75
	WRITE_BYTE piercingresistance 75
	WRITE_BYTE missileresistance 75
	WRITE_SHORT naturalac 0
	WRITE_SHORT effectiveac 0
	WRITE_ASCII racescript ~metenya~ #8
	ADD_KNOWN_SPELL ~sppr325~ #2 ~priest~
	ADD_KNOWN_SPELL ~mepr351~ #2 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr351~ ~%mepr351%~
	ADD_KNOWN_SPELL ~sppr426~ #3 ~priest~
	ADD_KNOWN_SPELL ~mepr652~ #5 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr652~ ~%mepr652%~
	ADD_MEMORIZED_SPELL ~meco328~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco329~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco330~ #0 ~innate~ (3)
	LPF ADD_CRE_EFFECT INT_VAR opcode=damagetypebonus target=1 timing=9 parameter1=50 parameter2=bonuscrushing END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING ~tersus.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 72
	WRITE_SHORT maxhp 72
	WRITE_BYTE wisdom 17
	WRITE_BYTE class classcleric
	WRITE_ASCII racescript ~metersus~ #8
	ADD_MEMORIZED_SPELL ~sppr613~ #5 ~priest~
	ADD_MEMORIZED_SPELL ~sppr725~ #6 ~priest~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=priest END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 parameter2=0 END

COPY_EXISTING ~tethto.cre~ ~override~
	REPLACE_CRE_ITEM ~mewi356x~ #0 #0 #0 ~NONE~ ~QITEM1~

COPY_EXISTING ~tethto3.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24097) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~teven.cre~ ~override~
	WRITE_LONG killxp 3500
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 9
	WRITE_BYTE savevsdeath 6
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~teven~ #8
	WRITE_ASCII generalscript ~shout~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~chan04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~bow01~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~mearow18~ #1000 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END

COPY_EXISTING ~teynga.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 13
	WRITE_BYTE savevsdeath 10
	WRITE_BYTE savevsspell 13
	WRITE_BYTE savevswand 11
	WRITE_BYTE savevspolymorph 12
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	SET_BG2_PROFICIENCY PROFICIENCYAXE 4
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~chan07~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~ax1h04~ #100 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	REPLACE_CRE_ITEM ~ax1h01~ #0 #0 #0 ~NONE~ ~WEAPON2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END

COPY_EXISTING ~thalan.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 180
	WRITE_SHORT maxhp 180
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~methalan~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~merobe91~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mestaf67~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~UNSTEALABLE~ ~INV4~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~UNSTEALABLE~ ~INV5~
	ADD_CRE_ITEM ~book08~ #1 #0 #0 ~UNSTEALABLE~ ~INV6~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi299~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi430~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi504~ #4 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems090~ #8 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mems091~ #8 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~meco164~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifhit special=1 STR_VAR resource=~SPWI212~ vvcresource=~SPWI408~ resource2=~SPWI405~ effsource=~SPWI617~ END

COPY_EXISTING ~thaldo.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 300
	WRITE_SHORT maxhp 300
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~methaldo~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~leat03~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~dagg01~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~
	ADD_CRE_ITEM ~book07~ #0 #0 #0 ~NONE~ ~INV9~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=spellfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=1 parameter2=deafness END

COPY_EXISTING_REGEXP ~thief.cre~ ~override~ ~thief[fgm].cre~ ~override~
	WRITE_LONG killxp 2200
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 16
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 246 //-10
	WRITE_BYTE class classthief
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~bow06~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~mearow18~ #200 #0 #0 ~NONE~ ~QUIVER1~ EQUIP

COPY_EXISTING ~thiefg.cre~ ~override~
	WRITE_ASCII classscript ~initdlg~ #8

COPY_EXISTING ~torlob.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 180
	WRITE_SHORT maxhp 180
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_SHORT animation 31494 //Shade Wolf
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 1
	WRITE_BYTE general generalanimal
	WRITE_BYTE race 117 //Wolf
	WRITE_BYTE levelfirstclass 20
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~metorlob~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END

COPY_EXISTING ~tracea.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 87
	WRITE_SHORT maxhp 87
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~metracea~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi431~ #3 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~Mewi855~ #7 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_SENSITIVE ~Mewi855~ ~%mewi855%~
	ADD_MEMORIZED_SPELL ~meec001~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems401~ #0 ~innate~ (2)
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~clck10~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~medagg98~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_CRE_ITEM ~book06~ #0 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~book06~ #0 #0 #0 ~NONE~ ~INV8~
	ADD_CRE_ITEM ~book07~ #0 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~mepotn80~ #1 #0 #0 ~IDENTIFIED~ ~INV10~
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifysavingthrowvsschool target=1 timing=1 parameter1=(0 - 50) special=116 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=1 parameter1=10 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=1 parameter1=5 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=1 parameter2=1 END

COPY_EXISTING ~tralit.cre~ ~override~
	WRITE_LONG killxp 7000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 20
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~initdlg~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~plat04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~bow17~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER2~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~QUIVER3~
	ADD_CRE_ITEM ~book04~ #0 #0 #0 ~UNSTEALABLE~ ~INV7~
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=1 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=1 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyluck target=1 timing=1 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush03~ END

COPY_EXISTING ~tranzi.cre~ ~override~
	SAY NAME1 @18303
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_SHORT kit kittransmuter
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 22
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~metranzi~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi415~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi421~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mewi559~ #4 ~wizard~ (3)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi559~ ~%mewi559%~
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (3)
	REMOVE_CRE_ITEM ~scrla3~
	REPLACE_CRE_ITEM ~clck14~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~scrl7h~ #0 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~mewi559x~ #0 #0 #0 ~NONE~ ~INV2~
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=stoneskin target=1 timing=9 parameter1=20 resist_dispel=3 school=8 sectype=7 STR_VAR effsource=~spwi408~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~trave2.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 56
	WRITE_SHORT maxhp 56
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevspolymorph 17
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE alignment alignmenttrueneutral
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdoppleganger
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~metrave2~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END

COPY_EXISTING ~tuth.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 5
	WRITE_BYTE class classfightermage
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~metuth~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spwi611~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #7 ~wizard~ (1)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi855%~
	REPLACE_CRE_ITEM ~helm01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~plat04~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~mesw1h60~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~shld06~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~scrl7o~ #0 #0 #0 ~UNSTEALABLE~ ~INV6~
	ADD_CRE_ITEM ~scrl8r~ #0 #0 #0 ~UNSTEALABLE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END

COPY_EXISTING ~ughh.cre~ ~override~
	WRITE_LONG killxp 8000
	WRITE_SHORT currenthp 240
	WRITE_SHORT maxhp 240
	WRITE_BYTE strength 25
	WRITE_BYTE constitution 25
	WRITE_BYTE fireresistance 156 //-100%
	WRITE_BYTE coldresistance 156
	WRITE_BYTE elecresistance 156
	WRITE_BYTE acidresistance 156
	WRITE_BYTE magicresistance 156
	WRITE_BYTE magicfireresistance 156
	WRITE_BYTE magiccoldresistance 156
	WRITE_BYTE slashingresistance 100
	WRITE_BYTE piercingresistance 100
	WRITE_BYTE crushingresistance 100
	WRITE_BYTE missileresistance 100
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 20
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 5
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~blun03~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 100) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=criticalhitbonus target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END

COPY_EXISTING ~ulf.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 6
	WRITE_BYTE class classfighter
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII racescript ~meulf~ #8
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush03~ END

COPY_EXISTING ~unshey.cre~ ~override~
	SAY INITIAL_MEETING #11179
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_BYTE strength 16
	WRITE_BYTE dexterity 15
	WRITE_BYTE savevsbreath 5
	WRITE_BYTE savevsdeath 5
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE thac0 14
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~meunshey~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr201~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr512~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mepr551~ #4 ~priest~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr551~ ~%mepr551%~
	REPLACE_CRE_ITEM ~BOOK03~ #1 #0 #0 ~IDENTIFIED~ ~QITEM1~

COPY_EXISTING ~ursa.cre~ ~override~
	SAY NAME1 @18074
	SAY NAME2 @18074
	WRITE_LONG killxp 4000
	WRITE_LONG animation slotbearcavelargedecimal
	WRITE_SHORT currenthp 200
	WRITE_SHORT maxhp 200
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 23
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 23
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 2
	WRITE_BYTE levelfirstclass 16
	WRITE_BYTE fireresistance 100
	WRITE_BYTE coldresistance 206 //-50%
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 206 //-50%
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~meursa~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	ADD_CRE_ITEM ~mebearca~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~vai.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE savevsbreath 2
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	REPLACE_CRE_ITEM ~PLAT04~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~SHLD06~ #0 #0 #0 ~NONE~ ~SHIELD~
	REPLACE_CRE_ITEM ~MELFMET~ #250 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~UNSTEALABLE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush03~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=3 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=1 END

COPY_EXISTING ~vai.cre~ ~override~ ~flamvai.cre~ ~override~
	WRITE_BYTE allegiance eagoodbutblue

COPY_EXISTING ~vamflf01.cre~ ~override~ ~vamflm01.cre~ ~override~ ~vampir01.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 175
	WRITE_SHORT maxhp 175
	WRITE_SHORT naturalac 65533 //-3
	WRITE_SHORT effectiveac 65533 //-3
	WRITE_BYTE hideinshadows 150
	WRITE_BYTE movesilently 150
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE intelligence 21
	WRITE_BYTE wisdom 21
	WRITE_BYTE charisma 21
	WRITE_BYTE thac0 6
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII generalscript ~mevampfl~ #8
	REPLACE_CRE_ITEM ~HELMNOAN~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~MEVAMPFL~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~varci.cre~ ~override~
	REMOVE_CRE_ITEM ~shld07~
	ADD_CRE_ITEM ~MESHLD62~ #0 #0 #0 ~NONE~ ~INV1~

COPY_EXISTING ~vax.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_SHORT kit kitkensai
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 8
	WRITE_BYTE levelfirstclass 13
	WRITE_ASCII racescript ~mevax~ #8
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~JUMPTO~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~BOOT01~ #0 #0 #0 ~NONE~ ~BOOTS~
	REPLACE_CRE_ITEM ~AX1H03~ #0 #0 #0 ~NONE~ ~WEAPON1~
	ADD_MEMORIZED_SPELL ~meco046~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~mems025~ #0 ~innate~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyac target=1 timing=9 parameter1=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifythac0 target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=3 END

COPY_EXISTING ~vayya.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 45
	WRITE_SHORT maxhp 45
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE intelligence 21
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~mevayya~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi604~ #5 ~wizard~ (2)
	REPLACE_CRE_ITEM ~CLCK12~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=9 parameter2=1 END

COPY_EXISTING ~venkt.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_BYTE dexterity 18
	WRITE_BYTE intelligence 18
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII racescript ~mevenkt~ #8
	REPLACE_CRE_ITEM ~CLCK13~ #0 #0 #0 ~NONE~ ~ARMOR~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~RING40~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~SCRL6T~ #0 #0 #0 ~IDENTIFIED~ ~INV4~
	ADD_CRE_ITEM ~SCFEAR~ #0 #0 #0 ~IDENTIFIED~ ~INV6~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV7~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi205~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi416~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi423~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi511~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi515~ #4 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~vitiare.cre~ ~override~
	SAY INITIAL_MEETING #23877
	SAY SELECT_COMMON1 #23877
	WRITE_LONG killxp 600
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE strength 11
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 19
	WRITE_BYTE wisdom 10
	WRITE_BYTE charisma 15
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII defaultscript ~mevitiar~ #8

COPY_EXISTING ~volo.cre~ ~override~
	SAY HURT #4520
	WRITE_LONG killxp 9000
	WRITE_SHORT currenthp 168
	WRITE_SHORT maxhp 168
	WRITE_SHORT naturalac 65520 //-16
	WRITE_SHORT effectiveac 65520 //-16
	WRITE_BYTE dexterity 22
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE levelfirstclass 40
	WRITE_ASCII racescript ~mevolo~ #8
	ADD_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END

COPY_EXISTING ~voltin.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 270
	WRITE_SHORT maxhp 270
	WRITE_SHORT kit kittrueclass
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE strength 15
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 15
	WRITE_BYTE wisdom 25
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevswand 6
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 5
	WRITE_BYTE fireresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE thac0 9
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mevoltin~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr605~ #5 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr717~ #6 ~priest~ (3)
	REMOVE_CRE_ITEM ~WAND09~
	REPLACE_CRE_ITEM ~LEAT01~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~MERING72~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=silence END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=spellfailure END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END

COPY_EXISTING_REGEXP ~watch.*.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 48
	WRITE_SHORT currenthp 48
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE thac0 12
	WRITE_BYTE attacksperround 2
	REPLACE_CRE_ITEM ~MESTAF55~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~werewo.cre~ ~override~ ~werewo01.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_SHORT naturalac 4
	WRITE_SHORT effectiveac 4
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 20
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 6
	WRITE_BYTE savevswand 5
	WRITE_BYTE savevspolymorph 4
	WRITE_BYTE thac0 3
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mewereab~ #8
	WRITE_ASCII generalscript ~mewerewo~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~MEWERWO~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=1 parameter1=50 parameter2=4 special=RESOLVE_STR_REF(@827) STR_VAR resource=~EXWEAPIN~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END

COPY_EXISTING ~kaishwlf.cre~ ~override~
	SAY NAME1 @18075
	SAY NAME2 @18075
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 250
	WRITE_SHORT maxhp 250
	WRITE_SHORT naturalac 65534 //-2
	WRITE_SHORT effectiveac 65534 //-2
	WRITE_BYTE strength 21
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 251 //-5
	WRITE_BYTE attacksperround 4
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mekaisha~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mepull02~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco047~ #0 ~innate~ (1)
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
//	REPLACE_CRE_ITEM ~RINGLOUP~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MEWERGR~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=1 parameter1=25 parameter2=4 special=RESOLVE_STR_REF(@828) STR_VAR resource=~EXWEAPIN~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END

COPY_EXISTING ~barwlf.cre~ ~override~
	WRITE_LONG killxp 7500
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 21
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicresistance 40
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE thac0 254 //-2
	WRITE_BYTE attacksperround 4
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mebaresh~ #8
	WRITE_ASCII generalscript ~mewerewo~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~sppr512~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr603~ #5 ~priest~ (1)
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~RINGLOUP~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~S1-12M2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=1 parameter1=50 parameter2=11 special=RESOLVE_STR_REF(@829) STR_VAR resource=~EXWEAPIN~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=1 parameter1=3 parameter2=1 END

COPY_EXISTING ~loupgar.cre~ ~override~
	SAY NAME1 @18076
	SAY NAME2 @18076
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 300
	WRITE_SHORT maxhp 300
	WRITE_SHORT naturalac 65526 //-10
	WRITE_SHORT effectiveac 65526 //-10
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE fireresistance 50
	WRITE_BYTE coldresistance 50
	WRITE_BYTE elecresistance 50
	WRITE_BYTE acidresistance 50
	WRITE_BYTE magicresistance 50
	WRITE_BYTE magicfireresistance 50
	WRITE_BYTE magiccoldresistance 50
	WRITE_BYTE slashingresistance 25
	WRITE_BYTE piercingresistance 25
	WRITE_BYTE crushingresistance 25
	WRITE_BYTE missileresistance 25
	WRITE_BYTE thac0 246 //-10
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meselaad~ #8
	WRITE_ASCII generalscript ~mewerewo~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (3)
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~CLCK31~ #1 #1 #0 ~NONE~ ~CLOAK~
	REPLACE_CRE_ITEM ~S2-16M2~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=1 parameter1=25 parameter2=11 special=RESOLVE_STR_REF(@830) STR_VAR resource=~EXWEAPIN~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 parameter2=1 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=1 parameter1=4 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END

COPY_EXISTING ~wheber.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 84
	WRITE_SHORT maxhp 84
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~mewheber~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi314~ #2 ~wizard~ (9)
	ADD_MEMORIZED_SPELL ~spwi402~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi414~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco104~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi603~ #5 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END

COPY_EXISTING ~wilf.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE wisdom 24
	WRITE_BYTE slashingresistance 60
	WRITE_BYTE piercingresistance 60
	WRITE_BYTE crushingresistance 60
	WRITE_BYTE missileresistance 60
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 14
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mewilf~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr405~ #3 ~priest~ (6)
	ADD_MEMORIZED_SPELL ~sppr505~ #4 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr510~ #4 ~priest~ (4)

COPY_EXISTING ~william.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 84
	WRITE_SHORT maxhp 84
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~mewillia~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (9)
	ADD_MEMORIZED_SPELL ~spwi414~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~meco104~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi605~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi611~ #5 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~mehaun01~ END

COPY_EXISTING ~wiven.cre~ ~override~
	WRITE_LONG killxp 2800
	WRITE_SHORT currenthp 58
	WRITE_SHORT maxhp 58
	WRITE_BYTE dexterity 25
	WRITE_BYTE intelligence 19
	WRITE_BYTE class classmagethief
	WRITE_BYTE levelfirstclass 14
	WRITE_BYTE levelsecondclass 16
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~mewiven~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi401~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi411~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi504~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (3)
	ADD_CRE_ITEM ~MAGE01~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END

COPY_EXISTING ~wolf.cre~ ~override~ ~wolfch.cre~ ~override~ ~rswolf.cre~ ~override~ ~p#wolf05.cre~ ~override~ ~wolfsu.cre~ ~override~
	WRITE_LONG killxp 300
	WRITE_SHORT currenthp 35
	WRITE_SHORT maxhp 35
	WRITE_BYTE thac0 12
	WRITE_BYTE attacksperround 3
	WRITE_ASCII racescript ~mewolf~ #8
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~P1-8~ #0 #0 #0 ~NONE~ ~WEAPON1~
	IF_EXISTS

COPY_EXISTING ~wolfdi.cre~ ~override~ ~p#wolf02.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 49
	WRITE_SHORT maxhp 49
	WRITE_BYTE thac0 8
	WRITE_BYTE attacksperround 4
	WRITE_ASCII racescript ~mewolfdi~ #8
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~P1-10~ #0 #0 #0 ~NONE~ ~WEAPON1~
	IF_EXISTS

COPY_EXISTING ~wolfdr.cre~ ~override~ ~p#wolf03.cre~ ~override~
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 66
	WRITE_SHORT maxhp 66
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE thac0 8
	WRITE_BYTE attacksperround 3
	WRITE_ASCII classscript ~mewolfdr~ #8
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_MEMORIZED_SPELL ~mems017~ #0 ~innate~
	REPLACE_CRE_ITEM ~P1-10~ #0 #0 #0 ~NONE~ ~WEAPON1~
	IF_EXISTS

COPY_EXISTING ~wolfd1.cre~ ~override~
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE thac0 8
	WRITE_BYTE attacksperround 3
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_MEMORIZED_SPELL ~mems017~ #0 ~innate~
	REPLACE_CRE_ITEM ~P1-10~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~wolfwi.cre~ ~override~ ~p#wolf01.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE fireresistance 206 //-50%
	WRITE_BYTE magicfireresistance 206 //-50%
	WRITE_ASCII classscript ~mewolfwi~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_MEMORIZED_SPELL ~meco042~ #0 ~innate~
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~MEWOLFWI~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=1 resist_dispel=3 school=5 sectype=3 END
	IF_EXISTS

COPY_EXISTING ~mewolfwi.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR projectile=idpro25 END

COPY_EXISTING ~wolfva.cre~ ~override~ ~p#wolf04.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 92
	WRITE_SHORT maxhp 92
	WRITE_ASCII classscript ~mewolfva~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	ADD_CRE_ITEM ~MEWOLFVA~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mems052~ END
	IF_EXISTS

COPY_EXISTING ~wolfwe.cre~ ~override~ ~wolfwe01.cre~ ~override~ ~wolfwegl.cre~ ~override~ ~jondalw.cre~ ~override~
	WRITE_LONG killxp 2200
	WRITE_SHORT currenthp 61
	WRITE_SHORT maxhp 61
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 16
	WRITE_BYTE magicresistance 20
	WRITE_BYTE slashingresistance 0
	WRITE_BYTE piercingresistance 0
	WRITE_BYTE crushingresistance 0
	WRITE_BYTE missileresistance 0
	WRITE_BYTE savevsbreath 12
	WRITE_BYTE savevsdeath 10
	WRITE_BYTE savevsspell 12
	WRITE_BYTE savevswand 11
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 5
	WRITE_BYTE attacksperround 3
	WRITE_BYTE class classwolfwere
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mewolfwe~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	REPLACE_CRE_ITEM ~MEWOLFWE~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=1 parameter1=50 parameter2=4 special=RESOLVE_STR_REF(@827) STR_VAR resource=~EXWEAPIN~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=2 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=300 parameter2=2 END

COPY_EXISTING ~mewolfwe.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=403 special=RESOLVE_STR_REF(@827) STR_VAR match_resource=~EXWEAPIN~ END

COPY_EXISTING ~mewolfwg.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=403 special=RESOLVE_STR_REF(@828) STR_VAR match_resource=~EXWEAPIN~ END

COPY_EXISTING ~wolfwe.cre~ ~override~ ~wolfwe01.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 parameter1=6 parameter2=3 STR_VAR resource=~meinvis2~ END

COPY_EXISTING ~wolfwegl.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 parameter1=5 parameter2=3 STR_VAR resource=~meinvis3~ END

COPY_EXISTING ~jondalw.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 parameter1=4 parameter2=3 STR_VAR resource=~meinvis3~ END

COPY_EXISTING ~daesewlf.cre~ ~override~
	SAY NAME1 #22635
	SAY NAME2 #22635
	SAY INITIAL_MEETING #23814
	SAY BATTLE_CRY1 #23814
	SAY BATTLE_CRY2 #23822
	SAY DAMAGE #23824
	SAY DYING #23825
	SAY SELECT_COMMON1 #23822
	SAY SELECT_COMMON2 #23823
	WRITE_LONG animation 32257
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 200
	WRITE_SHORT maxhp 200
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE magicresistance 40
	WRITE_BYTE slashingresistance 0
	WRITE_BYTE piercingresistance 0
	WRITE_BYTE crushingresistance 0
	WRITE_BYTE missileresistance 0
	WRITE_BYTE savevsbreath 2
	WRITE_BYTE savevsdeath 2
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevswand 2
	WRITE_BYTE savevspolymorph 2
	WRITE_BYTE thac0 251
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medaesew~ #8
	WRITE_ASCII generalscript ~mewolfwe~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi957~ #8 ~wizard~ (1)
	ADD_CRE_ITEM ~RINGWOLF~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV6~
	REPLACE_CRE_ITEM ~MEWOLFWG~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=1 parameter1=25 parameter2=4 special=RESOLVE_STR_REF(@828) STR_VAR resource=~EXWEAPIN~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=3 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 parameter1=5 parameter2=1 STR_VAR resource=~meinvis2~ END

COPY_EXISTING ~wolfwegr.cre~ ~override~ ~wolfgr01.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 250
	WRITE_SHORT maxhp 250
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE magicresistance 40
	WRITE_BYTE slashingresistance 0
	WRITE_BYTE piercingresistance 0
	WRITE_BYTE crushingresistance 0
	WRITE_BYTE missileresistance 0
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 251 //-5
	WRITE_BYTE attacksperround 5
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mekarouw~ #8
	WRITE_ASCII generalscript ~mewolfwe~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	ADD_MEMORIZED_SPELL ~MECO041~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~MECO047~ #0 ~innate~ (2)
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~MEWOLFWG~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
//	LPF ADD_CRE_EFFECT INT_VAR opcode=403 target=1 timing=1 parameter1=25 parameter2=4 special=RESOLVE_STR_REF(@828) STR_VAR resource=~EXWEAPIN~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=modifybackstabmultiplier target=1 timing=9 parameter1=3 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 parameter1=5 parameter2=3 STR_VAR resource=~meinvis2~ END

COPY_EXISTING ~worg.cre~ ~override~
	WRITE_LONG killxp 500
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE thac0 10
	WRITE_BYTE attacksperround 3
	WRITE_ASCII racescript ~meworg~ #8
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~P1-8~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~worgar.cre~ ~override~
	SAY NAME1 @18326
	SAY NAME2 @18326
	WRITE_LONG killxp 1200
	WRITE_SHORT currenthp 70
	WRITE_SHORT maxhp 70
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE thac0 7
	WRITE_BYTE attacksperround 3
	WRITE_LONG animation 57984
	WRITE_ASCII racescript ~meworgar~ #8
	ADD_CRE_ITEM ~MECAMOUF~ #0 #0 #0 ~NONE~ ~AMULET~
	REPLACE_CRE_ITEM ~BOOT08~ #0 #0 #0 ~UNDROPPABLE~ ~BOOTS~
	REPLACE_CRE_ITEM ~P1-12~ #0 #0 #0 ~NONE~ ~WEAPON1~

COPY_EXISTING ~wudei.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 19
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 16
	WRITE_BYTE savevsbreath 3
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevsspell 3
	WRITE_BYTE savevswand 3
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 9
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~mewudei~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr510~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr512~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr699~ #5 ~priest~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 2
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~PLAT01~ #0 #0 #0 ~IDENTIFIED~ ~ARMOR~
	REPLACE_CRE_ITEM ~STAF06~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~SHLD06~ #0 #0 #0 ~NONE~ ~SHIELD~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END

COPY_EXISTING ~wyverba.cre~ ~override~ //Baby wyvern
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 60
	WRITE_SHORT maxhp 60
	WRITE_SHORT naturalac 65532 //-4
	WRITE_SHORT effectiveac 65532 //-4
	WRITE_BYTE allegiance eaneutral
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 10
	WRITE_BYTE attacksperround 2
	WRITE_ASCII classscript ~mewbadef~ #8
	WRITE_ASCII racescript ~mechasef~ #8
	WRITE_ASCII generalscript ~mewyvern~ #8
//	WRITE_ASCII defaultscript ~meaflyin~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mems055~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~WYVERN1~ ~WYVERN2~
	REPLACE_CRE_ITEM ~WYVERN2~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~MEFLYING~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=0 duration=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=translucency target=1 timing=0 duration=1 parameter1=255 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=removefeetcircle target=1 timing=0 duration=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=makeunselectable target=1 timing=0 duration=1 parameter1=1 parameter2=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=1 parameter1=1 parameter2=1 STR_VAR resource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 STR_VAR effsource=~menocre~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=2 parameter2=3 STR_VAR resource=~menofly~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems055~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spin695~ END

COPY_EXISTING ~wyvern.cre~ ~override~ //Regular wyvern
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE allegiance eaneutral
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 21
	WRITE_BYTE thac0 8
	WRITE_BYTE attacksperround 2
	WRITE_ASCII classscript ~mewdefau~ #8
	WRITE_ASCII racescript ~mechasef~ #8
	WRITE_ASCII generalscript ~mewyvern~ #8
//	WRITE_ASCII defaultscript ~meaflyin~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mems055~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~WYVERN1~ ~WYVERN2~
	REPLACE_CRE_ITEM ~WYVERN2~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~MEFLYING~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=0 duration=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=translucency target=1 timing=0 duration=1 parameter1=255 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=removefeetcircle target=1 timing=0 duration=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=makeunselectable target=1 timing=0 duration=1 parameter1=1 parameter2=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=1 parameter1=1 parameter2=1 STR_VAR resource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems055~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spin695~ END

COPY_EXISTING ~corwyvrn.cre~ ~override~ //Wyvern that Coran needs to kill
	SAY NAME1 #23126
	SAY NAME2 #23128
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 300
	WRITE_SHORT maxhp 300
	WRITE_SHORT naturalac 65524 //-12
	WRITE_SHORT effectiveac 65524 //-12
	WRITE_SHORT animation slotwyvernreallybigdecimal
	WRITE_BYTE allegiance eaneutral
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 23
	WRITE_BYTE constitution 23
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE thac0 4
	WRITE_BYTE attacksperround 2
	WRITE_ASCII classscript ~mewandef~ #8
	WRITE_ASCII racescript ~mewyvgre~ #8
//	WRITE_ASCII defaultscript ~meaflyin~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mems055~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~WYVERN1~ ~WYVERN2~
	REPLACE_CRE_ITEM ~MEWYVERN~ #0 #0 #0 ~NONE~ ~WEAPON1~ //More powerful wyvern weapon
	REPLACE_CRE_ITEM ~MEFLYING~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MERINGDR~ #0 #0 #0 ~NONE~ ~CLOAK~
	ADD_CRE_ITEM ~MISC07~ #3171 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~MISC43~ #8 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~MISC45~ #1 #0 #0 ~NONE~ ~INV5~
//	ADD_CRE_ITEM ~MEHAMM70~ #0 #0 #0 ~NONE~ ~INV6~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=2 parameter2=3 STR_VAR resource=~menofly~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems055~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~spin695~ END

COPY_EXISTING ~wyvernbi.cre~ ~override~ //Durlag's Tower Greater Wyvern
	SAY NAME1 @18077
	SAY NAME2 @18077
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 360
	WRITE_SHORT maxhp 360
	WRITE_SHORT naturalac 65521 //-15
	WRITE_SHORT effectiveac 65521 //-15
	WRITE_SHORT animation slotwyvernreallybigdecimal
	WRITE_BYTE allegiance eaneutral
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE thac0 252 //-4
	WRITE_BYTE attacksperround 3
	WRITE_ASCII classscript ~mewandef~ #8
	WRITE_ASCII racescript ~mewyvanc~ #8
	WRITE_ASCII generalscript ~mewyvern~ #8
//	WRITE_ASCII defaultscript ~meaflyin~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mems055~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~WYVERN1~ ~WYVERN2~
	REPLACE_CRE_ITEM ~MEWYVEGR~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP //Most powerful wyvern weapon
	REPLACE_CRE_ITEM ~MEFLYING~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~RRING~
	REPLACE_CRE_ITEM ~MERINGDR~ #0 #0 #0 ~NONE~ ~CLOAK~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV7~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=2 parameter2=3 STR_VAR resource=~menofly~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems055~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END

COPY_EXISTING ~wyvernsu.cre~ ~override~ //Summoned wyvern
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_SHORT naturalac 65528 //-8
	WRITE_SHORT effectiveac 65528 //-8
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 8
	WRITE_BYTE attacksperround 1
	WRITE_ASCII classscript ~mewdefau~ #8
	WRITE_ASCII generalscript ~mewyvern~ #8
//	WRITE_ASCII defaultscript ~meaflyin~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mems055~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~WYVERN1~ ~WYVERN2~
	REPLACE_CRE_ITEM ~WYVERN2~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~MEFLYING~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=0 duration=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=translucency target=1 timing=0 duration=1 parameter1=255 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=removefeetcircle target=1 timing=0 duration=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=makeunselectable target=1 timing=0 duration=1 parameter1=1 parameter2=1 STR_VAR effsource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=1 parameter1=1 parameter2=1 STR_VAR resource=~menocre~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 STR_VAR effsource=~menocre~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=2 parameter2=3 STR_VAR resource=~menofly~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems055~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspell target=1 timing=4 duration=1 parameter1=1 parameter2=1 STR_VAR resource=~mewyverd~ END

COPY_EXISTING ~menofly.eff~ ~override~
	WRITE_LONG effparameter2 splprot_areaisnotoutdoor

COPY_EXISTING_REGEXP ~xvart.*.cre~ ~override~ ~nexlit.cre~ ~override~ ~destus.cre~ ~override~
	WRITE_LONG killxp 240
	WRITE_BYTE attacksperround 5
	ADD_CRE_ITEM ~MISC29~ #5 #0 #0 ~IDENTIFIED~ ~INV11~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromtimestop target=1 timing=1 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=1 STR_VAR resource=~memove01~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24055) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~nexlit.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 46
	WRITE_SHORT maxhp 46
	WRITE_ASCII racescript ~meinnate~ #8
	WRITE_ASCII dialogfile ~menexlit~ #8
	ADD_MEMORIZED_SPELL ~meco047~ #0 ~innate~
	ADD_CRE_ITEM ~MECLCK71~ #3 #0 #0 ~NONE~ ~CLOAK~
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfiresr~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=1 parameter2=1 resist_dispel=3 STR_VAR resource=~spfirest~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit resist_dispel=3 STR_VAR resource=~spwi418d~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyfireresistance target=1 timing=1 parameter1=50 resist_dispel=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=mirrorimage target=1 timing=1 parameter1=8 resist_dispel=3 school=5 sectype=3 END

COPY_EXISTING ~yago.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_SHORT naturalac 65524 //-12
	WRITE_SHORT effectiveac 65524 //-12
	WRITE_BYTE constitution 19
	WRITE_BYTE dexterity 17
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 4
	WRITE_BYTE savevsdeath 4
	WRITE_BYTE savevsspell 2
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meyago~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mewi157~ #0 ~wizard~ (5)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI157\([^X]\)~ ~%mewi157%\1~
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi213~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi305~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi430~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi504~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi619~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi724~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~meec003~ #7 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi911~ #8 ~wizard~ (1)
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV8~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV9~

COPY_EXISTING ~zal.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 15
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII classscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYDART 5
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~NONE~ ~HELMET~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEDART13~ #0 #0 #0 ~NONE~ ~WEAPON1~
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 parameter2=improvedhaste END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24054) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~zargal.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE strength 25
	WRITE_BYTE thac0 5
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shoutdlg~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~mezargal~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	REMOVE_CRE_ITEM ~SW1H09~
	REPLACE_CRE_ITEM ~HELM01~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~
	REPLACE_CRE_ITEM ~MEINRTEL~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MEMIRROR~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~SW1H09~ #0 #0 #0 ~NONE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydamage target=1 timing=9 parameter1=20 END

COPY_EXISTING ~zeela.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 48
	WRITE_SHORT maxhp 48
	WRITE_BYTE wisdom 19
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 6
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~mezeela~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~sppr106~ #0 ~priest~ (5)
	ADD_MEMORIZED_SPELL ~sppr208~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr309~ #2 ~priest~ (1)
	REMOVE_CRE_ITEM ~sw1h79~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV5~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull06~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush04~ END

COPY_EXISTING ~zekar.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 64
	WRITE_SHORT maxhp 64
	WRITE_BYTE wisdom 17
	WRITE_BYTE class classcleric
	WRITE_BYTE levelfirstclass 8
	WRITE_ASCII racescript ~mezekar~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_MEMORIZED_SPELL ~sppr213~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr306~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr314~ #2 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr411~ #3 ~priest~ (2)
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibility target=1 timing=9 parameter2=partialinvisibility resist_dispel=3 school=5 sectype=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=20 parameter2=priest END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=20 parameter2=0 END

COPY_EXISTING ~zhalim.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 123
	WRITE_SHORT maxhp 123
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 64
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 24
	WRITE_BYTE savevsbreath 6
	WRITE_BYTE savevsdeath 3
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevspolymorph 3
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~shout~ #8
	WRITE_ASCII racescript ~zhalimar~ #8
	WRITE_ASCII generalscript ~leavech7~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	WRITE_ASCII scriptname ~ZHALIMAR~ #8
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REPLACE_CRE_ITEM ~BOW16~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	REPLACE_CRE_ITEM ~AROW10~ #40 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepush03~ END

COPY_EXISTING_REGEXP ~zombie.*.cre~ ~override~ ~ntzombie.cre~ ~override~ ~x#garz0[1234].cre~ ~override~
	WRITE_LONG killxp 450
	WRITE_SHORT currenthp 30
	WRITE_SHORT maxhp 30
	WRITE_BYTE coldresistance 100
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE thac0 10
	WRITE_BYTE attacksperround 2
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull04~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mezomba~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mezombb~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24053) STR_VAR resource=~meidecre~ END
	IF_EXISTS

COPY_EXISTING ~zordra.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 40
	WRITE_SHORT maxhp 40
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 18
	WRITE_BYTE levelfirstclass 10
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~mezordra~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REPLACE_CRE_ITEM ~merobe60~ #0 #0 #0 ~NONE~ ~ARMOR~
	ADD_CRE_ITEM ~mewi361x~ #1 #0 #0 ~IDENTIFIED~ ~INV9~
	ADD_CRE_ITEM ~mescrl7r~ #1 #0 #0 ~IDENTIFIED~ ~INV10~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (9)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi401~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi361~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems053~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24052) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~zorl.cre~ ~override~
	WRITE_LONG killxp 7500
	WRITE_SHORT currenthp 1000
	WRITE_SHORT maxhp 1000
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE race racerakshasa
	WRITE_BYTE class classrakshasa
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~mezorl~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	ADD_CRE_ITEM ~rakring~ #0 #0 #0 ~NONE~ ~RRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24051) STR_VAR resource=~meidecre~ END

PRINT @174

COPY_EXISTING ~meaggrak.cre~ ~override~
	SAY NAME1 @18201
	SAY NAME2 @18201
	WRITE_SHORT animation slotharpyreddecimal

COPY_EXISTING ~meakkan.cre~ ~override~
	SAY NAME1 @18202
	SAY NAME2 @18202

COPY_EXISTING ~meankhdu.cre~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI560~ ~%mewi560%~
	SAY NAME1 @18323
	SAY NAME2 @18001

COPY_EXISTING ~meankhga.cre~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI560~ ~%mewi560%~
	SAY NAME1 @18320

COPY_EXISTING ~measpsu.cre~ ~override~
	SAY NAME1 @18203
	SAY NAME2 @18203
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24100) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~mebother.cre~ ~override~
	SAY NAME1 @18204
	SAY NAME2 @18204
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24101) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~mebrgrsu.cre~ ~override~
	SAY NAME1 @18296
	SAY NAME2 @18296

COPY_EXISTING ~mecanth.cre~ ~override~
	SAY NAME1 @18205
	SAY NAME2 @18205

COPY_EXISTING ~mecatdop.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 56
	WRITE_SHORT maxhp 56
	WRITE_SHORT naturalac 10
	WRITE_SHORT effectiveac 10
	WRITE_BYTE strength 25
	WRITE_BYTE savevsbreath 18
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevswand 18
	WRITE_BYTE savevsspell 16
	WRITE_BYTE savevspolymorph 17
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 5
	WRITE_BYTE alignment alignmenttrueneutral
	WRITE_BYTE race racedoppleganger
	WRITE_BYTE class classdoppleganger
	WRITE_BYTE levelfirstclass 10
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=charm2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24108) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~mechamp1.cre~ ~override~
	SAY NAME1 @18206
	SAY NAME2 @18206

COPY_EXISTING ~medeatg1.cre~ ~override~ ~medeatg2.cre~ ~override~
	SAY NAME1 @18207
	SAY NAME2 @18207

COPY_EXISTING ~medeathv.cre~ ~override~
	SAY NAME1 @18289
	SAY NAME2 @18289
	ADD_CRE_ITEM ~meflying~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~mebirdps~ #0 #0 #0 ~NONE~ ~RRING~
	ADD_CRE_ITEM ~ring95~ #0 #0 #0 ~NONE~ ~AMULET~
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=castspelloncondition special=2 STR_VAR match_resource=~mems010~ END

COPY_EXISTING ~medeatl1.cre~ ~override~ ~medeatl2.cre~ ~override~
	SAY NAME1 @18208
	SAY NAME2 @18208
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24102) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~medopk01.cre~ ~override~
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi507~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi523~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #6 ~wizard~ (3)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi754%~
	ADD_MEMORIZED_SPELL ~spwi810~ #7 ~wizard~ (1)
	SAY NAME1 @18331
	SAY NAME2 @18331

COPY_EXISTING ~medopk02.cre~ ~override~
	SAY NAME1 @18332
	SAY NAME2 @18332

COPY_EXISTING ~medopk03.cre~ ~override~
	SAY NAME1 @18333
	SAY NAME2 @18333

COPY_EXISTING ~medopk04.cre~ ~override~
	SAY NAME1 @18334
	SAY NAME2 @18334

COPY_EXISTING ~medopk05.cre~ ~override~
	SAY NAME1 @18335
	SAY NAME2 @18335

COPY_EXISTING ~medopk06.cre~ ~override~
	SAY NAME1 @18336
	SAY NAME2 @18336

COPY_EXISTING ~medopk07.cre~ ~override~
	SAY NAME1 @18337
	SAY NAME2 @18337

COPY_EXISTING ~medopk08.cre~ ~override~
	SAY NAME1 @18338
	SAY NAME2 @18338

COPY_EXISTING ~medopk09.cre~ ~override~
	SAY NAME1 @18339
	SAY NAME2 @18339

COPY_EXISTING ~medopk10.cre~ ~override~
	ADD_MEMORIZED_SPELL ~spwi112~ #1 ~wizard~ (8)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi523~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~mems096~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi911g~ #8 ~wizard~ (1)
	SAY NAME1 @18340
	SAY NAME2 @18340

COPY_EXISTING ~medopk11.cre~ ~override~
	ADD_MEMORIZED_SPELL ~spwi112~ #1 ~wizard~ (8)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi432~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #4 ~wizard~ (4)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi560%~
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #6 ~wizard~ (2)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi753%~
	ADD_MEMORIZED_SPELL ~spwi815~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi952~ #8 ~wizard~ (1)
	SAY NAME1 @18341
	SAY NAME2 @18341

COPY_EXISTING ~medopk12.cre~ ~override~
	ADD_MEMORIZED_SPELL ~spwi112~ #1 ~wizard~ (8)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi430~ #3 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi503~ #4 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi514~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi523~ #4 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi611~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #6 ~wizard~ (2)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi760%~
	ADD_MEMORIZED_SPELL ~spwi812~ #7 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~MEPHSPL~ #7 ~wizard~ (1)
	REPLACE_TEXTUALLY ~MEPHSPL~ ~%mewi863%~
	ADD_MEMORIZED_SPELL ~spwi903~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi922~ #8 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~mewi965~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mems906~ #8 ~wizard~ (1)
	SAY NAME1 @18342
	SAY NAME2 @18342

COPY_EXISTING ~medopk13.cre~ ~override~
	SAY NAME1 @18343
	SAY NAME2 @18343

COPY_EXISTING ~medjinno.cre~ ~override~
	ADD_MEMORIZED_SPELL ~mepr763~ #6 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mepr764~ #6 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mewi965~ #8 ~wizard~ (1)
	SAY NAME1 @18209
	SAY NAME2 @18209

COPY_EXISTING ~medralen.cre~ ~override~
	SAY NAME1 @18210
	SAY NAME2 @18210

COPY_EXISTING ~meeagleg.cre~ ~override~
	SAY NAME1 @18288
	SAY NAME2 @18288
	ADD_CRE_ITEM ~meflying~ #0 #0 #0 ~NONE~ ~LRING~
	ADD_CRE_ITEM ~mebirdps~ #0 #0 #0 ~NONE~ ~RRING~
	WRITE_SHORT animation sloteaglelargedecimal

COPY_EXISTING ~meelarag.cre~ ~override~
	SAY NAME1 @18211
	SAY NAME2 @18211

COPY_EXISTING ~meelogre.cre~ ~override~
	SAY NAME1 @18212
	SAY NAME2 @18212

COPY_EXISTING ~meergiel.cre~ ~override~
	SAY NAME1 @18213
	SAY NAME2 @18213

COPY_EXISTING ~meetter2.cre~ ~override~
	SAY NAME1 @18214
	SAY NAME2 @18214

COPY_EXISTING ~meexgore.cre~ ~override~
	WRITE_SHORT animation slotgorecreaturedecimal

COPY_EXISTING ~mefibren.cre~ ~override~
	SAY NAME1 @18215
	SAY NAME2 @18215
	ADD_MEMORIZED_SPELL ~mepr155~ #0 ~priest~ (2)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr155~ ~%mepr155%~

COPY_EXISTING ~mefloof.cre~ ~override~
	SAY NAME1 @18324
	SAY NAME2 @18324

COPY_EXISTING ~mefomori.cre~ ~override~
	WRITE_SHORT animation slotgiantfomoriancolossusdecimal
	SAY NAME1 @18216
	SAY NAME2 @18216

COPY_EXISTING ~megavolg.cre~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI853~ ~%mewi853%~
	SAY NAME1 @18327
	SAY NAME2 @18327

COPY_EXISTING ~megelati.cre~ ~override~
	SAY NAME1 @18217
	SAY NAME2 @18217

COPY_EXISTING ~meghaglo.cre~ ~override~
	SAY NAME1 @18218
	SAY NAME2 @18218
	SAY BATTLE_CRY1 @18017
	SAY BATTLE_CRY2 ~[GHAST LORD, GREATER 2]~ [MEGHAG02]
	SAY SELECT_COMMON1 ~[GHAST LORD, GREATER 6]~ [MEGHAG06]
	SAY SELECT_COMMON2 ~[GHAST LORD, GREATER 3]~ [MEGHAG03]
	SAY DAMAGE ~[GHAST LORD, GREATER 4]~ [MEGHAG04]
	SAY DYING ~[GHAST LORD, GREATER 5]~ [MEGHAG05]
	WRITE_SHORT animation slotghastlargedecimal

COPY_EXISTING ~meghaglo.cre~ ~override/meghagla.cre~
	WRITE_BYTE allegiance eaally
	REMOVE_CRE_ITEM ~BOOK06~ ~BOOK07~ ~BOOK08~

COPY_EXISTING ~megiberm.cre~ ~override~
	SAY NAME1 @18219
	SAY NAME2 @18219

COPY_EXISTING ~meglabgr.cre~ ~override~
	SAY NAME1 @18220
	SAY NAME2 @18220

COPY_EXISTING ~megolmag.cre~ ~override~
	SAY NAME1 @18221
	SAY NAME2 @18221

COPY_EXISTING ~megreel.cre~ ~override~
	SAY NAME1 @18222
	SAY NAME2 @18222

COPY_EXISTING ~megreye1.cre~ ~override~
	SAY NAME1 @18223
	SAY NAME2 @18223

COPY_EXISTING ~megreye2.cre~ ~override~
	SAY NAME1 @18224
	SAY NAME2 @18224

COPY_EXISTING ~megreye3.cre~ ~override~
	SAY NAME1 @18225
	SAY NAME2 @18225

COPY_EXISTING ~megreye4.cre~ ~override~
	SAY NAME1 @18226
	SAY NAME2 @18226

COPY_EXISTING ~megreye5.cre~ ~override~
	SAY NAME1 @18227
	SAY NAME2 @18227

COPY_EXISTING ~megreye6.cre~ ~override~
	SAY NAME1 @18228
	SAY NAME2 @18228

COPY_EXISTING ~megreye7.cre~ ~override~
	SAY NAME1 @18229
	SAY NAME2 @18229

COPY_EXISTING ~mehobc.cre~ ~override~
	SAY NAME1 @18230
	SAY NAME2 @18230

COPY_EXISTING ~mehookgi.cre~ ~override~
	SAY NAME1 @18231
	SAY NAME2 @18231
	WRITE_SHORT animation slothookhorrorlargedecimal

COPY_EXISTING ~mehorsed.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24099) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~meisser.cre~ ~override~
	ADD_MEMORIZED_SPELL ~mepr357~ #2 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~mepr455~ #3 ~priest~ (1)
	SAY NAME1 @18232
	SAY NAME2 @18232

COPY_EXISTING ~mejelldp.cre~ ~override~
	SAY NAME1 @18233
	SAY NAME2 @18233
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24132) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~mejuskal.cre~ ~override~
	SAY NAME1 @18234
	SAY NAME2 @18234

COPY_EXISTING ~mekizska.cre~ ~override~
	SAY NAME1 @18235
	SAY NAME2 @18235

COPY_EXISTING ~mekobo01.cre~ ~override~
	SAY NAME1 @18236
	SAY NAME2 @18236

COPY_EXISTING ~mekobo02.cre~ ~override~
	SAY NAME1 @18237
	SAY NAME2 @18237

COPY_EXISTING ~mekobo03.cre~ ~override~
	SAY NAME1 @18238
	SAY NAME2 @18238

COPY_EXISTING ~mekobo04.cre~ ~override~
	SAY NAME1 @18239
	SAY NAME2 @18239

COPY_EXISTING ~mekobo05.cre~ ~override~
	SAY NAME1 @18240
	SAY NAME2 @18240

COPY_EXISTING ~mekobo06.cre~ ~override~
	SAY NAME1 @18241
	SAY NAME2 @18241

COPY_EXISTING ~mekobo07.cre~ ~override~
	SAY NAME1 @18242
	SAY NAME2 @18242

COPY_EXISTING ~mekobo08.cre~ ~override~
	SAY NAME1 @18243
	SAY NAME2 @18243

COPY_EXISTING ~mekobo10.cre~ ~override~
	SAY NAME1 @18244
	SAY NAME2 @18244

COPY_EXISTING ~mekobo21.cre~ ~override~
	SAY NAME1 @18245
	SAY NAME2 @18245

COPY_EXISTING ~mekobo22.cre~ ~override~
	SAY NAME1 @18246
	SAY NAME2 @18246

COPY_EXISTING ~mekobosu.cre~ ~override~
	SAY NAME1 @18247
	SAY NAME2 @18247

COPY_EXISTING ~mekobrep.cre~ ~override~
	SAY NAME1 @18248
	SAY NAME2 @18248

COPY_EXISTING ~mekrotan.cre~ ~override~
	SAY SELECT_COMMON1 @18249
	SAY SELECT_COMMON2 @18250
	SAY BATTLE_CRY1 @18251

COPY_EXISTING ~melichdr.cre~ ~override~
	SAY NAME1 @18305
	SAY NAME2 @18305
	SAY SELECT_COMMON1 @18306
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEWI651~ ~%mewi651%~

COPY_EXISTING ~melinner.cre~ ~override~
	SAY NAME1 @18286
	SAY NAME2 @18286
	WRITE_SHORT animation slotmooselargedecimal

COPY_EXISTING ~melogari.cre~ ~override~
	SAY NAME1 @18252
	SAY NAME2 @18252

COPY_EXISTING ~memane.cre~ ~override~ ~memanesu.cre~ ~override~ ~memaneta.cre~ ~override~
	SAY NAME1 @18253
	SAY NAME2 @18253

COPY_EXISTING ~memerina.cre~ ~override~
	SAY NAME1 @18254
	SAY NAME2 @18254

COPY_EXISTING ~meminolo.cre~ ~override~
	SAY NAME1 @18255
	SAY NAME2 @18255

COPY_EXISTING ~meminota.cre~ ~override~ ~meminosu.cre~ ~override~
	SAY NAME1 @18256
	SAY NAME2 @18256

COPY_EXISTING ~memistcd.cre~ ~override~
	SAY NAME1 @18257
	SAY NAME2 @18257

COPY_EXISTING ~memistco.cre~ ~override~
	SAY NAME1 @18258
	SAY NAME2 @18258

COPY_EXISTING ~menefari.cre~ ~override~
	SAY NAME1 @18287
	SAY NAME2 @18287

COPY_EXISTING ~menolaha.cre~ ~override~
	SAY NAME1 @18259
	SAY NAME2 @18259

COPY_EXISTING ~menoobdr.cre~ ~override~
	SAY NAME1 @18284
	SAY NAME2 @18284
	WRITE_SHORT animation slotdragonbrassjuveniledecimal
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24105) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~meogreau.cre~ ~override~
	SAY NAME1 @18325
	SAY NAME2 @18325

COPY_EXISTING ~meollast.cre~ ~override~
	SAY NAME1 @18260
	SAY NAME2 @18260

COPY_EXISTING ~meratwe.cre~ ~override~
	SAY NAME1 @18261
	SAY NAME2 @18261
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=ratwererow special=1 END

COPY_EXISTING ~meratwer.cre~ ~override~
	SAY NAME1 @18262
	SAY NAME2 @18262
	LPF ADD_CRE_EFFECT INT_VAR opcode=setspellstate target=1 timing=9 parameter2=ratwererow special=1 END

COPY_EXISTING ~mesahuag.cre~ ~override~
	SAY NAME1 @18263
	SAY NAME2 @18263

COPY_EXISTING ~meshadgr.cre~ ~override~
	SAY NAME1 @18264
	SAY NAME2 @18264

COPY_EXISTING ~meshalak.cre~ ~override~
	SAY NAME1 @18265
	SAY NAME2 @18265

COPY_EXISTING ~meskelbz.cre~ ~override~
	SAY NAME1 @18266
	SAY NAME2 @18266

COPY_EXISTING ~meskelex.cre~ ~override~
	SAY NAME1 @18285
	SAY NAME2 @18285

COPY_EXISTING ~meskulw1.cre~ ~override~ ~meskulw2.cre~ ~override~ ~meskulw3.cre~ ~override~
	SAY NAME1 @18330
	SAY NAME2 @18330
	REPLACE_CRE_ITEM ~MEHELMBL~ #0 #0 #0 ~IDENTIFIED~ ~HELMET~

COPY_EXISTING ~mesnakfi.cre~ ~override~
	SAY NAME1 @18267
	SAY NAME2 @18267

COPY_EXISTING ~mespellh.cre~ ~override~
	SAY NAME1 @18268
	SAY NAME2 @18268

COPY_EXISTING ~mespdvo.cre~ ~override~ ~mespdvo.cre~ ~override/smspid02.cre~
	SAY NAME1 @18269
	SAY NAME2 @18269

COPY_EXISTING ~mesungu3.cre~ ~override~
	SAY NAME1 @18270
	SAY NAME2 @18270

COPY_EXISTING ~mesungu4.cre~ ~override~
	SAY NAME1 @18271
	SAY NAME2 @18271

COPY_EXISTING ~mesungu5.cre~ ~override~
	SAY NAME1 @18272
	SAY NAME2 @18272

COPY_EXISTING ~mesungu6.cre~ ~override~
	SAY NAME1 @18273
	SAY NAME2 @18273

COPY_EXISTING ~mesw1h68.cre~ ~override~
	SAY NAME1 @18274
	SAY NAME2 @18274

COPY_EXISTING ~merugark.cre~ ~override~
	SAY NAME1 @18294
	SAY NAME2 @18294

COPY_EXISTING ~meruri.cre~ ~override~
	SAY NAME1 @18275
	SAY NAME2 @18275
	SAY BATTLE_CRY1 ~[RURINEN 99] AAAAAAAH!~ [AMNSO10]

COPY_EXISTING ~mespelll.cre~ ~override~
	SAY NAME1 @18276
	SAY NAME2 @18276

COPY_EXISTING ~mespdsm1.cre~ ~override/spidsm01.cre~
	WRITE_BYTE gender genderfemale

COPY_EXISTING ~meterull.cre~ ~override~
	SAY NAME1 @18277
	SAY NAME2 @18277

COPY_EXISTING ~metrollf.cre~ ~override~
	SAY NAME1 @18278
	SAY NAME2 @18278

COPY_EXISTING ~metrolll.cre~ ~override~
	SAY NAME1 @18279
	SAY NAME2 @18279

COPY_EXISTING ~mevenge1.cre~ ~override~ ~mevenge2.cre~ ~override~
	SAY NAME1 @18280
	SAY NAME2 @18280

COPY_EXISTING ~mewerels.cre~ ~override~
	SAY NAME1 @18281
	SAY NAME2 @18281

COPY_EXISTING ~meyxbudu.cre~ ~override~
	SAY NAME1 @18282
	SAY NAME2 @18282

COPY_EXISTING ~mezomw20.cre~ ~override~
	SAY NAME1 @18283
	SAY NAME2 @18283

COPY_EXISTING_REGEXP ~.*\.cre~ ~override~
	READ_BYTE race therace
	PATCH_IF (therace = 116) BEGIN //Spider race
		READ_BYTE class theclass
		PATCH_IF (theclass = 141) BEGIN //Wraith Spider class
			WRITE_BYTE general generalundead
		END
		ELSE BEGIN
			WRITE_BYTE general generalanimal
		END
	END
	BUT_ONLY_IF_IT_CHANGES

ACTION_IF FILE_EXISTS_IN_GAME ~X#BG1NPCPhase1.G3~ BEGIN

COPY_EXISTING ~x#bandk.cre~ ~override~ ~x#kaband.cre~ ~override~
	READ_SHORT currenthp banditcurrenthp
	READ_SHORT maxhp banditmaxhp
	WRITE_SHORT currenthp (banditcurrenthp + 12)
	WRITE_SHORT maxhp (banditmaxhp + 12)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=20 END
	IF_EXISTS

COPY_EXISTING_REGEXP ~x#dgnl.*\.cre~ ~override~
	WRITE_LONG killxp 400
	WRITE_SHORT currenthp 35
	WRITE_SHORT maxhp 35
	WRITE_BYTE savevsdeath 20
	WRITE_BYTE savevsbreath 20
	WRITE_BYTE savevsspell 20
	WRITE_BYTE savevswand 20
	WRITE_BYTE savevspolymorph 20
	WRITE_BYTE thac0 5
	WRITE_BYTE attacksperround 3
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_ASCII classscript ~megnoll~ #8
	ADD_MEMORIZED_SPELL ~spwi422~ #3 ~wizard~ (1)

COPY_EXISTING_REGEXP ~x#shdr.*\.cre~ ~override~ ~x#andart.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~x#andart.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE wisdom 22
	WRITE_BYTE levelfirstclass 20
	ADD_MEMORIZED_SPELL ~sppr517~ #4 ~priest~ (4)
	ADD_MEMORIZED_SPELL ~sppr607~ #5 ~priest~ (1)
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=6 END
	IF_EXISTS

COPY_EXISTING ~x#slime.cre~ ~override~
	WRITE_LONG killxp 700
	WRITE_SHORT currenthp 36
	WRITE_SHORT maxhp 36
	WRITE_BYTE strength 17
	WRITE_BYTE attacksperround 2
	REPLACE_CRE_ITEM ~MEJELLGR~ #0 #0 #0 ~UNDROPPABLE~ ~WEAPON1~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24130) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~mesahuag.cre~ ~override/x#saha01.cre~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_BYTE strength 20
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 240 //-16
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII generalscript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco047~ #0 ~innate~ (3)
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV7~
	PATCH_IF MOD_IS_INSTALLED ~bg1npc.tp2~ ~160~ BEGIN
		WRITE_ASCII 0x34 ~x#saha01~ #8
	END
	WRITE_ASCII scriptname ~x#saha01~ #32
	WRITE_ASCII dialogfile ~x#saha01~ #8
	IF_EXISTS

COPY_EXISTING ~mesahuag.cre~ ~override/x#saha02.cre~
	WRITE_ASCII scriptname ~x#saha02~ #32
	WRITE_ASCII dialogfile ~x#saha02~ #8
	IF_EXISTS

COPY_EXISTING ~x#seasn.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 118
	WRITE_SHORT maxhp 118
	WRITE_BYTE strength 24
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 19
	WRITE_BYTE savevsbreath 8
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevsspell 8
	WRITE_BYTE savevspolymorph 8
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~sppr426~ END
	IF_EXISTS

COPY_EXISTING ~x#tanari.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 900
	WRITE_SHORT maxhp 900
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE strength 24
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 24
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE fireresistance 100
	WRITE_BYTE elecresistance 50
	WRITE_BYTE thac0 253 //-3
	WRITE_BYTE levelfirstclass 30
	WRITE_ASCII racescript ~meinnate~ #8
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (9)
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (9)
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (9)
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV6~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV8~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=(0 - 50) END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~x#shdr6.bcs~ ~override~ ~x#shdr8.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!GlobalTimerNotExpired(\"X#DCA\",\"LOCALS\")~ ~True()~
	END
	IF_EXISTS

COPY_EXISTING ~x#andart.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!GlobalTimerNotExpired(\"X#ACA\",\"LOCALS\")~ ~True()~
	END
	IF_EXISTS

COPY_EXISTING ~ar4500.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~Global(\"X#ImCuts\",\"AR4500\",0)~ ~Global("X#ImCuts","AR4500",0)
InParty("Imoen")~
	END
	BUT_ONLY_IF_IT_CHANGES
	IF_EXISTS

COPY_EXISTING ~x#ansper.itm~ ~override~ ~x#jaclub.itm~ ~override~
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=castspell parameter1=20 END

END

ACTION_IF MOD_IS_INSTALLED ~Setup-shadowadept.tp2~ ~0~ BEGIN

COPY_EXISTING_REGEXP ~c0satalk.dlg~ ~override~ ~c0sascr[1-9].dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClassLevelGT(Myself,WIZARD,[0-9]+)~ ~ClassLevelGT(Myself,WIZARD,0)~
	END
	IF_EXISTS

COPY_EXISTING_REGEXP ~c0sakryn.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItemCreate(\"c0sascr3\",LastTalkedToBy(Myself),1,0,0)~ ~GiveItemCreate("c0sascr7",LastTalkedToBy(Myself),1,0,0)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItemCreate(\"c0sascr4\",LastTalkedToBy(Myself),1,0,0)~ ~GiveItemCreate("c0sascr8",LastTalkedToBy(Myself),1,0,0)
GiveItemCreate("c0sascr9",LastTalkedToBy(Myself),1,0,0)~
	END
	IF_EXISTS

COPY_EXISTING ~c0samag1.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 100
	WRITE_SHORT maxhp 100
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 21
	WRITE_BYTE wisdom 21
	WRITE_BYTE charisma 22
	WRITE_BYTE thac0 17
	WRITE_BYTE levelfirstclass 12
	ADD_MEMORIZED_SPELL ~c0sa202~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa603~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~c0sa702~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa704~ #6 ~wizard~ (5)
	REPLACE_CRE_ITEM ~C0SASCR5~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	REPLACE_CRE_ITEM ~C0SASCR6~ #0 #0 #0 ~IDENTIFIED~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~c0samag2.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 23
	WRITE_BYTE wisdom 23
	WRITE_BYTE charisma 23
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 16
	ADD_MEMORIZED_SPELL ~c0sa404~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa603~ #5 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~c0sa705~ #6 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~c0sa801~ #7 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa812~ #7 ~wizard~ (1)
	REPLACE_CRE_ITEM ~C0SASCR7~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	REPLACE_CRE_ITEM ~C0SASCR8~ #0 #0 #0 ~IDENTIFIED~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~c0samag3.cre~ ~override~
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 250
	WRITE_SHORT maxhp 250
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 18
	ADD_MEMORIZED_SPELL ~c0sa404~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa505~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa610~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa710~ #6 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~c0sa801~ #7 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~c0sa902~ #8 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa906~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~C0SASCR8~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	REPLACE_CRE_ITEM ~C0SASCR9~ #0 #0 #0 ~IDENTIFIED~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicresistance target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~c0samag4.cre~ ~override~
	WRITE_LONG killxp 2500
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE intelligence 24
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 9
	ADD_MEMORIZED_SPELL ~c0sa402~ #3 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa510~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa803~ #7 ~wizard~ (10)
	ADD_MEMORIZED_SPELL ~c0sa907~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~C0SASCR4~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	REPLACE_CRE_ITEM ~C0SASCR5~ #0 #0 #0 ~IDENTIFIED~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~c0samag5.cre~ ~override~
	WRITE_LONG killxp 7500
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_BYTE intelligence 22
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 22
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 14
	REMOVE_MEMORIZED_SPELL ~c0sa202~
	ADD_MEMORIZED_SPELL ~c0sa603~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa708~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa710~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~c0sa901~ #8 ~wizard~ (1)
	REPLACE_CRE_ITEM ~C0SASCR6~ #0 #0 #0 ~IDENTIFIED~ ~INV1~
	REPLACE_CRE_ITEM ~C0SASCR7~ #0 #0 #0 ~IDENTIFIED~ ~INV2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~c0sadept.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~NearestEnemyOf,~ ~NearestEnemyOf(Myself),~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~NearestEnemyOf)~ ~NearestEnemyOf(Myself))~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~[^t!]Global(\"OH_Active\",\"LOCALS\",1)~ ~True()~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~!CheckStatGT(Myself,0,AURACLEANSING)~ ~True()~
	END
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~Setup-ExtraExpandedEnhancedEncounters.tp2~ ~0~ BEGIN

COPY_EXISTING ~olbimmy.cre~ ~override~
	WRITE_LONG killxp 1600
	WRITE_SHORT currenthp 79
	WRITE_SHORT maxhp 79
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 73
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 15
	WRITE_BYTE intelligence 16
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 2
	REPLACE_CRE_ITEM ~bow17~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=1 parameter1=20 END
	IF_EXISTS

COPY_EXISTING ~oldaenni.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 88
	WRITE_SHORT maxhp 88
	WRITE_BYTE intelligence 21
	WRITE_BYTE wisdom 17
	WRITE_BYTE charisma 16
	WRITE_BYTE thac0 17
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~medaenni~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi211~ #1 ~wizard~ (4)
	ADD_MEMORIZED_SPELL ~spwi308~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi432~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi508~ #4 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi557~ #4 ~wizard~ (3)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi557~ ~%mewi557%~
	ADD_MEMORIZED_SPELL ~spwi724~ #6 ~wizard~ (1)
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~SCACID~ #1 #0 #0 ~IDENTIFIED~ ~INV7~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastinglevel target=1 timing=9 parameter1=10 parameter2=wizard END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~olfdrake.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 300
	WRITE_SHORT maxhp 300
	WRITE_SHORT naturalac 65524 //-12
	WRITE_SHORT effectiveac 65524 //-12
	WRITE_SHORT animation slotwyvernreallybigdecimal
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 23
	WRITE_BYTE constitution 23
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE thac0 4
	WRITE_BYTE attacksperround 2
	WRITE_ASCII scriptname ~CORWYVRN~ #32
	WRITE_ASCII racescript ~mefdrake~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	REPLACE_CRE_ITEM ~~ #0 #0 #0 ~NONE~ ~WEAPON2~
	REPLACE_CRE_ITEM ~MEFLYING~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MERINGDR~ #0 #0 #0 ~NONE~ ~CLOAK~
	ADD_CRE_ITEM ~MISC52~ #0 #0 #0 ~UNSTEALABLE~ ~QITEM1~
	ADD_CRE_ITEM ~MISC07~ #3171 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~MISC43~ #8 #0 #0 ~NONE~ ~INV4~
	ADD_CRE_ITEM ~MISC45~ #1 #0 #0 ~NONE~ ~INV5~
//	ADD_CRE_ITEM ~MEHAMM70~ #0 #0 #0 ~NONE~ ~INV6~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=2 parameter2=3 STR_VAR resource=~menofly~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems055~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~spin695~ END

COPY_EXISTING ~olgnollc.cre~ ~override~
//	SAY NAME1 @18295
//	SAY NAME2 @18295
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 75
	WRITE_SHORT maxhp 75
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 19
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 4
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~megnoll~ #8
	ADD_MEMORIZED_SPELL ~spwi613~ #5 ~wizard~
	ADD_MEMORIZED_SPELL ~mewi952~ #8 ~wizard~
//	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi952~ ~%mewi952%~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate1 target=1 timing=9 parameter1=200 parameter2=2 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=2 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspelllevel target=1 timing=1 parameter1=3 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=minorglobe target=1 timing=1 parameter2=0 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=setstate target=1 timing=1 parameter2=66 resist_dispel=3 sectype=secondaryspellprotections STR_VAR effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr105~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr211~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr302~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr304~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr313~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~sppr314~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi213~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi215~ effsource=~spwi406~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=1 resist_dispel=3 sectype=secondaryspellprotections STR_VAR resource=~spwi313~ effsource=~spwi406~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24043) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~olgnolll.cre~ ~override~
	WRITE_LONG killxp 900
	WRITE_SHORT currenthp 55
	WRITE_SHORT maxhp 55
	WRITE_BYTE slashingresistance 50
	WRITE_BYTE piercingresistance 50
	WRITE_BYTE crushingresistance 50
	WRITE_BYTE missileresistance 50
	WRITE_BYTE thac0 0
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~megnoll~ #8
	ADD_MEMORIZED_SPELL ~spwi811~ #7 ~wizard~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate1 target=1 timing=9 parameter1=150 parameter2=2 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=RESOLVE_STR_REF(@24043) STR_VAR resource=~meidecre~ END

COPY_EXISTING ~olmeliaq.cre~ ~override~
	WRITE_LONG killxp 650
	WRITE_BYTE dexterity 25
	ADD_MEMORIZED_SPELL ~meco045~ #0 ~innate~ (1)
	LPF ADD_CRE_SCRIPT STR_VAR script=~meinnate~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=13 special=2 STR_VAR resource=~mequickn~ END
	IF_EXISTS

COPY_EXISTING ~olskel1w.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=iftookdamage STR_VAR resource=~spwi922~ END
	IF_EXISTS

COPY_EXISTING ~olskel2m.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=iftookdamage STR_VAR resource=~spwi308~ END
	IF_EXISTS

COPY_EXISTING ~olskel3m.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=iftookdamage STR_VAR resource=~spwi615~ END
	IF_EXISTS

COPY_EXISTING ~olskel4p.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=iftookdamage STR_VAR resource=~sppr423~ END
	IF_EXISTS

COPY_EXISTING ~olskel5p.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetnearestenemy parameter2=iftookdamage STR_VAR resource=~sppr617~ END
	IF_EXISTS

COPY_EXISTING ~olskel6g.cre~ ~override~
	WRITE_ASCII classscript ~meolslas~ #8
	IF_EXISTS

COPY_EXISTING ~plat24.itm~ ~override/olplat24.itm~
	WRITE_ASCII icon ~olplat24~ #8
	IF_EXISTS

COPY_EXISTING ~ar4501.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature(\"OLFDRAKE.*)~ ~CreateCreature("OLFDRAKE",[538.600],NE)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature(\"OLGWYVRN.*)~ ~~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature(\"WYVERN.*)~ ~~
	END
	IF_EXISTS

COPY_EXISTING ~ar5405.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"Container1\",DestroyItem(\"SW1H13\"))~ ~~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"Container1\",CreateItem(\"OLSW1H13\",1,1,1))~ ~~
	END
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~ntotsc.tp2~ ~0~ BEGIN

COPY_EXISTING ~mebow81.itm~ ~override/dsgbbow.itm~
	LPF ALTER_EFFECT INT_VAR silent=1 STR_VAR match_resource=~mebow81~ resource=~dsgbbow~ END

COPY_EXISTING ~dswelf1.cre~ ~override~ ~dswelf2.cre~ ~override~
	WRITE_LONG killxp 1400
	WRITE_SHORT currenthp 90
	WRITE_SHORT maxhp 90
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 5
	WRITE_BYTE dexterity 23
	WRITE_BYTE constitution 16
	WRITE_BYTE thac0 12
	WRITE_BYTE levelfirstclass 9
	WRITE_ASCII classscript ~meinnate~ #8
	WRITE_ASCII racescript ~dssylvan~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~spcl121~ #0 ~innate~ (2)
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REMOVE_CRE_ITEM ~dart01~
	REPLACE_CRE_ITEM ~bow01~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~arow05~ #15 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~arow01~ #80 #0 #0 ~NONE~ ~QUIVER2~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissiledamage target=1 timing=9 parameter1=3 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~meinswch~ END
	IF_EXISTS

COPY_EXISTING ~dswelf1e.cre~ ~override~ ~dswelf2e.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 6
	WRITE_BYTE levelfirstclass 15
	WRITE_ASCII classscript ~meinnate~ #8
	WRITE_ASCII racescript ~dssylvan~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spcl121~ #0 ~innate~ (3)
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	REMOVE_CRE_ITEM ~dart01~
	REPLACE_CRE_ITEM ~bow01~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~arow07~ #80 #0 #0 ~UNDROPPABLE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~~ #80 #0 #0 ~NONE~ ~QUIVER2~
	ADD_CRE_ITEM ~arow07~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissiledamage target=1 timing=9 parameter1=5 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~meinswch~ END
	IF_EXISTS

COPY_EXISTING ~dsfeydo.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 126
	WRITE_SHORT maxhp 126
	WRITE_SHORT naturalac 65524 //-12
	WRITE_SHORT effectiveac 65524 //-12
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 18
	WRITE_BYTE thac0 0
	WRITE_BYTE levelfirstclass 21
	WRITE_ASCII classscript ~meinnate~ #8
	WRITE_ASCII racescript ~medsfeyd~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco037~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco039~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spcl121~ #0 ~innate~ (5)
	SET_BG2_PROFICIENCY PROFICIENCYSHORTBOW 5
	REMOVE_CRE_ITEM ~sper01~ ~dart01~ ~arow01~ ~arow02~
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV6~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissilethac0 target=1 timing=9 parameter1=7 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymissiledamage target=1 timing=9 parameter1=7 END
	IF_EXISTS

COPY_EXISTING ~ntaschma.cre~ ~override~
	WRITE_LONG killxp 6000
	WRITE_SHORT currenthp 160
	WRITE_SHORT maxhp 160
	WRITE_BYTE strength 20
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 20
	WRITE_BYTE intelligence 20
	WRITE_BYTE wisdom 20
	WRITE_BYTE charisma 20
	WRITE_BYTE thac0 6
	WRITE_BYTE class classfightermagecleric
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_BYTE levelthirdclass 15
	WRITE_ASCII classscript ~mentasch~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr201~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr211~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mepr451~ #3 ~priest~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr451~ ~%mepr451%~
	ADD_MEMORIZED_SPELL ~spwi111~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi411~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi608~ #5 ~wizard~ (1)
	REPLACE_CRE_ITEM ~bow02~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	REPLACE_CRE_ITEM ~arow06~ #10 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mentblha~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~mentblha~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablebutton END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END
	IF_EXISTS

COPY_EXISTING ~ntblhcul.cre~ ~override~ ~ntblhcu1.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE intelligence 18
	WRITE_BYTE wisdom 18
	WRITE_BYTE charisma 18
	WRITE_BYTE thac0 11
	WRITE_BYTE class classfightermagecleric
	WRITE_ASCII classscript ~mentbhc1~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr201~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr211~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mepr451~ #3 ~priest~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr451~ ~%mepr451%~
	ADD_MEMORIZED_SPELL ~spwi111~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi312~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi411~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi608~ #5 ~wizard~ (1)
	REPLACE_CRE_ITEM ~bow02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mentblha~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~mentblha~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablebutton END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END
	IF_EXISTS

COPY_EXISTING ~ntbrenta.cre~ ~override~
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_BYTE dexterity 16
	WRITE_BYTE thac0 5
	WRITE_BYTE levelfirstclass 16
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitcavalier
	END
	REPLACE_CRE_ITEM ~sw1hseek~ #0 #0 #0 ~IDENTIFIED~ ~WEAPON3~ EQUIP
	SET_BG2_PROFICIENCY PROFICIENCYHALBERD 3
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYTWOHANDEDSWORD 3
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 0
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 0
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 3
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_MEMORIZED_SPELL ~meha150~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco041~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco296~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco297~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco354~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~ntdeath1.cre~ ~override~
	WRITE_LONG killxp 25000
	WRITE_SHORT currenthp 600
	WRITE_SHORT maxhp 600
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE general generalundead
	WRITE_BYTE strength 19
	WRITE_BYTE dexterity 19
	WRITE_BYTE constitution 19
	WRITE_BYTE intelligence 19
	WRITE_BYTE wisdom 19
	WRITE_BYTE charisma 25
	WRITE_BYTE fireresistance 60
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 30
	WRITE_BYTE acidresistance 30
	WRITE_BYTE magicresistance 15
	WRITE_BYTE magicfireresistance 30
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 253 //-3
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 1
	WRITE_ASCII overridescript ~none~ #8
	WRITE_ASCII classscript ~none~ #8
	WRITE_ASCII racescript ~medeathk~ #8
	WRITE_ASCII generalscript ~none~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV11~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV13~
	ADD_CRE_ITEM ~ring99~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=30 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems059~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems097~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems269~ END
	IF_EXISTS

COPY_EXISTING ~ntdogfun.cre~ ~override~ ~ntdogfu1.cre~ ~override~ ~ntdogfu2.cre~ ~override~
	WRITE_LONG killxp 400
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 76
	ADD_MEMORIZED_SPELL ~mems036~ #0 ~innate~
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mentdofu~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	IF_EXISTS

COPY_EXISTING ~ntdoombe.cre~ ~override~
	WRITE_LONG killxp 12000
	WRITE_SHORT currenthp 380
	WRITE_SHORT maxhp 380
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 16
	WRITE_BYTE constitution 20
	WRITE_BYTE wisdom 15
	WRITE_BYTE charisma 22
	WRITE_BYTE thac0 248 //-8
	WRITE_BYTE attacksperround 9 //3.5
	WRITE_BYTE missileresistance 0
	WRITE_BYTE magicresistance 40
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE levelfirstclass 30
	WRITE_BYTE levelsecondclass 30
	WRITE_BYTE levelthirdclass 30
	WRITE_ASCII classscript ~redbake~ #8
	WRITE_ASCII racescript ~medoomsa~ #8
	WRITE_ASCII generalscript ~wtasight~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco086~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco087~ #0 ~innate~
	REMOVE_CRE_ITEMS
	REPLACE_CRE_ITEM ~medoombe~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book03~ #1 #0 #0 ~NONE~ ~INV1~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV2~
	ADD_CRE_ITEM ~book04~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~book07~ #1 #0 #0 ~NONE~ ~INV4~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=50 END
	IF_EXISTS

COPY_EXISTING ~ntdraagi.cre~ ~override~
	WRITE_LONG killxp 20000
	WRITE_SHORT currenthp 240
	WRITE_SHORT maxhp 240
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 25
	WRITE_BYTE constitution 25
	WRITE_BYTE intelligence 25
	WRITE_BYTE wisdom 25
	WRITE_BYTE charisma 25
	WRITE_BYTE thac0 6
	WRITE_BYTE class classfightermagecleric
	WRITE_BYTE levelfirstclass 20
	WRITE_BYTE levelsecondclass 20
	WRITE_BYTE levelthirdclass 20
	WRITE_ASCII overridescript ~shoutdlg~ #8
	WRITE_ASCII classscript ~mentdraa~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr201~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr211~ #1 ~priest~ (1)
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~sppr718~ #6 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~spwi111~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi302~ #2 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi321~ #2 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi412~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi608~ #5 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~mewi852~ #7 ~wizard~ (1)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mewi852~ ~%mewi852%~
	ADD_MEMORIZED_SPELL ~spwi913~ #8 ~wizard~ (2)
	REPLACE_CRE_ITEM ~bow04~ #0 #0 #0 ~NONE~ ~WEAPON2~ EQUIP
	REPLACE_CRE_ITEM ~mearow94~ #15 #0 #0 ~NONE~ ~QUIVER1~ EQUIP
	REPLACE_CRE_ITEM ~arow98~ #80 #0 #0 ~NONE~ ~QUIVER2~
	SET_BG2_PROFICIENCY PROFICIENCYLONGBOW 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mentblha~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=rangedhiteffect target=1 timing=9 STR_VAR resource=~mentblha~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablebutton END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=disablespellcasting END
	IF_EXISTS

COPY_EXISTING ~ntforeog.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 105
	WRITE_SHORT maxhp 105
	WRITE_SHORT naturalac 5
	WRITE_SHORT effectiveac 5
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 19
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 16
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 8
	WRITE_BYTE savevspolymorph 11
	WRITE_BYTE levelfirstclass 17
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mentforo~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~SPWI319X~ #1 #0 #0 ~IDENTIFIED~ ~INV3~
	ADD_CRE_ITEM ~SCRL2B~ #1 #0 #0 ~IDENTIFIED~ ~INV4~
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi112~ #0 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi212~ #1 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi328~ #2 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi408~ #3 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi715~ #6 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi716~ #6 ~wizard~ (1)
//	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~ntgghot1.cre~ ~override~
	WRITE_LONG killxp 35000
	WRITE_SHORT currenthp 900
	WRITE_SHORT maxhp 900
	WRITE_SHORT naturalac 65527 //-9
	WRITE_SHORT effectiveac 65527 //-9
	WRITE_BYTE general generalundead
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 21
	WRITE_BYTE constitution 24
	WRITE_BYTE intelligence 17
	WRITE_BYTE wisdom 19
	WRITE_BYTE charisma 25
	WRITE_BYTE fireresistance 60
	WRITE_BYTE coldresistance 100
	WRITE_BYTE elecresistance 30
	WRITE_BYTE acidresistance 30
	WRITE_BYTE magicresistance 15
	WRITE_BYTE magicfireresistance 30
	WRITE_BYTE magiccoldresistance 100
	WRITE_BYTE savevsbreath 0
	WRITE_BYTE savevsdeath 0
	WRITE_BYTE savevsspell 0
	WRITE_BYTE savevswand 0
	WRITE_BYTE savevspolymorph 0
	WRITE_BYTE thac0 251 //-5
	WRITE_BYTE attacksperround 2
	WRITE_BYTE levelfirstclass 25
	WRITE_BYTE levelsecondclass 25
	WRITE_ASCII generalscript ~mentghot~ #8
	ADD_CRE_ITEM ~BOOK03~ #1 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~BOOK04~ #1 #0 #0 ~NONE~ ~INV5~
	ADD_CRE_ITEM ~BOOK05~ #1 #0 #0 ~NONE~ ~INV7~
	ADD_CRE_ITEM ~BOOK06~ #1 #0 #0 ~NONE~ ~INV9~
	ADD_CRE_ITEM ~BOOK07~ #1 #0 #0 ~NONE~ ~INV11~
	ADD_CRE_ITEM ~BOOK08~ #1 #0 #0 ~NONE~ ~INV13~
	ADD_CRE_ITEM ~ring99~ #0 #0 #0 ~NONE~ ~LRING~
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=50 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymagicdamageresistance target=1 timing=9 parameter1=30 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems059~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems097~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems269~ END
	IF_EXISTS

COPY_EXISTING ~nthells1.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_SHORT naturalac 65529 //-7
	WRITE_SHORT effectiveac 65529 //-7
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 57
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 11
	WRITE_BYTE fireresistance 125
	WRITE_BYTE coldresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 206 //-50%
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~mesalfro~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems232~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter2=9 STR_VAR resource=~mesalfia~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	IF_EXISTS

COPY_EXISTING ~nthells2.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 280
	WRITE_SHORT maxhp 280
	WRITE_SHORT naturalac 65525 //-11
	WRITE_SHORT effectiveac 65525 //-11
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 57
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 11
	WRITE_BYTE fireresistance 125
	WRITE_BYTE coldresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 206 //-50%
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 21
	WRITE_ASCII racescript ~mesalfro~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems232~ #0 ~innate~ (2)
	ADD_MEMORIZED_SPELL ~spwi810~ #2 ~wizard~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter2=9 STR_VAR resource=~mesalfia~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	IF_EXISTS

COPY_EXISTING ~nthellsa.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 280
	WRITE_SHORT maxhp 280
	WRITE_SHORT naturalac 65525 //-11
	WRITE_SHORT effectiveac 65525 //-11
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 57
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 11
	WRITE_BYTE fireresistance 125
	WRITE_BYTE coldresistance 206 //-50%
	WRITE_BYTE magiccoldresistance 206 //-50%
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 21
	WRITE_ASCII racescript ~mesalfro~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems232~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spwi524~ #4 ~wizard~ (3)
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter2=9 STR_VAR resource=~mesalfia~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	IF_EXISTS

COPY_EXISTING ~ntkamira.cre~ ~override~
	WRITE_SHORT currenthp 114
	WRITE_SHORT maxhp 114
	WRITE_BYTE strength 25
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE constitution 3
	WRITE_BYTE levelfirstclass 17
	READ_SHORT kit thekit
	PATCH_IF thekit = kittrueclass OR thekit = 0 BEGIN
		WRITE_SHORT kit kitkensai
	END
	REMOVE_CRE_ITEM ~helm01~ ~leat04~ ~chan04~ ~plat01~ ~dagg01~ ~xbow04~ ~bolt01~
	SET_BG2_PROFICIENCY PROFICIENCYDAGGER 0
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 0
	SET_BG2_PROFICIENCY PROFICIENCYSCIMITARWAKISASHININJATO 5
	SET_BG2_PROFICIENCY PROFICIENCYLONGSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYBASTARDSWORD 5
	SET_BG2_PROFICIENCY PROFICIENCYKATANA 5
	SET_BG2_PROFICIENCY PROFICIENCYMACE 5
	SET_BG2_PROFICIENCY PROFICIENCYAXE 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 1
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (4)
	ADD_MEMORIZED_SPELL ~meco113~ #0 ~innate~ (4)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=modifyac END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=9 parameter1=5 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymeleedamage target=1 timing=9 parameter1=5 parameter2=0 END
	IF_EXISTS

COPY_EXISTING ~mekrotan.cre~ ~override/ntkrotan.cre~
	SAY INITIAL_MEETING @18298
	SAY BATTLE_CRY1 @18300
	WRITE_ASCII dialogue ~ntkrotan~ #8
	WRITE_ASCII scriptname ~ntkrotan~ #8
	WRITE_ASCII classscript ~ntkrotan~ #8
	LPF DELETE_EFFECT INT_VAR check_globals=1 match_opcode=imprisonment END
	IF_EXISTS

COPY_EXISTING ~ntlegian.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 16
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 6
	WRITE_BYTE attacksperround 5
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~meco034~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco038~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spcl423~ #0 ~innate~ (4)
	ADD_CRE_ITEM ~book06~ #1 #0 #0 ~NONE~ ~INV6~
	SET_BG2_PROFICIENCY PROFICIENCYCROSSBOW 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyattacksperround target=1 timing=9 parameter1=5 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~ntmariel.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 108
	WRITE_SHORT maxhp 108
	WRITE_BYTE strength 18
	WRITE_BYTE exceptionalstrength 100
	WRITE_BYTE dexterity 18
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 16
	WRITE_BYTE savevsbreath 11
	WRITE_BYTE savevsdeath 8
	WRITE_BYTE savevsspell 9
	WRITE_BYTE savevswand 9
	WRITE_BYTE savevspolymorph 10
	WRITE_BYTE thac0 6
	WRITE_BYTE class classfighterthief
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 15
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~mecultas~ #8
	WRITE_ASCII generalscript ~meinnate~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_MEMORIZED_SPELL ~mems083~ #0 ~innate~ (1)
	REMOVE_CRE_ITEM ~sw1h10~
	REPLACE_CRE_ITEM ~sw1h08~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	ADD_CRE_ITEM ~book05~ #1 #0 #0 ~NONE~ ~INV6~
	SET_BG2_PROFICIENCY PROFICIENCYSHORTSWORD 2
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 2
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~meintele~ END
	IF_EXISTS

COPY_EXISTING ~ntmordor.cre~ ~override~
	WRITE_SHORT currenthp 105
	WRITE_SHORT maxhp 105
	WRITE_BYTE strength 17
	WRITE_BYTE dexterity 17
	WRITE_BYTE constitution 21
	WRITE_BYTE levelfirstclass 12
	WRITE_BYTE levelsecondclass 12
	SET_BG2_PROFICIENCY PROFICIENCYWARHAMMER 2
	SET_BG2_PROFICIENCY PROFICIENCYCLUB 2
	SET_BG2_PROFICIENCY PROFICIENCYMACE 2
	SET_BG2_PROFICIENCY PROFICIENCYFLAILMORNINGSTAR 2
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 2
	SET_BG2_PROFICIENCY PROFICIENCYSLING 2
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_KNOWN_SPELL ~sppr201~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr203~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr213~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr214~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr312~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr406~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr412~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr422~ #3 ~priest~
	ADD_KNOWN_SPELL ~mepr451~ #3 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr451~ ~%mepr451%~
	ADD_KNOWN_SPELL ~sppr507~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr509~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr513~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr518~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr603~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr617~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr701~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr725~ #6 ~priest~
	ADD_KNOWN_SPELL ~mepr753~ #6 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr753~ ~%mepr753%~
	ADD_MEMORIZED_SPELL ~meco030~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco031~ #0 ~innate~ (1)
	ADD_MEMORIZED_SPELL ~meco052~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~meco054~ #0 ~innate~ (1)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=modifyfatigue END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	PATCH_IF MOD_IS_INSTALLED ~EEex.tp2~ ~0~ BEGIN
		LPF ADD_CRE_EFFECT INT_VAR opcode=wildsurge target=1 timing=9 parameter1=90 parameter2=2 special=1 END
	END
	IF_EXISTS

COPY_EXISTING ~ntorpeho.cre~ ~override~
	WRITE_SHORT currenthp 250
	WRITE_SHORT maxhp 250
	WRITE_BYTE elecresistance 99
	WRITE_BYTE strength 16
	WRITE_BYTE intelligence 16
	WRITE_BYTE wisdom 16
	WRITE_BYTE levelfirstclass 15
	WRITE_BYTE levelsecondclass 18
	SET_BG2_PROFICIENCY PROFICIENCYQUARTERSTAFF 4
	LPF GIVE_CORRECT_PRIEST_SPELLS END
	ADD_KNOWN_SPELL ~sppr208~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr211~ #1 ~priest~
	ADD_KNOWN_SPELL ~sppr301~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr311~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr314~ #2 ~priest~
	ADD_KNOWN_SPELL ~sppr405~ #3 ~priest~
	ADD_KNOWN_SPELL ~sppr416~ #3 ~priest~
	ADD_KNOWN_SPELL ~mepr451~ #3 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr451~ ~%mepr451%~
	ADD_KNOWN_SPELL ~sppr508~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr512~ #4 ~priest~
	ADD_KNOWN_SPELL ~sppr611~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr618~ #5 ~priest~
	ADD_KNOWN_SPELL ~sppr708~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr709~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr714~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr715~ #6 ~priest~
	ADD_KNOWN_SPELL ~sppr734~ #6 ~priest~
	ADD_KNOWN_SPELL ~mepr751~ #6 ~priest~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr751~ ~%mepr751%~
	ADD_MEMORIZED_SPELL ~meco291~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco292~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco295~ #0 ~innate~
	ADD_MEMORIZED_SPELL ~meco151~ #0 ~innate~
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=27 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=displayportraiticon target=1 timing=9 parameter2=159 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=auracleansing target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifydetectillusion target=1 timing=9 parameter1=100 parameter2=0 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	IF_EXISTS

COPY_EXISTING ~ntsalmi1.cre~ ~override~ ~ntsalmi3.cre~ ~override~
	WRITE_LONG killxp 5000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_SHORT naturalac 65529 //-7
	WRITE_SHORT effectiveac 65529 //-7
	WRITE_BYTE strength 19
	WRITE_BYTE exceptionalstrength 57
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 11
	WRITE_BYTE coldresistance 125
	WRITE_BYTE thac0 9
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII racescript ~mesalfro~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems258~ #0 ~innate~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
//	REPLACE_CRE_ITEM ~mesalfro~ #0 #0 #0 ~UNSTEALABLE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter2=9 STR_VAR resource=~mesalfra~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	IF_EXISTS

COPY_EXISTING ~ntsalmi2.cre~ ~override~
	WRITE_LONG killxp 10000
	WRITE_SHORT currenthp 280
	WRITE_SHORT maxhp 280
	WRITE_SHORT naturalac 65525 //-11
	WRITE_SHORT effectiveac 65525 //-11
	WRITE_BYTE strength 21
	WRITE_BYTE exceptionalstrength 57
	WRITE_BYTE dexterity 20
	WRITE_BYTE constitution 18
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 12
	WRITE_BYTE charisma 11
	WRITE_BYTE coldresistance 125
	WRITE_BYTE thac0 0
	WRITE_BYTE attacksperround 3
	WRITE_BYTE levelfirstclass 21
	WRITE_ASCII racescript ~mesalfro~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~mems258~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spwi327~ #2 ~wizard~ (1)
	SET_BG2_PROFICIENCY PROFICIENCYSPEAR 5
//	REPLACE_CRE_ITEM ~mesalfro~ #0 #0 #0 ~UNSTEALABLE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyallsaves target=1 timing=9 parameter1=6 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter2=9 STR_VAR resource=~mesalfra~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=haste2 target=1 timing=9 END
	IF_EXISTS

COPY_EXISTING ~ntsilua.cre~ ~override~
	WRITE_LONG killxp 3600
	WRITE_SHORT currenthp 96
	WRITE_SHORT maxhp 96
	WRITE_SHORT naturalac 65530 //-6
	WRITE_SHORT effectiveac 65530 //-6
	WRITE_BYTE slashingresistance 35
	WRITE_BYTE piercingresistance 35
	WRITE_BYTE crushingresistance 70
	WRITE_BYTE missileresistance 35
	WRITE_BYTE intelligence 19
	WRITE_BYTE charisma 25
	WRITE_BYTE class classmage
	WRITE_BYTE levelfirstclass 18
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~initdlg~ #8
	WRITE_ASCII racescript ~mesil~ #8
	WRITE_ASCII generalscript ~mesirine~ #8
	WRITE_ASCII defaultscript ~wtarsgt~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi303~ #2 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi818~ #7 ~wizard~ (1)
	IF_EXISTS

COPY_EXISTING ~ntwolfva.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 92
	WRITE_SHORT maxhp 92
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~mewolfva~ #8
	WRITE_ASCII racescript ~ntwolfva~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	ADD_CRE_ITEM ~MEWOLFVA~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mems052~ END
	IF_EXISTS

COPY_EXISTING ~ntwyvern.cre~ ~override~
	SAY NAME1 @18302
	SAY NAME2 @18302
	WRITE_LONG killxp 15000
	WRITE_SHORT currenthp 500
	WRITE_SHORT maxhp 500
	WRITE_SHORT naturalac 65521 //-15
	WRITE_SHORT effectiveac 65521 //-15
	WRITE_SHORT animation slotwyvernreallybigdecimal
	WRITE_BYTE alignment alignmenttrueneutral
	WRITE_BYTE strength 25
	WRITE_BYTE dexterity 24
	WRITE_BYTE constitution 24
	WRITE_BYTE levelfirstclass 25
	WRITE_BYTE thac0 0
	WRITE_ASCII racescript ~mefdrake~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wdasight~ #8
	REMOVE_CRE_ITEM ~WYVERNF~
	REPLACE_CRE_ITEM ~MEFWYVER~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	REPLACE_CRE_ITEM ~MEFLYING~ #0 #0 #0 ~NONE~ ~LRING~
	REPLACE_CRE_ITEM ~MERINGDR~ #0 #0 #0 ~NONE~ ~BOOTS~
	ADD_CRE_ITEM ~MISC07~ #3654 #0 #0 ~NONE~ ~INV3~
	ADD_CRE_ITEM ~MISC43~ #4 #0 #0 ~NONE~ ~INV4~
//	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=2 parameter2=3 STR_VAR resource=~menofly~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=spellineffective STR_VAR resource=~mems055~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~spin695~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~spin695~ END
	IF_EXISTS

COPY_EXISTING ~ntzombju.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 120
	WRITE_SHORT maxhp 120
	WRITE_BYTE thac0 5
	WRITE_BYTE attacksperround 2
	WRITE_ASCII defaultscript ~wtasight~ #8 //Reverted to base script so SCS can see it
	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=1 parameter1=targetlasthitby parameter2=ifhit STR_VAR resource=~mepull04~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mezomba~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mezombb~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mezomba~ END
	LPF ADD_CRE_EFFECT INT_VAR opcode=meleehiteffect target=1 timing=9 STR_VAR resource=~mezombb~ END
	IF_EXISTS

COPY_EXISTING ~ntcholga.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2352.1487\]~ ~"KOBOLD2",[2352.1487]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2455.1553\]~ ~"KOBOLD5",[2455.1553]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2448.1671\]~ ~"KOBOLD6",[2448.1671]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2378.1810\]~ ~"KOBOLD7",[2378.1810]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2238.1899\]~ ~"KOBOLD8",[2238.1899]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2051.1855\]~ ~"KOBOLD02",[2051.1855]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[1911.1775\]~ ~"KOBOLD03",[1911.1775]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[1858.1656\]~ ~"KOBOLD5",[1858.1656]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[1836.1560\]~ ~"KOBOLD10",[1836.1560]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[1898.1496\]~ ~"KOBOLD11",[1898.1496]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2027.1429\]~ ~"KOBOLD12",[2027.1429]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2157.1452\]~ ~"KOBOLA_E",[2157.1452]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2249.1466\]~ ~"KOBOLA_D",[2249.1466]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBCOMM\",\[2152.1597\]~ ~"KOBOLDAL",[2152.1597]~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature(\"KOBCOMM\",\[2152.1685\],S)~ ~CreateCreature("KOBCOMM",[2152.1685],S)
CreateCreatureOffScreen("KOBOLA_A",S)
CreateCreatureOffScreen("KOBOLA_B",S)
CreateCreatureOffScreen("KOBOLA_C",S)
CreateCreatureOffScreen("KOBOLD_A",S)
CreateCreatureOffScreen("KOBOLD_B",S)
CreateCreatureOffScreen("KOBOLD_C",S)
CreateCreatureOffScreen("KOBOLD_D",S)
CreateCreatureOffScreen("KOBOLD_E",S)
CreateCreatureOffScreen("KOBOLDFL",S)
CreateCreatureOffScreen("KOBBEG1",S)
CreateCreatureOffScreen("KOBBEG2",S)
CreateCreatureOffScreen("KOBBEG3",S)
CreateCreatureOffScreen("MEKOBO01",S)
CreateCreatureOffScreen("MEKOBO02",S)
CreateCreatureOffScreen("MEKOBO03",S)
CreateCreatureOffScreen("MEKOBO04",S)
CreateCreatureOffScreen("MEKOBO05",S)
CreateCreatureOffScreen("MEKOBO06",S)
CreateCreatureOffScreen("MEKOBO07",S)
CreateCreatureOffScreen("MEKOBO08",S)
CreateCreatureOffScreen("MEKOBO21",S)
CreateCreatureOffScreen("MEKOBO22",S)
~
	END
	IF_EXISTS

COPY_EXISTING ~ar11pb.are~ ~override~
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Ghoul~ cre_file=~MEGHAGLO~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Ghast~ cre_file=~MEGHAGLO~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Zombie~ cre_file=~SKELWA02~ END
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~setup-bg1ub.tp2~ ~0~ BEGIN

COPY_EXISTING ~ubmalkal.cre~ ~override~
	WRITE_LONG killxp 4000
	WRITE_SHORT currenthp 102
	WRITE_SHORT maxhp 102
	WRITE_SHORT naturalac 65531 //-5
	WRITE_SHORT effectiveac 65531 //-5
	WRITE_BYTE strength 9
	WRITE_BYTE dexterity 7
	WRITE_BYTE constitution 17
	WRITE_BYTE intelligence 17
	WRITE_BYTE wisdom 7
	WRITE_BYTE charisma 9
	WRITE_BYTE thac0 15
	WRITE_BYTE levelfirstclass 16
	WRITE_ASCII overridescript ~meubmalk~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~meco177~ #0 ~innate~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi431~ #3 ~wizard~ (6)
	ADD_MEMORIZED_SPELL ~spwi615~ #5 ~wizard~ (4)
	LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=slow END
	LPF ADD_CRE_EFFECT INT_VAR opcode=invisibilitydetection target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=1 parameter2=1 special=639 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=30 parameter2=1 special=640 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~meghowst~ END
	IF_EXISTS

COPY_EXISTING ~ubogma01.cre~ ~override~ ~ubogma02.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 80
	WRITE_SHORT maxhp 80
	WRITE_BYTE dexterity 15
	WRITE_BYTE constitution 14
	WRITE_BYTE intelligence 15
	WRITE_BYTE wisdom 6
	WRITE_BYTE charisma 10
	WRITE_BYTE thac0 16
	WRITE_BYTE levelfirstclass 14
	WRITE_ASCII racescript ~meubogma~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~spwi103~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi203~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi217~ #1 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi219~ #1 ~wizard~ (1)
	ADD_MEMORIZED_SPELL ~spwi304~ #2 ~wizard~ (3)
	ADD_MEMORIZED_SPELL ~spwi422~ #3 ~wizard~ (2)
	ADD_MEMORIZED_SPELL ~spwi514~ #4 ~wizard~ (4)
	IF_EXISTS

COPY_EXISTING ~ubsnogol.cre~ ~override~
	WRITE_LONG killxp 3000
	WRITE_SHORT currenthp 160
	WRITE_SHORT maxhp 160
	WRITE_BYTE race 144
	WRITE_BYTE strength 21
	WRITE_BYTE intelligence 3
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 7
	WRITE_BYTE savevswand 7
	WRITE_BYTE savevsspell 7
	WRITE_BYTE savevspolymorph 7
	WRITE_BYTE thac0 236 //-20
	WRITE_BYTE attacksperround 4
	WRITE_ASCII overridescript ~meubgols~ #8
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycriticalhitchance target=1 timing=9 parameter1=20 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=255 parameter2=1 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyspeedfactor target=1 timing=9 parameter1=10 END
	IF_EXISTS

// Making squirrels in Larswood present at all times so the ogre mages can blow them up at all times
COPY_EXISTING ~ar2900.are~ ~override~
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET offset = actoroffset + (i * actorsize)
		READ_ASCII offset thename
		PATCH_IF (~%thename%~ STRING_EQUAL_CASE ~SQUIRR~) BEGIN
			WRITE_LONG (offset + 0x40) 0xFFFFFFFF
		END
	END
	BUT_ONLY_IF_IT_CHANGES
END

ACTION_IF MOD_IS_INSTALLED ~setup-k9RoughWorld.tp2~ ~0~ BEGIN

COPY_EXISTING ~meirong2.cre~ ~override/k9korde.cre~
	WRITE_BYTE allegiance eaneutral
	WRITE_ASCII scriptname ~k9KORDE~ #32

COPY_EXISTING ~meirong3.cre~ ~override/k9korde2.cre~
	WRITE_BYTE allegiance eaneutral
	WRITE_ASCII scriptname ~k9KORDE2~ #32

COPY_EXISTING ~k9korme9.cre~ ~override~
	WRITE_LONG killxp 2000
	WRITE_SHORT currenthp 84
	WRITE_SHORT maxhp 84
	WRITE_BYTE strength 19
	WRITE_BYTE intelligence 14
	WRITE_BYTE wisdom 18
	WRITE_BYTE thac0 14
	WRITE_BYTE levelfirstclass 12
	WRITE_ASCII classscript ~mek9itpr~ #8
	REMOVE_MEMORIZED_SPELLS
	ADD_MEMORIZED_SPELL ~sppr214~ #1 ~priest~ (2)
	ADD_MEMORIZED_SPELL ~mepr451~ #3 ~priest~ (3)
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~mepr451~ ~%mepr451%~
	ADD_MEMORIZED_SPELL ~sppr502~ #4 ~priest~ (3)
	ADD_MEMORIZED_SPELL ~sppr603~ #5 ~priest~ (1)
	REPLACE_CRE_ITEM ~bow02~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifycastingtime target=1 timing=9 parameter1=10 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifymovementrate2 target=1 timing=9 parameter1=400 parameter2=2 END
	IF_EXISTS

COPY_EXISTING ~k9shamb.cre~ ~override~
	WRITE_LONG killxp 9000
	WRITE_SHORT currenthp 150
	WRITE_SHORT maxhp 150
	WRITE_BYTE strength 20
	WRITE_BYTE constitution 21
	WRITE_BYTE electricityresistance 125
	WRITE_BYTE savevsbreath 7
	WRITE_BYTE savevsdeath 1
	WRITE_BYTE savevsspell 5
	WRITE_BYTE savevswand 4
	WRITE_BYTE savevspolymorph 6
	WRITE_BYTE thac0 1
	WRITE_BYTE gender 4
	WRITE_BYTE levelfirstclass 20
	WRITE_ASCII overridescript ~~ #8
	WRITE_ASCII classscript ~~ #8
	WRITE_ASCII racescript ~meshambl~ #8
	WRITE_ASCII generalscript ~~ #8
	WRITE_ASCII defaultscript ~wtasight~ #8
	REPLACE_CRE_ITEM ~MESHAMBL~ #0 #0 #0 ~NONE~ ~WEAPON1~ EQUIP
	LPF ADD_CRE_EFFECT INT_VAR opcode=modifyelectricityresistance target=1 timing=9 parameter1=175 END
	LPF ADD_CRE_EFFECT INT_VAR opcode=overridecreaturedata target=1 timing=9 parameter1=1 parameter2=4 END
	IF_EXISTS

END

COPY_EXISTING_REGEXP ~me.*\.cre~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEAMELEE~ ~WTASIGHT~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEARANGE~ ~WTASIGHT~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~MEARNFAR~ ~WTASIGHT~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~bearbl.cre~ ~override/mesubrbl.cre~ ~bearbr.cre~ ~override/mesubrbr.cre~ ~bearca.cre~ ~override/mesubrca.cre~ ~bearpo.cre~ ~override/mesubrpo.cre~ ~dogwa.cre~ ~override/mesudgwa.cre~ ~dogwi.cre~ ~override/mesudgwi.cre~ ~wolf.cre~ ~override/mesuwolf.cre~ ~wolfdi.cre~ ~override/mesuwodi.cre~ ~wolfdr.cre~ ~override/mesuwodr.cre~ ~wolfwi.cre~ ~override/mesuwowi.cre~ ~worg.cre~ ~override/mesuworg.cre~ ~spidsm01.cre~ ~override/mesuspsm.cre~ ~spidhu.cre~ ~override/mesusphu.cre~ ~spidgi.cre~ ~override/mesuspgi.cre~ ~spidph.cre~ ~override/mesuspph.cre~ ~spidwr.cre~ ~override/mesuspwr.cre~ ~spidsw.cre~ ~override/mesuspsw.cre~ ~spidphas.cre~ ~override/mesuspas.cre~ ~kobold.cre~ ~override/mesukobo.cre~ ~kobolda.cre~ ~override/mesukoar.cre~ ~kobcomm.cre~ ~override/mesukoco.cre~ ~xvart.cre~ ~override/mesuxvar.cre~ ~tasloi.cre~ ~override/mesutasl.cre~ ~gibber.cre~ ~override/mesugibb.cre~ ~hobgob.cre~ ~override/mesuhobg.cre~ ~hobgoba.cre~ ~override/mesuhoar.cre~ ~hobelite.cre~ ~override/mesuhoel.cre~ ~gnoll.cre~ ~override/mesugnol.cre~ ~gnoll_a.cre~ ~override/mesugnoe.cre~ ~gnoll_d.cre~ ~override/mesugnos.cre~ ~gnoll_e.cre~ ~override/mesugnov.cre~ ~ogregr.cre~ ~override/mesuogri.cre~ ~ogre.cre~ ~override/mesuogre.cre~ ~ogreberz.cre~ ~override/mesuogbe.cre~ ~ogrema.cre~ ~override/mesuogma.cre~ ~carrio.cre~ ~override/mesucarr.cre~ ~ankheg.cre~ ~override/mesuankh.cre~ ~sirine_a.cre~ ~override/mesusire.cre~ ~wyvern.cre~ ~override/mesuwyve.cre~ ~wyverba.cre~ ~override/mesuwyba.cre~ ~jellygr.cre~ ~override/mesuooz1.cre~ ~jellgr.cre~ ~override/mesuooz2.cre~ ~rabbit.cre~ ~override/mesurabb.cre~ ~squirr.cre~ ~override/mesusqui.cre~ ~cat.cre~ ~override/mesucat.cre~ ~cow.cre~ ~override/mesucow.cre~ ~kobold6.cre~ ~override/mesukb06.cre~ ~kobold7.cre~ ~override/mesukb07.cre~ ~kobold8.cre~ ~override/mesukb08.cre~ ~kobold_b.cre~ ~override/mesukb22.cre~ ~kobold_e.cre~ ~override/mesukb25.cre~ ~koboldal.cre~ ~override/mesukb28.cre~ ~kobcomm.cre~ ~override/mesukb30.cre~ ~kobola_a.cre~ ~override/mesukb31.cre~ ~kobola_b.cre~ ~override/mesukb32.cre~ ~kobola_c.cre~ ~override/mesukb33.cre~ ~kobola_d.cre~ ~override/mesukb34.cre~ ~mekobo01.cre~ ~override/mesukb51.cre~ ~mekobo02.cre~ ~override/mesukb52.cre~ ~mekobo04.cre~ ~override/mesukb54.cre~ ~mekobo06.cre~ ~override/mesukb56.cre~ ~mekobo07.cre~ ~override/mesukb57.cre~ ~mekobo08.cre~ ~override/mesukb58.cre~ ~mekobo22.cre~ ~override/mesukb72.cre~
	WRITE_BYTE allegiance eacontrolled
	WRITE_BYTE gender gendersummoned
	READ_LONG 0x2BC itemsoffset
	READ_LONG 0x2C0 numitems
	FOR (i = 0; i < numitems; ++i) BEGIN
		READ_LONG (itemsoffset+0x10) theequipmentflags
		theequipmentflags|=0x8
		WRITE_LONG (itemsoffset+0x10) theequipmentflags
		itemsoffset+=0x14
	END
	WRITE_ASCII defaultscript ~wtasight~ #8


COPY_EXISTING_REGEXP ~.*\.cre~ ~override~
	READ_LONG xp thepowerlevel
	READ_LONG killxp thekillxp
	PATCH_IF thepowerlevel < 1000 BEGIN
		PATCH_IF thekillxp > 0 BEGIN
			thepowerlevel = ((thekillxp + 19) / 20)
		END ELSE PATCH_IF thepowerlevel = 0 BEGIN
			READ_BYTE levelfirstclass thelevel
			thepowerlevel = thelevel * 2
		END
		FOR (i = 1; i < 1000; ++i) BEGIN
			PATCH_IF (i * i) >= thepowerlevel BEGIN
				thepowerlevel = i
				i = 1000
			END
		END
	END
	WRITE_LONG xp thepowerlevel

COPY_EXISTING ~mesusqui.cre~ ~override~
	WRITE_LONG xp 9

//____________________________________________SPL

PRINT @175

COPY_EXISTING ~bdpweapn.spl~ ~override~ //Enhanced Edition poison weapon effects
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=protectionfromspell END

COPY_EXISTING ~blun38.spl~ ~override~ //Night Club +1 effect
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifybasethac0 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifythac0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymeleethac0 target=1 timing=0 duration=6 parameter1=8 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymeleedamage target=1 timing=0 duration=6 parameter1=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=9 insert_point=0 STR_VAR resource=~blun38~ END

COPY_EXISTING ~marw201.spl~ ~override~ //Daer'Ragh's Mental Agility
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifycastingtime parameter1=10 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=66 END

COPY_EXISTING ~marw301.spl~ ~override~ //Daer'Ragh's Physical Agility
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifydexterity parameter1=25 parameter2=1 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyspeedfactor parameter1=25 END
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=modifydexterity opcode=modifythac0 parameter1=25 parameter2=0 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=66 END

COPY_EXISTING ~marw401.spl~ ~override~ //Daer'Ragh's Aura Cleansing
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=66 END

COPY_EXISTING ~mislead.spl~ ~override~
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=modifymovementrate1 END
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=setcolorglowsolid END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyopcode target=1 timing=1 parameter1=1 parameter2=setimagetype END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyattacksperround parameter1=0 parameter2=3 timing=9 END

COPY_EXISTING ~ohdsw1.spl~ ~override~ //Rancor +1 effect
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removespellsoftype END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeeffectsbyresource END
	LPF ALTER_EFFECT INT_VAR match_opcode=setlocalvariable parameter2=0 STR_VAR match_resource=~ohdornsw~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifydamage target=1 timing=0 duration=7200 parameter1=1 END

COPY_EXISTING ~ohtyr2.spl~ ~override~ //Divine Favor
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 10; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	END
	FOR (i = 1; i <= 10; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifydamage parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifybasethac0 parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifythac0 parameter1=i END
	END
	SAY UNIDENTIFIED_DESC @19001

/*
COPY_EXISTING ~projimag.spl~ ~override~ ~simulacr.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=disablebutton target=1 timing=1 parameter2=buttonuseitem END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=disablebutton target=1 timing=1 parameter2=buttonquickitem1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=disablebutton target=1 timing=1 parameter2=buttonquickitem2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=disablebutton target=1 timing=1 parameter2=buttonquickitem3 END
*/

COPY_EXISTING ~mislead.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 STR_VAR resource=~MEIMGID1~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=0 special=1 STR_VAR resource=~MEIMGSCR~ END

COPY_EXISTING ~projimag.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 STR_VAR resource=~MEIMGID2~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=0 special=2 STR_VAR resource=~MEIMGSCR~ END

COPY_EXISTING ~simulacr.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=castspell target=1 timing=1 parameter1=1 parameter2=2 STR_VAR resource=~MEIMGID3~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=0 special=3 STR_VAR resource=~MEIMGSCR~ END



PRINT @176

COPY_EXISTING ~spcl121.spl~ ~override~ ~spcl144.spl~ ~override~ ~spcl152.spl~ ~override~ ~spcl238.spl~ ~override~ ~spcl321.spl~ ~override~ ~spcl423.spl~ ~override~ ~spcl521.spl~ ~override~ ~spcl522.spl~ ~override~ ~spcl811.spl~ ~override~ ~spcl815.spl~ ~override~ ~spcl820.spl~ ~override~ ~spdm105.spl~ ~override~ ~meco097.spl~ ~override~ ~meco098.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 target=7 END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~spcl144.spl~ ~override~
	SAY UNIDENTIFIED_DESC @19384

COPY_EXISTING ~spcl211.spl~ ~override~ //Lay on Hands
	READ_SHORT 0x68 numheaders
	numheaders2 = (numheaders>10) ? 10 : numheaders
	FOR (i = 1; i <= numheaders2; ++i) BEGIN //Levels 1 to 10
		j=i
		j*=i
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifycurrenthp parameter1=j END
	END
	FOR (i = 10; i <= numheaders; ++i) BEGIN //Levels 11+
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifycurrenthp parameter1=100 END
	END
	SAY UNIDENTIFIED_DESC @19002

COPY_EXISTING ~spcl212.spl~ ~override~ //Paladin Detect Evil
	LPF ALTER_SPELL_HEADER INT_VAR projectile=1 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=1 parameter1=1 parameter2=2 STR_VAR resource=~medetevi~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~mecl212e~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~mecl212e~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource=~spcl212~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource=~spcl212~ END
	SAY UNIDENTIFIED_DESC @19311

COPY_EXISTING ~mecl212e.spl~ ~override~
	SAY NAME1 @19312
	SAY UNIDENTIFIED_DESC @19313

COPY_EXISTING ~medetevi.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mearal60 END

COPY_EXISTING ~spcl311.spl~ ~override~ //Ranger Charm Animal
	LPF CLONE_EFFECT INT_VAR match_opcode=charm1 opcode=eeexinvokelua parameter1=0 parameter2=0 savingthrow=(vsspell + 0x30000) dicenumber=6 dicesize=0 duration=0 STR_VAR resource=~MERECRUI~ insert=~below~ END
	LPF CLONE_EFFECT INT_VAR match_opcode=charm1 opcode=displaystring parameter1=RESOLVE_STR_REF(@639) dicenumber=100 dicesize=7 STR_VAR insert=~below~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=7200 resist_dispel=0 power=0 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN //Levels 1 to 10
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 header=(i - 1) match_opcode=eeexinvokelua match_dicenumber=6 dicenumber=(i + 5) END
		LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 header=(i - 1) match_opcode=displaystring match_dicesize=7 dicesize=(i + 6) END
		PATCH_IF i < 10 BEGIN
			LPF ALTER_SPELL_EFFECT INT_VAR header=i savebonus=(0 - i) END
		END ELSE BEGIN
			LPF ALTER_SPELL_EFFECT INT_VAR header=i savebonus=(0 - 10) END
		END
	END
	SAY UNIDENTIFIED_DESC @19003

COPY_EXISTING ~spcl321.spl~ ~override~ //Berserker Rage
	LPF CLONE_EFFECT INT_VAR silent=1 multi_match=1 match_opcode=protectionfromopcode opcode=setspellstate parameter2=35 special=1 END //Suppress HP Info
	SAY UNIDENTIFIED_DESC @19234

COPY_EXISTING ~spcl342.spl~ ~override~ //Beastmaster Find Familiar
	SAY UNIDENTIFIED_DESC @19374

COPY_EXISTING ~spcl521.spl~ ~override~ //Offensive Spin
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=setspellstate opcode=eeexinvokelua STR_VAR resource=~MESPIN~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=blur END

COPY_EXISTING ~spcl522.spl~ ~override~ //Defensive Spin
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=setspellstate opcode=eeexinvokelua STR_VAR resource=~MESPIN~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=blur END

COPY_EXISTING ~meco097.spl~ ~override~ ~meco098.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=setspellstate opcode=eeexinvokelua STR_VAR resource=~MESPIN~ END

COPY_EXISTING ~spcl611.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~meberbrd~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
	SAY UNIDENTIFIED_DESC @19004

COPY_EXISTING ~spcl612.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~mewolfwi~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
//	LPF ADD_SPELL_EFFECT INT_VAR opcode=invisibility target=1 timing=0 duration=3600000 END
	SAY NAME1 @19291
	SAY UNIDENTIFIED_DESC @19005

COPY_EXISTING ~spcl613.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~meberbld~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
	SAY UNIDENTIFIED_DESC @19006

COPY_EXISTING ~spcl621.spl~ ~override~ //Summon Spirit Animal
	WRITE_SHORT castinganimation none
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END

COPY_EXISTING ~spcl632.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~mespdsw2~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
	SAY UNIDENTIFIED_DESC @19292

COPY_EXISTING ~spcl633.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~mewyvav~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
	SAY UNIDENTIFIED_DESC @19293

COPY_EXISTING ~spcl634.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~mesalfi~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
	LPF DELETE_EFFECT INT_VAR match_opcode=giveability STR_VAR match_resource=~spin160~ END
	SAY UNIDENTIFIED_DESC @19294

COPY_EXISTING ~spcl643.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=9 insert_point=0 STR_VAR resource=~spcl643~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=9 insert_point=0 STR_VAR resource=~spcl644~ END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~mewerwo~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
//	LPF ADD_SPELL_EFFECT INT_VAR opcode=invisibility target=1 timing=0 duration=3600000 END
	SAY UNIDENTIFIED_DESC @19011

COPY_EXISTING ~spcl644.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=9 insert_point=0 STR_VAR resource=~spcl643~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=9 insert_point=0 STR_VAR resource=~spcl644~ END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createweapon STR_VAR resource=~mewergr~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=polymorph END
//	LPF ADD_SPELL_EFFECT INT_VAR opcode=invisibility target=1 timing=0 duration=3600000 END
	SAY UNIDENTIFIED_DESC @19012

COPY_EXISTING ~mewerwo.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=403 special=RESOLVE_STR_REF(@827) STR_VAR match_resource=~EXWEAPIN~ END

COPY_EXISTING ~mewergr.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=0 check_globals=1 match_opcode=403 special=RESOLVE_STR_REF(@828) STR_VAR match_resource=~EXWEAPIN~ END

COPY_EXISTING ~spcl731.spl~ ~override~
	SAY UNIDENTIFIED_DESC @19007

COPY_EXISTING ~spdwd02.spl~ ~override~ //Defensive Stance
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=9 STR_VAR resource=~meco040~ END

PRINT @177

COPY_EXISTING ~spin112.spl~ ~override~
	WRITE_BYTE 0x27 secondarymagicattack
	LPF ALTER_SPELL_EFFECT INT_VAR match_header=1 match_opcode=dispeleffects parameter1=0 parameter2=0 END
	SAY NAME1 @19008
	SAY UNIDENTIFIED_DESC @19009

COPY_EXISTING ~spin113.spl~ ~override~
	LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=1 END
	LPF ALTER_SPELL_HEADER INT_VAR header=1 min_level=1 END
	LPF ALTER_SPELL_HEADER INT_VAR header=2 min_level=5 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_header=1 match_opcode=createmagicalweapon STR_VAR resource=~shammr2~ END
	LPF ALTER_SPELL_EFFECT INT_VAR match_header=2 match_opcode=createmagicalweapon STR_VAR resource=~shammr3~ END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=18 END
	SAY UNIDENTIFIED_DESC @19010

COPY_EXISTING ~spin117.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR multi_match=1 check_headers=1 check_globals=0 match_opcode=protectionfromopcode opcode=401 parameter1=1 parameter2=1 special=999 STR_VAR resource=~EXBERSER~ END
	SAY UNIDENTIFIED_DESC @19395

COPY_EXISTING ~spin122.spl~ ~override~ ~spin123.spl~ ~override~ ~spin124.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=7 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeopcode target=1 timing=1 parameter1=(0 - 1) parameter2=polymorph END

COPY_EXISTING ~spin544.spl~ ~override~
	SAY NAME1 @19346

COPY_EXISTING ~spin546.spl~ ~override~
	SAY NAME1 @19347

COPY_EXISTING ~spin695.spl~ ~override~ //Wing Buffet
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=damage END

COPY_EXISTING ~spin909.spl~ ~override~
	SAY NAME1 @19348

COPY_EXISTING ~spin910.spl~ ~override~
	SAY NAME1 @19349

COPY_EXISTING ~spja01.spl~ ~override~ //Harper's Call
	WRITE_ASCII 0x3A ~meharpcc~ #8
	LPF ALTER_SPELL_HEADER STR_VAR icon=~meharpcb~ END

COPY_EXISTING ~hidespl.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns = 3 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~sppr703    1          0~
		INSERT_2DA_ROW numrows numcolumns ~spwi707    1          0~
		INSERT_2DA_ROW numrows numcolumns ~spwi807    1          0~
		INSERT_2DA_ROW numrows numcolumns ~spwi905    1          0~
	END ELSE PATCH_IF numcolumns = 4 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~sppr703    1          0          0~
		INSERT_2DA_ROW numrows numcolumns ~spwi707    1          0          0~
		INSERT_2DA_ROW numrows numcolumns ~spwi807    1          0          0~
		INSERT_2DA_ROW numrows numcolumns ~spwi905    1          0          0~
	END

PRINT @178

COPY_EXISTING ~sppr101.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=1 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=60 END
	LPF CLONE_EFFECT INT_VAR silent=1 match_opcode=bless opcode=modifyallsaves parameter2=0 END
	LPF CLONE_EFFECT INT_VAR silent=1 match_opcode=bless opcode=removeeffectsbyresource parameter1=0 parameter2=0 STR_VAR resource=~SPPR101~ END
	SAY UNIDENTIFIED_DESC @21101

COPY_EXISTING ~sppr102.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=sleep opcode=charm2 parameter1=0 parameter2=1004 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=displayportraiticon match_parameter2=14 parameter2=43 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=displayportraiticon match_parameter2=130 parameter2=43 END
	LPF CLONE_EFFECT INT_VAR multi_match=1 silent=1 match_opcode=immunitytospellandmessage probability1=100 probability2=0 parameter1=41 parameter2=110 STR_VAR insert=~first~ END
	LPF CLONE_EFFECT INT_VAR multi_match=1 silent=1 match_opcode=immunitytospellandmessage probability1=100 probability2=0 parameter2=66 STR_VAR insert=~first~ END
	LPF ALTER_EFFECT INT_VAR silent=1 match_dicesize=6 dicesize=10 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_dicenumber=5 dicenumber=9 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=charm2 STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @21102

COPY_EXISTING ~sppr104.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=1 END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 parameter1=0x200000 parameter2=138 STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=9 parameter1=10 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=19 parameter1=20 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=29 parameter1=30 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=39 parameter1=40 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=49 parameter1=50 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=59 parameter1=60 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=69 parameter1=70 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=79 parameter1=80 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=89 parameter1=90 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=8 timing=0 duration=1 probability1=100 parameter1=100 parameter2=splprot_magicresistancegreaterthanorequalto STR_VAR resource=~sppr104~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=detectalignment target=8 timing=0 duration=60 parameter2=0 END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=detectalignment target=8 timing=0 duration=60 parameter2=1 END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=detectalignment target=8 timing=0 duration=60 parameter2=2 END
	SAY NAME1 @19315
	SAY UNIDENTIFIED_DESC @21104

COPY_EXISTING ~sppr105.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_savebonus=3 savebonus=0 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 duration=1 parameter1=0 parameter2=splprot_meflyingspeednotequalto STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=modifymovementrate1 special=(0 - 1) STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=entangleoverlay special=(0 - 1) STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter1=0 parameter2=0x2040010 special=(0 - 1) STR_VAR resource=~MEPRTOFF~ END
	SAY UNIDENTIFIED_DESC @21105

COPY_EXISTING ~sppr106.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=damage END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=damage target=2 timing=9 insert_point=0 parameter1=10 parameter2=crushingdamage END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=9 insert_point=0 parameter1=generalundead parameter2=idsgeneral STR_VAR resource=~memagsto~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=9 insert_point=0 parameter1=raceskeleton parameter2=idsrace STR_VAR resource=~meskulno~ END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=(0 - 1) resist_dispel=2 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=playsound savingthrow=nosave END
	LPF ALTER_SPELL_HEADER INT_VAR speed=6 END
	SAY UNIDENTIFIED_DESC @21106

COPY_EXISTING ~sppr107.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR multi_match=1 silent=1 match_opcode=modifyproficiencies match_parameter2=117 opcode=setspellstate parameter2=1 special=1 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=1 opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~sppr107~ END

COPY_EXISTING ~sppr108.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=1 opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~sppr108~ END

COPY_EXISTING ~sppr110.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=1 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~sppr110~ END
	SAY UNIDENTIFIED_DESC @21110

COPY_EXISTING ~sppr113.spl~ ~override~ ~bddoom.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeeffectsbyresource END
	SAY UNIDENTIFIED_DESC @21113

COPY_EXISTING ~sppr150.spl~ ~override~
	LPF DELETE_EFFECT INT_VAR match_opcode=removeeffectsbyresource STR_VAR match_resource=~SPPR150~ END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=2400 END
	SAY UNIDENTIFIED_DESC @21150

COPY_EXISTING ~sppr201.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=((i * 6) + 60) END
		PATCH_IF i <= 8 BEGIN
			LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=aid parameter1=1 END
		END ELSE PATCH_IF i <= 14 BEGIN
			LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=aid parameter1=2 END
		END ELSE BEGIN
			LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=aid parameter1=3 END
		END
	END
	LPF ALTER_SPELL_HEADER INT_VAR speed=2 END
	SAY UNIDENTIFIED_DESC @21201

COPY_EXISTING ~sppr202.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=9 insert_point=0 STR_VAR resource=~sppr202~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=9 insert_point=0 STR_VAR resource=~meco215~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevsbreath END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevsdeath END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevswands END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifysavevspolymorph new_opcode=modifyallsaves END
	FOR (i = 1; i <= 3; ++i) BEGIN //Levels 1 to 5
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyac parameter1=5 END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyallsaves parameter1=1 END
	END
	FOR (i = 4; i <= 6; ++i) BEGIN //Levels 6 to 8
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyac parameter1=4 END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyallsaves parameter1=2 END
	END
	FOR (i = 7; i <= 9; ++i) BEGIN //Levels 9 to 11
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyac parameter1=3 END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyallsaves parameter1=3 END
	END
	FOR (i = 10; i <= 12; ++i) BEGIN //Levels 12 to 14
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyac parameter1=2 END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyallsaves parameter1=4 END
	END
	FOR (i = 13; i <= 18; ++i) BEGIN //Levels 15 and above
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyac parameter1=1 END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifyallsaves parameter1=5 END
	END
	SAY UNIDENTIFIED_DESC @21202

COPY_EXISTING ~sppr203.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=15 END
	SAY UNIDENTIFIED_DESC @21203

COPY_EXISTING ~sppr203d.spl~ ~override~ ~sppr203e.spl~ ~override~
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=2 END
	LPF ALTER_SPELL_HEADER INT_VAR header=2 min_level=9 END
	LPF ALTER_SPELL_HEADER INT_VAR header=3 min_level=15 END

COPY_EXISTING ~sppr203d.spl~ ~override~
	FOR (i = 2; i <= 3; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=goodchant parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevsbreath parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevsdeath parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevswand parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevsspell parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevspolymorph parameter1=i END
	END

COPY_EXISTING ~sppr203e.spl~ ~override~
	FOR (i = 2; i <= 3; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=badchant parameter1=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevsbreath parameter1=(0 - i) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevsdeath parameter1=(0 - i) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevswand parameter1=(0 - i) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevsspell parameter1=(0 - i) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=modifysavevspolymorph parameter1=(0 - i) END
	END

COPY_EXISTING ~sppr204.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=charm1 match_parameter1=generalanimal savebonus=0 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=charm1 STR_VAR resource=~MEPRTOPC~ END
	SAY NAME1 @19051
	SAY UNIDENTIFIED_DESC @21204

COPY_EXISTING ~sppr206.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=2 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~sppr206~ END
	SAY UNIDENTIFIED_DESC @21206

COPY_EXISTING ~sppr207.spl~ ~override~
	SAY UNIDENTIFIED_DESC @21207

COPY_EXISTING ~gberry.itm~ ~override~
	SAY UNIDENTIFIED_DESC @19397
	LPF ALTER_ITEM_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=modifycurrenthp parameter1=5 dicenumber=0 dicesize=0 END

COPY_EXISTING ~sppr208.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR multi_match=1 silent=1 match_opcode=immunitytospellandmessage probability1=100 probability2=0 parameter2=6 STR_VAR insert=~first~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=2 parameter2=holdcreature1 STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=holdcreature1 STR_VAR resource=~MEPRTOPC~ END
//	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter1=(0 - 25) parameter2=0x2040010 special=(0 - 1) STR_VAR resource=~MEPRTOFF~ END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=24 END
	LPF ALTER_EFFECT INT_VAR match_target=2 savebonus=(0 - 1) END
	SAY UNIDENTIFIED_DESC @21208

OUTER_SET me_start = 55001
OUTER_SET me_length = 21
LAUNCH_ACTION_MACRO MASS_ADD_STRINGS
OUTER_SET me_start = 55101
OUTER_SET me_length = 113
LAUNCH_ACTION_MACRO MASS_ADD_STRINGS
OUTER_SET me_start = 55219
OUTER_SET me_length = 5
LAUNCH_ACTION_MACRO MASS_ADD_STRINGS
OUTER_SET me_start = 55261
OUTER_SET me_length = 11
LAUNCH_ACTION_MACRO MASS_ADD_STRINGS
OUTER_SET me_start = 55300
OUTER_SET me_length = 61
LAUNCH_ACTION_MACRO MASS_ADD_STRINGS
COPY_EXISTING ~m_mestr1.lua~ ~override~
	SPRINT me_string_55000 @55000
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55000 = .*~ ~me_string_55000 = "%me_string_55000%"~
	SPRINT me_string_55255 @55255
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55255 = .*~ ~me_string_55255 = "%me_string_55255%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55300 = .*~ ~me_string_55300 = "%me_string_55300%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55301 = .*~ ~me_string_55301 = "%me_string_55301%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55302 = .*~ ~me_string_55302 = "%me_string_55302%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55303 = .*~ ~me_string_55303 = "%me_string_55303%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55304 = .*~ ~me_string_55304 = "%me_string_55304%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55305 = .*~ ~me_string_55305 = "%me_string_55305%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55306 = .*~ ~me_string_55306 = "%me_string_55306%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55307 = .*~ ~me_string_55307 = "%me_string_55307%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55308 = .*~ ~me_string_55308 = "%me_string_55308%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55309 = .*~ ~me_string_55309 = "%me_string_55309%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55310 = .*~ ~me_string_55310 = "%me_string_55310%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55311 = .*~ ~me_string_55311 = "%me_string_55311%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55312 = .*~ ~me_string_55312 = "%me_string_55312%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55313 = .*~ ~me_string_55313 = "%me_string_55313%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55314 = .*~ ~me_string_55314 = "%me_string_55314%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55315 = .*~ ~me_string_55315 = "%me_string_55315%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55316 = .*~ ~me_string_55316 = "%me_string_55316%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55317 = .*~ ~me_string_55317 = "%me_string_55317%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55318 = .*~ ~me_string_55318 = "%me_string_55318%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55319 = .*~ ~me_string_55319 = "%me_string_55319%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55320 = .*~ ~me_string_55320 = "%me_string_55320%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55321 = .*~ ~me_string_55321 = "%me_string_55321%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55322 = .*~ ~me_string_55322 = "%me_string_55322%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55323 = .*~ ~me_string_55323 = "%me_string_55323%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55324 = .*~ ~me_string_55324 = "%me_string_55324%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55325 = .*~ ~me_string_55325 = "%me_string_55325%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55326 = .*~ ~me_string_55326 = "%me_string_55326%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55327 = .*~ ~me_string_55327 = "%me_string_55327%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55328 = .*~ ~me_string_55328 = "%me_string_55328%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55329 = .*~ ~me_string_55329 = "%me_string_55329%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55330 = .*~ ~me_string_55330 = "%me_string_55330%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55331 = .*~ ~me_string_55331 = "%me_string_55331%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55332 = .*~ ~me_string_55332 = "%me_string_55332%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55333 = .*~ ~me_string_55333 = "%me_string_55333%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55334 = .*~ ~me_string_55334 = "%me_string_55334%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55335 = .*~ ~me_string_55335 = "%me_string_55335%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55336 = .*~ ~me_string_55336 = "%me_string_55336%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55337 = .*~ ~me_string_55337 = "%me_string_55337%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55338 = .*~ ~me_string_55338 = "%me_string_55338%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55339 = .*~ ~me_string_55339 = "%me_string_55339%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55340 = .*~ ~me_string_55340 = "%me_string_55340%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55341 = .*~ ~me_string_55341 = "%me_string_55341%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55342 = .*~ ~me_string_55342 = "%me_string_55342%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55343 = .*~ ~me_string_55343 = "%me_string_55343%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55344 = .*~ ~me_string_55344 = "%me_string_55344%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55345 = .*~ ~me_string_55345 = "%me_string_55345%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55346 = .*~ ~me_string_55346 = "%me_string_55346%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55347 = .*~ ~me_string_55347 = "%me_string_55347%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55348 = .*~ ~me_string_55348 = "%me_string_55348%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55349 = .*~ ~me_string_55349 = "%me_string_55349%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55350 = .*~ ~me_string_55350 = "%me_string_55350%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55351 = .*~ ~me_string_55351 = "%me_string_55351%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55352 = .*~ ~me_string_55352 = "%me_string_55352%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55353 = .*~ ~me_string_55353 = "%me_string_55353%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55354 = .*~ ~me_string_55354 = "%me_string_55354%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55355 = .*~ ~me_string_55355 = "%me_string_55355%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55356 = .*~ ~me_string_55356 = "%me_string_55356%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55357 = .*~ ~me_string_55357 = "%me_string_55357%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55358 = .*~ ~me_string_55358 = "%me_string_55358%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55359 = .*~ ~me_string_55359 = "%me_string_55359%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_string_55360 = .*~ ~me_string_55360 = "%me_string_55360%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_classids = .*~ ~me_classids = {"%me_string_55001%", "%me_string_55002%", "%me_string_55003%", "%me_string_55004%", "%me_string_55005%", "%me_string_55006%", "%me_string_55007%", "%me_string_55008%", "%me_string_55009%", "%me_string_55010%", "%me_string_55011%", "%me_string_55012%", "%me_string_55013%", "%me_string_55014%", "%me_string_55015%", "%me_string_55016%", "%me_string_55017%", "%me_string_55018%", "%me_string_55019%", "%me_string_55020%", "%me_string_55021%", }~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_monsterclassids = .*~ ~me_monsterclassids = {"%me_string_55101%", "%me_string_55102%", "%me_string_55103%", "%me_string_55104%", "%me_string_55105%", "%me_string_55106%", "%me_string_55107%", "%me_string_55108%", "%me_string_55109%", "%me_string_55110%", "%me_string_55111%", "%me_string_55112%", "%me_string_55113%", "%me_string_55114%", "%me_string_55115%", "%me_string_55116%", "%me_string_55117%", "%me_string_55118%", "%me_string_55119%", "%me_string_55120%", "%me_string_55121%", "%me_string_55122%", "%me_string_55123%", "%me_string_55124%", "%me_string_55125%", "%me_string_55126%", "%me_string_55127%", "%me_string_55128%", "%me_string_55129%", "%me_string_55130%", "%me_string_55131%", "%me_string_55132%", "%me_string_55133%", "%me_string_55134%", "%me_string_55135%", "%me_string_55136%", "%me_string_55137%", "%me_string_55138%", "%me_string_55139%", "%me_string_55140%", "%me_string_55141%", "%me_string_55142%", "%me_string_55143%", "%me_string_55144%", "%me_string_55145%", "%me_string_55146%", "%me_string_55147%", "%me_string_55148%", "%me_string_55149%", "%me_string_55150%", "%me_string_55151%", "%me_string_55152%", "%me_string_55153%", "%me_string_55154%", "%me_string_55155%", "%me_string_55156%", "%me_string_55157%", "%me_string_55158%", "%me_string_55159%", "%me_string_55160%", "%me_string_55161%", "%me_string_55162%", "%me_string_55163%", "%me_string_55164%", "%me_string_55165%", "%me_string_55166%", "%me_string_55167%", "%me_string_55168%", "%me_string_55169%", "%me_string_55170%", "%me_string_55171%", "%me_string_55172%", "%me_string_55173%", "%me_string_55174%", "%me_string_55175%", "%me_string_55176%", "%me_string_55177%", "%me_string_55178%", "%me_string_55179%", "%me_string_55180%", "%me_string_55181%", "%me_string_55182%", "%me_string_55183%", "%me_string_55184%", "%me_string_55185%", "%me_string_55186%", "%me_string_55187%", "%me_string_55188%", "%me_string_55189%", "%me_string_55190%", "%me_string_55191%", "%me_string_55192%", "%me_string_55193%", "%me_string_55194%", "%me_string_55195%", "%me_string_55196%", "%me_string_55197%", "%me_string_55198%", "%me_string_55199%", "%me_string_55200%", "%me_string_55201%", "%me_string_55202%", "%me_string_55203%", "%me_string_55204%", "%me_string_55205%", "%me_string_55206%", "%me_string_55207%", "%me_string_55208%", "%me_string_55209%", "%me_string_55210%", "%me_string_55211%", "%me_string_55212%", "%me_string_55213%", "%me_string_55255%", "%me_string_55255%", "%me_string_55255%", "%me_string_55255%", "%me_string_55255%", "%me_string_55219%", "%me_string_55220%", "%me_string_55221%", "%me_string_55222%", "%me_string_55223%",
}~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_weapon_effective_strings = .*~ ~me_weapon_effective_strings = {"%me_string_55261%", "%me_string_55262%", "%me_string_55263%", "%me_string_55264%", "%me_string_55265%", "%me_string_55266%", "%me_string_55267%", "%me_string_55268%", "%me_string_55269%", "%me_string_55270%", "%me_string_55271%", }~

	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_COLS numcolumns
		COUNT_2DA_ROWS numcolumns numrows
		FOR (i = 1; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 1 numcolumns class_special_name
			READ_2DA_ENTRY i 8 numcolumns class_id
			READ_2DA_ENTRY i 3 numcolumns kit_name_ref
			GET_STRREF kit_name_ref kit_name
			PATCH_IF (~%class_special_name%~ STRING_EQUAL_CASE ~WILD_MAGE~) BEGIN
				INNER_ACTION BEGIN
					COPY_EXISTING ~m_mestr1.lua~ ~override~
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_kitids = {~ ~me_kitids = {[0x7FFFFFFF] = {"%kit_name%", 1}, ~
				END
			END ELSE BEGIN
				READ_2DA_ENTRY i 9 numcolumns kit_id
				kit_id = kit_id + 0
				INNER_ACTION BEGIN
					COPY_EXISTING ~m_mestr1.lua~ ~override~
						REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_kitids = {~ ~me_kitids = {[%kit_id%] = {"%kit_name%", %class_id%}, ~
				END
			END
		END
		BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~sppr209.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=1 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=2097152 parameter2=138 special=(0 - 1) STR_VAR resource=~sppr209~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=2 opcode=castspell target=2 timing=9 parameter1=0 parameter2=1 resist_dispel=1 STR_VAR resource=~MEIDECRE~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=2 opcode=402 target=2 timing=0 resist_dispel=1 STR_VAR resource=~MESTATPR~ END
	SAY NAME1 @19235
	SAY UNIDENTIFIED_DESC @21209

COPY_EXISTING ~sppr210.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagicfireresistance parameter1=25 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagiccoldresistance parameter1=25 END
	SAY UNIDENTIFIED_DESC @21210
	
COPY_EXISTING ~sppr211.spl~ ~override~ //Silence 15' Radius
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=silence STR_VAR resource=~MEPRTOPC~ END
//	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter1=(0 - 100) parameter2=0x2040010 special=(0 - 1) STR_VAR resource=~MEPRTOFF~ END
	READ_LONG spellflags ulgiash
	ulgiash|=0x400 //Hostile
	WRITE_LONG spellflags ulgiash

COPY_EXISTING ~sppr212.spl~ ~override~ ~spin102.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	SAY UNIDENTIFIED_DESC @21212

COPY_EXISTING ~sppr213.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=2 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~sppr213~ END
	SAY UNIDENTIFIED_DESC @21213

COPY_EXISTING ~sppr214.spl~ ~override~ ~spin103.spl~ ~override~
	LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=18 END
	SAY UNIDENTIFIED_DESC @21214

COPY_EXISTING ~sppr250.spl~ ~override~
	LPF DELETE_EFFECT INT_VAR match_opcode=immunitytospellandmessage match_parameter2=25 END
	LPF ALTER_EFFECT INT_VAR match_opcode=damage match_parameter2=colddamage parameter2=magiccolddamage END
	LPF CLONE_EFFECT INT_VAR multi_match=1 silent=1 match_opcode=damage opcode=immunitytospellandmessage timing=0 duration=1 parameter2=splprot_immunetomagiccold special=0 STR_VAR insert=~below~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @21250

COPY_EXISTING ~sppr302.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr304.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr305.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=2 END
	LPF ALTER_EFFECT INT_VAR match_savingthrow=vsspell savebonus=(0 - 3) END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=holdcreature1 STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @21305

COPY_EXISTING ~sppr306.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyfireresistance parameter1=80 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagicfireresistance parameter1=40 END
	SAY UNIDENTIFIED_DESC @21306

COPY_EXISTING ~sppr307.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource= EVAL ~%mewi255%~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mewi856d~ END

COPY_EXISTING ~sppr308.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=1 END
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=curestun opcode=curesleep END
	SAY UNIDENTIFIED_DESC @21308

COPY_EXISTING ~sppr309.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=0 duration=2 parameter2=1 STR_VAR resource=~sptrusee~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=eagoodcutoff parameter2=idsea STR_VAR resource=~mepurgea~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=eaneutral parameter2=idsea STR_VAR resource=~mepurgen~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=eaevilcutoff parameter2=idsea STR_VAR resource=~mepurgee~ END
	SAY UNIDENTIFIED_DESC @21309

COPY_EXISTING ~sppr310.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=castingfailure parameter1=50 END
	LPF ALTER_EFFECT INT_VAR multi_match=1 match_savingthrow=vsspell savebonus=(0 - 4) END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=castingfailure STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @21310

COPY_EXISTING ~sppr311.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR multi_match=1 match_savingthrow=vsspell savebonus=(0 - 2) END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=confusion STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr312.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifyexceptionalstrength END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifystrength parameter1=19 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=26017 parameter1=RESOLVE_STR_REF(@19052) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=20 parameter2=124 insert_point=0 STR_VAR resource=~sppr312~ END
	SAY NAME1 @19052
	SAY UNIDENTIFIED_DESC @21312

COPY_EXISTING ~sppr313.spl~ ~override~
	FOR (i = 11; i <= 40; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	SAY UNIDENTIFIED_DESC @21313

COPY_EXISTING ~sppr314.spl~ ~override~
	FOR (i = 11; i <= 40; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF ALTER_EFFECT STR_VAR match_resource=~SP313L02~ resource=~ME314L02~ END
	LPF ALTER_EFFECT STR_VAR match_resource=~SP313L03~ resource=~ME314L03~ END
	LPF ALTER_EFFECT STR_VAR match_resource=~SP313L04~ resource=~ME314L04~ END
	LPF ALTER_EFFECT STR_VAR match_resource=~SP313L05~ resource=~ME314L05~ END
	LPF ALTER_EFFECT INT_VAR match_opcode=useefffile match_parameter2=idsalignment parameter1=eaanyone parameter2=idsea END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter2=55 insert_point=0 STR_VAR resource=~sppr314~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=poison STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @21314

COPY_EXISTING ~sppr319.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~mepr402.spl~ ~override/sppr402.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=summonmonsters power=4 duration=((i * 6) + 60) parameter1=(i + 3) END
	END
	SAY UNIDENTIFIED_DESC @21402

COPY_EXISTING ~sppr402.spl~ ~override/spra304.spl~
	WRITE_LONG spelllevel 1
	LPF ALTER_EFFECT INT_VAR match_power=4 power=1 END

COPY_EXISTING ~sppr404.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	SAY UNIDENTIFIED_DESC @21404

COPY_EXISTING ~sppr405.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter2=55 insert_point=0 STR_VAR resource=~sppr405~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=charm1 STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~sppr406.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=30 END
	LPF ALTER_EFFECT INT_VAR match_opcode=modifyac match_parameter2=0 parameter1=4 END
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=removeeffectsbyresource STR_VAR resource=~meco077~ END
	SAY UNIDENTIFIED_DESC @21406

COPY_EXISTING ~sppr407.spl~ ~override~
	FOR (i = 2; i <= 40; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=90 END
	SAY UNIDENTIFIED_DESC @21407

COPY_EXISTING ~sppr408.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=4 opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~sppr408~ END

COPY_EXISTING ~sppr409.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=protectionfromopcode opcode=protectionfromspell parameter1=spellineffective STR_VAR resource=~spin996~ END
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=protectionfromopcode opcode=protectionfromspell parameter1=spellineffective STR_VAR resource=~meco096~ END
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=protectionfromopcode opcode=protectionfromspell parameter1=spellineffective STR_VAR resource=~mems083d~ END
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=protectionfromopcode opcode=protectionfromspell parameter1=spellineffective STR_VAR resource=~meco085~ END
	SAY UNIDENTIFIED_DESC @21409

COPY_EXISTING ~sppr410.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=14 END
	SAY UNIDENTIFIED_DESC @21410

COPY_EXISTING ~sppr411.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=2 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_savingthrow=vsdeath savebonus=(0 - 4) END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=poison STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @21411

COPY_EXISTING ~sppr413.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=protectionfromopcode opcode=protectionfromspell parameter1=spellineffective STR_VAR resource=~spwi117a~ END

COPY_EXISTING ~sppr415.spl~ ~override~
	WRITE_SHORT castinganimation none
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 target=7 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=visualeffectbg2 END
	SAY UNIDENTIFIED_DESC @21415

COPY_EXISTING ~sppr417.spl~ ~override~ //Lesser Restoration
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~spwi117a~ END

COPY_EXISTING ~sppr450.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=2 END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=castspell probability1=100 savingthrow=none STR_VAR match_resource=~BDDOOM~ END
	LPF ALTER_EFFECT INT_VAR match_opcode=damage match_parameter2=magicdamage parameter2=magicfiredamage END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @21450
	IF_EXISTS

COPY_EXISTING ~sppr450b.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=damage match_parameter2=magicdamage parameter2=magicfiredamage END
	IF_EXISTS

COPY_EXISTING ~mepr501.spl~ ~override/sppr501.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=summonmonsters power=5 duration=((i * 6) + 60) parameter1=(i + 6) END
	END
	SAY UNIDENTIFIED_DESC @21501

COPY_EXISTING ~sppr501.spl~ ~override/spra305.spl~
	WRITE_LONG spelllevel 2
	LPF ALTER_EFFECT INT_VAR match_power=5 power=2 END

COPY_EXISTING ~sppr503.spl~ ~override~ //Flame Strike
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr504.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=30 END
	SAY UNIDENTIFIED_DESC @21504

COPY_EXISTING ~sppr506.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=1 END
	SAY UNIDENTIFIED_DESC @21506

COPY_EXISTING ~sppr506.spl~ ~override/meps506.spl~
	SAY NAME1 #-1

COPY_EXISTING ~sppr507.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifystrength parameter1=25 END
	SAY UNIDENTIFIED_DESC @21507

COPY_EXISTING ~sppr509.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagicresistance parameter2=increment END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=9 insert_point=0 STR_VAR resource=~meco189~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=9 insert_point=0 STR_VAR resource=~sppr509~ END
	SAY UNIDENTIFIED_DESC @21509

COPY_EXISTING ~sppr511.spl~ ~override~ ~sppr599.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=30 target=1 range=1 projectile=noprojectile END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=damage target=2 timing=9 parameter1=25 parameter2=(magicdamage + dealpercentage) resist_dispel=1 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=slay target=2 timing=9 parameter1=eaanyone parameter2=idsea savingthrow=vsdeath savebonus=(0 - 4) resist_dispel=1 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=visualeffectbg1 target=2 timing=1 parameter2=2 resist_dispel=1 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter2=55 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=121 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=139 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=145 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=147 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=156 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=157 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=158 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=159 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=169 parameter2=104 insert_point=0 END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @21511

COPY_EXISTING ~sppr512.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_savingthrow=vsspell savebonus=(0 - 4) END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=18 END
	LPF ALTER_EFFECT INT_VAR match_opcode=sleep opcode=charm2 parameter1=0 parameter2=1004 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=displayportraiticon match_parameter2=14 parameter2=43 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=displayportraiticon match_parameter2=130 parameter2=43 END
	LPF CLONE_EFFECT INT_VAR multi_match=1 silent=1 match_opcode=immunitytospellandmessage probability1=100 probability2=0 parameter1=41 parameter2=110 STR_VAR insert=~first~ END
	LPF CLONE_EFFECT INT_VAR multi_match=1 silent=1 match_opcode=immunitytospellandmessage probability1=100 probability2=0 parameter2=66 STR_VAR insert=~first~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=charm2 STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @21512

COPY_EXISTING ~mepr515.spl~ ~override/sppr515.spl~
	LPF ALTER_EFFECT STR_VAR match_resource=~mepr515d~ resource=~sppr515d~ END
	SAY NAME1 @19319
	SAY UNIDENTIFIED_DESC @21515

COPY_EXISTING ~mepr515d.spl~ ~override/sppr515d.spl~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mecircrp END
	LPF ALTER_EFFECT STR_VAR match_resource=~mepr515d~ resource=~sppr515d~ END
	SAY UNIDENTIFIED_DESC @21515

COPY_EXISTING ~sppr517.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=18 savingthrow=vsspell savebonus=(0 - 10) END
//	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @21517

COPY_EXISTING ~mepr602.spl~ ~override/sppr602.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=summonmonsters power=6 duration=((i * 6) + 60) parameter1=(i + 9) END
	END
	SAY UNIDENTIFIED_DESC @21602

COPY_EXISTING ~sppr602.spl~ ~override/spra306.spl~
	WRITE_LONG spelllevel 3
	LPF ALTER_EFFECT INT_VAR match_power=6 power=3 END

COPY_EXISTING ~sppr603.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=3 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~mems413~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~sppr603~ END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=castspelloncondition opcode=applyrepeatingeff parameter1=2 parameter2=3 STR_VAR match_resource=~sppr603d~ resource=~mepr603~ END
	SAY UNIDENTIFIED_DESC @21603

COPY_EXISTING ~sppr603d.spl~ ~override~
	WRITE_LONG NAME1 (0 - 1)
	WRITE_ASCII 0x10 ~~ #8
	WRITE_SHORT 0x22 0
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=damage parameter1=0 dicenumber=1 dicesize=6 special=0 END
	LPF ALTER_SPELL_EFFECT INT_VAR savingthrow=bypassmirrorimage END

COPY_EXISTING ~sppr604.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=createcreature END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=summonmonsters END
	LPF DELETE_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=useefffile match_parameter1=eaanyone match_parameter2=idsea END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=42 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mespbrgr~ END
	SAY NAME1 @19056
	SAY UNIDENTIFIED_DESC @21604
/*
COPY_EXISTING ~mepr603x.itm~ ~override~
	SAY IDENTIFIED_DESC @21603
*/

COPY_EXISTING ~sppr605.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~spfir1p~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=15 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY UNIDENTIFIED_DESC @21605

COPY_EXISTING ~sppr606.spl~ ~override~
	SAY UNIDENTIFIED_DESC @21606

COPY_EXISTING ~mepr607x.itm~ ~override~
	SAY NAME2 @41607
	SAY IDENTIFIED_DESC @41607

COPY_EXISTING ~sppr608.spl~ ~override~ ~sppr699.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~mepr608x.itm~ ~override~
	SAY NAME2 @41608
	SAY IDENTIFIED_DESC @41608

COPY_EXISTING ~sppr610.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr612.spl~ ~override~ ~sphlkel5.spl~ ~override~ //Bolt of Glory
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
//	LPF ALTER_SPELL_HEADER INT_VAR projectile=40 END //Lightning Bolt projectile
	SAY UNIDENTIFIED_DESC @21612
	IF_EXISTS

COPY_EXISTING ~bglry.pro~ ~override~
	WRITE_SHORT 0xA 35
	READ_LONG 0x2C ulgiash
	ulgiash|=0x2
	WRITE_LONG 0x2C ulgiash
	IF_EXISTS

COPY_EXISTING ~sppr650.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=feeblemind STR_VAR resource=~MEPRTOPC~ END

/*
COPY_EXISTING ~mepr701x.itm~ ~override~
	SAY IDENTIFIED_DESC @21701
*/

COPY_EXISTING ~sppr702.spl~ ~override~ ~%mepr658%.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~speart1p~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=15 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END

COPY_EXISTING ~sppr702.spl~ ~override~
	SAY UNIDENTIFIED_DESC @21702

COPY_EXISTING ~sppr705.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr706.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=panic STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr708.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=slay STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~sppr709.spl~ ~override~ //Confusion
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 3) END
	END
	LPF ALTER_SPELL_EFFECT INT_VAR savingthrow=none END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=confusion STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @21709

COPY_EXISTING ~sppr711.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 3) END
	END

/*
COPY_EXISTING ~mepr712x.itm~ ~override~
	SAY IDENTIFIED_DESC @41712
*/

COPY_EXISTING ~sppr717.spl~ ~override~ //Creeping Doom
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=0 duration=3 parameter2=1 STR_VAR resource=~meinsect~ END

COPY_EXISTING ~sppr718.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=stun STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr719.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=powerwordkill STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=slay STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~sppr720.spl~ ~override~ //Earthquake
	LPF ALTER_SPELL_HEADER INT_VAR projectile=noprojectile END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspellpoint target=1 timing=9 parameter1=1 parameter2=2 STR_VAR resource=~mequakea~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspellpoint target=1 timing=4 duration=12 parameter1=1 parameter2=2 STR_VAR resource=~mequakeb~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspellpoint target=1 timing=4 duration=24 parameter1=1 parameter2=2 STR_VAR resource=~mequakec~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~mequakea.spl~ ~override~ ~mequakeb.spl~ ~override~ ~mequakec.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=0 parameter2=splprot_meflyingspeednotequalto STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter1=0 parameter2=0x2040010 special=(0 - 1) STR_VAR resource=~MEPRTOFF~ END

COPY_EXISTING ~sppr721.spl~ ~override~ //Energy Blades
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=7 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~sppr721~ END

COPY_EXISTING ~sppr722.spl~ ~override~ //Storm of Vengeance
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mestormv END
	SAY NAME1 @19089
	SAY UNIDENTIFIED_DESC @21722

COPY_EXISTING ~sppr728.spl~ ~override~ //Implosion
	SAY NAME1 @19398

COPY_EXISTING ~sppr730.spl~ ~override~ ~sppr730d.spl~ ~override~
	SAY NAME1 @19090
	SAY UNIDENTIFIED_DESC @21730

COPY_EXISTING ~sppr750b.spl~ ~override~ //Ether Gate ally maze
	LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=0 multi_match=1 match_opcode=maze opcode=setstate timing=0 duration=30 parameter2=127 special=1 END

COPY_EXISTING ~sppr751.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_globals=0 match_opcode=displaystring match_parameter1=360 parameter1=31734 END
	BUT_ONLY_IF_IT_CHANGES

PRINT @179

COPY_EXISTING ~spwi101.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 duration=1 parameter1=0 parameter2=splprot_meflyingspeednotequalto STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter1=0 parameter2=0x2040010 special=(0 - 1) STR_VAR resource=~MEPRTOFF~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=modifymovementrate1 special=(0 - 1) STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=grease special=(0 - 1) STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~spwi102.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_globals=0 match_opcode=modifyac match_parameter2=setbaseac parameter1=5 END
	SAY UNIDENTIFIED_DESC @20102

COPY_EXISTING ~spwi103.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR range=100 projectile=26 END //Cone of fire
	SAY UNIDENTIFIED_DESC @20103

COPY_EXISTING ~spwi104.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=charm1 STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~spwi105.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=sleep new_opcode=stun END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=12 END
	LPF ALTER_EFFECT INT_VAR match_target=presettarget dicenumber=2 dicesize=0 END
	LPF ALTER_EFFECT INT_VAR match_target=presettarget match_opcode=displaystring dicesize=3 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	FOR (i = 4; i <= 10; ++i) BEGIN //Levels 4 to 10
		LPF ALTER_SPELL_HEADER INT_VAR header=(i - 2) min_level=i END
		LPF ALTER_EFFECT INT_VAR header=(i - 3) match_target=presettarget dicenumber=(i - 1) END
		LPF ALTER_EFFECT INT_VAR header=(i - 3) match_target=presettarget match_opcode=displaystring dicesize=i END
	END
	SAY UNIDENTIFIED_DESC @20105

COPY_EXISTING ~spwi106.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=blindness STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi108.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=60 END
	SAY UNIDENTIFIED_DESC @20108

COPY_EXISTING ~spwi111.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=caster END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=infravision new_opcode=modifythac0 parameter1=20 parameter2=0 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=displayportraiticon parameter2=icon_index_mewi111 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=9 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=displaystring parameter1=14052 END
	SAY NAME1 @19057
	SAY UNIDENTIFIED_DESC @20111

COPY_EXISTING ~spwi112.spl~ ~override~
	LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=2 END
	LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=4 END
	LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=6 END
	LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=8 END
	FOR (i = 10; i <= 40; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=5 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=6 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=7 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=8 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=9 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=10 END
	LPF ALTER_SPELL_HEADER INT_VAR header=6 min_level=11 projectile=73 END //6 magic missiles
	LPF ALTER_SPELL_HEADER INT_VAR header=7 min_level=13 projectile=74 END //7 magic missiles
	LPF ALTER_SPELL_HEADER INT_VAR header=8 min_level=15 projectile=75 END //8 magic missiles
	LPF ALTER_SPELL_HEADER INT_VAR header=9 min_level=17 projectile=76 END //9 magic missiles
	LPF ALTER_SPELL_HEADER INT_VAR header=10 min_level=19 projectile=77 END //10 magic missiles
	LPF ALTER_SPELL_HEADER INT_VAR header=11 min_level=21 projectile=78 END //11 magic missiles
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=126 parameter2=110 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20112

COPY_EXISTING ~spwi113.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=1 opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~spwi113~ END

COPY_EXISTING ~spwi114.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=60 END
	LPF CLONE_EFFECT INT_VAR check_globals=0 multi_match=1 match_opcode=protectionfromspell STR_VAR match_resource=~spwi112~ resource=~mems096d~ END
	SAY UNIDENTIFIED_DESC @20114

COPY_EXISTING ~spwi115.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=1 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~spwi115~ END
	SAY UNIDENTIFIED_DESC @20115

COPY_EXISTING ~spwi116.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=sleep parameter2=wakewhendamaged END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_dicenumber=4 dicenumber=10 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=sleep STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @20116

COPY_EXISTING ~spwi117.spl~ ~override~ ~sphlkel1.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 power=1 opcode=removeeffectsbyresource target=1 timing=1 STR_VAR resource=~spwi117~ END
	SAY UNIDENTIFIED_DESC @20117
	IF_EXISTS

COPY_EXISTING ~spwi117a.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=damage target=2 timing=9 parameter2=magiccolddamage resist_dispel=1 dicenumber=5 dicesize=4 END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=disease target=2 timing=0 duration=30 parameter1=3 parameter2=4 resist_dispel=1 savingthrow=vsdeath special=113 END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=protectionfromspell2 target=2 timing=0 duration=1 parameter2=55 insert_point=0 STR_VAR resource=~spwi117a~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=applyeffectslist target=2 timing=1 parameter2=1 resist_dispel=1 savingthrow=vsdeath insert_point=0 STR_VAR resource=~spwi117b~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=1 opcode=applyeffectslist target=2 timing=1 parameter2=1 resist_dispel=1 savingthrow=vsdeath insert_point=0 STR_VAR resource=~spwi117c~ END

COPY_EXISTING ~spwi118.spl~ ~override~ ~spdr101.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi119.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20119

COPY_EXISTING ~scrl84.itm~ ~override~
	SAY IDENTIFIED_DESC @20119

COPY_EXISTING ~spwi123.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=1 parameter2=1 special=999 STR_VAR resource=~MEFAMILT~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=removeeffectsbyresource target=1 timing=9 STR_VAR resource=~SPWI123~ END
	SAY UNIDENTIFIED_DESC @20123

COPY_EXISTING_REGEXP ~fam.*\.cre~ ~override~
	LPF ADD_CRE_EFFECT INT_VAR opcode=401 target=1 timing=9 parameter1=65 parameter2=1 special=684 END

COPY_EXISTING ~spwi125.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=panic STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPWI1~ RET mewi161=filename END
COPY_EXISTING ~mewi202.spl~ ~override/%mewi161%.spl~
	WRITE_LONG spelllevel 1
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_power=2 power=1 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~mewi202~ resource= EVAL ~%mewi161%~ END
	LPF ALTER_EFFECT INT_VAR match_opcode=protectionfromspell2 match_parameter2=1000 parameter2=splprot_magicresistancegreaterthanorequalto END
	SAY NAME1 @33161
	SAY UNIDENTIFIED_DESC @34161

COPY_EXISTING ~hidespl.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	PATCH_IF numcolumns = 3 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~spwi202    1          0~
	END ELSE PATCH_IF numcolumns = 4 BEGIN
		INSERT_2DA_ROW numrows numcolumns ~spwi202    1          0          0~
	END

COPY_EXISTING ~scrl86.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource=~spwi202~ resource= EVAL ~%mewi161%~ END
	SAY NAME2 @33161
	SAY IDENTIFIED_DESC @34161

COPY_EXISTING ~spwi203.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=1 range=100 projectile=noprojectile END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=invisibilitydetection target=2 timing=0 duration=240 parameter2=1 resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=displayportraiticon target=2 timing=0 duration=240 parameter2=icon_index_mewi203 resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playsound target=2 timing=9 resist_dispel=3 STR_VAR resource=~EFF_P63~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playsound target=2 timing=4 duration=240 resist_dispel=3 STR_VAR resource=~EFF_P31~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=visualeffectbg2 target=2 timing=0 duration=2 parameter2=1 resist_dispel=3 STR_VAR resource=~SPTRUSEE~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=setcolorglowsolid target=2 timing=0 duration=240 parameter1=0x20202000 parameter2=255 resist_dispel=3 END
	WRITE_BYTE secondarytype secondarynoncombat
	SAY UNIDENTIFIED_DESC @20203

COPY_EXISTING ~spwi205.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR duration_high=30 END
	WRITE_BYTE school enchantment //Now it's an enchantment spell
	READ_LONG spellunusability ulgiash
	ulgiash&=0xFFFFFBFF //Now it's usable by illusionists
	ulgiash|=0x200 //Now it's unusable by invokers
	WRITE_LONG spellunusability ulgiash
	WRITE_ASCII castingsound ~CAS_M05~ #8 //Mage enchantment casting sound
	WRITE_SHORT castinganimation animationenchantment
	LPF ALTER_SPELL_HEADER INT_VAR projectile=170 END //Sparkle Area Gold Not Party
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=panic STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @20205

COPY_EXISTING ~spwi208.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=1 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter1=2097152 parameter2=138 special=(0 - 1) STR_VAR resource=~spwi208~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=2 opcode=castspell target=2 timing=9 parameter1=0 parameter2=1 resist_dispel=1 STR_VAR resource=~MEIDECRE~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=2 opcode=402 target=2 timing=0 resist_dispel=1 STR_VAR resource=~MESTATPR~ END
	SAY NAME1 @19235
	SAY UNIDENTIFIED_DESC @20208

COPY_EXISTING ~spwi209.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=lucknoncumulative new_opcode=modifyluck END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifyfindtraps opcode=modifyopenlocks END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=2 END
	LPF ALTER_SPELL_HEADER INT_VAR header=2 min_level=6 END
	LPF ALTER_SPELL_HEADER INT_VAR header=3 min_level=9 END
	LPF ALTER_EFFECT INT_VAR header=0 match_parameter1=1 parameter1=2 END
	LPF ALTER_EFFECT INT_VAR header=0 match_parameter1=5 parameter1=10 END
	LPF ALTER_EFFECT INT_VAR header=1 match_parameter1=1 parameter1=4 END
	LPF ALTER_EFFECT INT_VAR header=1 match_parameter1=5 parameter1=20 END
	LPF ALTER_EFFECT INT_VAR header=2 match_parameter1=1 parameter1=6 END
	LPF ALTER_EFFECT INT_VAR header=2 match_parameter1=5 parameter1=30 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=120 END
	SAY UNIDENTIFIED_DESC @20209

COPY_EXISTING ~spwi211.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi213.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=sleep special=(0 - 1) STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~spwi215.spl~ ~override~ ~spdr201.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=web special=(0 - 1) STR_VAR resource=~MEPRTOPC~ END
//	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=paralyze special=(0 - 1) STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 duration=1 parameter1=0 parameter2=splprot_meflyingspeednotequalto STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter1=0 parameter2=0x2040010 special=(0 - 1) STR_VAR resource=~MEPRTOFF~ END

COPY_EXISTING ~spwi218.spl~ ~override~
	SAY UNIDENTIFIED_DESC @20218

COPY_EXISTING ~spwi220.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=powerwordsleep new_opcode=sleep timing=0 duration=30 parameter2=0 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=sleep STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20220

COPY_EXISTING ~spwi221.spl~ ~override~
	WRITE_BYTE school necromancy //Now it's a necromancy spell
	READ_LONG spellunusability ulgiash
	ulgiash&=0xFFFFF7FF //Now it's usable by invokers
	ulgiash|=0x100 //Now it's unusable by illusionists
	WRITE_LONG spellunusability ulgiash
	WRITE_ASCII castingsound ~CAS_M07~ #8 //Mage necromancy casting sound
	WRITE_SHORT castinganimation animationnecromancy
	LPF ALTER_SPELL_HEADER INT_VAR projectile=50 END //Sparkle Ice
	LPF ALTER_EFFECT INT_VAR match_target=2 savebonus=(0 - 3) END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=leveldrain STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20221

COPY_EXISTING ~scrlai.itm~ ~override~
	READ_BYTE 0x2D ulgiash
	ulgiash|=0x4 //Now it's unusable by illusionists
	ulgiash&=0xF7 //Now it's usable by invokers
	WRITE_BYTE 0x2D ulgiash
	SAY IDENTIFIED_DESC @20221

COPY_EXISTING ~spwi223.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=deafness STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi299.spl~ ~override~
	WRITE_BYTE school conjuration //Now it's a conjuration spell
	READ_LONG spellunusability ulgiash
	ulgiash&=0xFFFFF7FF //Now it's usable by invokers
	WRITE_LONG spellunusability ulgiash
	WRITE_ASCII castingsound ~CAS_M03~ #8 //Mage conjuration casting sound
	WRITE_ASCII spellicon ~mewi299c~ #8
	LPF ALTER_SPELL_HEADER INT_VAR projectile=1 STR_VAR icon=~mewi299b~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=castspell target=2 parameter2=1 STR_VAR resource=~MEWI299D~ END
	SAY UNIDENTIFIED_DESC @20299

COPY_EXISTING ~spwi301.spl~ ~override~
	READ_LONG 0x18 ulgiash
	ulgiash&=0xFFFFDFFF
	WRITE_LONG 0x18 ulgiash
	SAY UNIDENTIFIED_DESC @20301

OUTER_SPRINT stringlevel @634
OUTER_SPRINT stringspheredivination @30051
OUTER_SPRINT stringwizard @30052
OUTER_SPRINT stringpriest @30053
LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR3~ RET mepr359=filename END
COPY_EXISTING ~spwi301.spl~ ~override/%mepr359%.spl~
	WRITE_ASCII castingsound ~CAS_P04~ #8
	WRITE_SHORT spelltype 2
	WRITE_LONG spellunusability 0x40000000
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~spwi301~ resource= EVAL ~%mepr359%~ END
	LPF REPLACE_IN_SPELL_DESCRIPTION INT_VAR new_string=1 STR_VAR match= EVAL ~\(%stringlevel%\)~ replace_with= EVAL ~\1
%stringspheredivination%~ END
	LPF REPLACE_IN_SPELL_DESCRIPTION INT_VAR new_string=1 STR_VAR match= EVAL ~%stringwizard%~ replace_with= EVAL ~%stringpriest%~ END

COPY_EXISTING ~spwi303.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi304.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi306.spl~ ~override~
	WRITE_ASCII spellicon ~spwi306c~ #8
	LPF ALTER_SPELL_HEADER STR_VAR icon=~spwi306b~ END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=24 END
	SAY UNIDENTIFIED_DESC @20306

COPY_EXISTING ~spwi308.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~mewi309.spl~ ~override/spwi309.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=summonmonsters power=3 duration=((i * 6) + 60) parameter1=i END
	END
	SAY UNIDENTIFIED_DESC @20309

COPY_EXISTING ~spwi311.spl~ ~override~ ~spra303.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=caster END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=protectionfromprojectile END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=60 resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymissileresistance target=2 timing=0 duration=60 parameter1=50 resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~spra303~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~spwi311~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mems045~ END
	SAY NAME1 @19059
	SAY UNIDENTIFIED_DESC @20311

COPY_EXISTING ~spwi312.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=slow STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~spwi313.spl~ ~override~
	FOR (i = 11; i <= 50; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20313

COPY_EXISTING ~spwi314.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi316.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR multi_match=1 match_opcode=charm match_parameter1=generalhumanoid parameter1=0 END
	LPF ALTER_EFFECT INT_VAR multi_match=1 match_opcode=immunitytospellandmessage match_parameter2=113 parameter2=splprot_nothumanoidorgianthumanoid END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=36 END
	SAY UNIDENTIFIED_DESC @20316

COPY_EXISTING ~spwi319.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=modifyfireresistance parameter2=0 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=modifymagicfireresistance parameter2=0 END
	SAY UNIDENTIFIED_DESC @20319

COPY_EXISTING ~spwi320.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=modifycoldresistance parameter2=0 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=modifymagiccoldresistance parameter2=0 END
	SAY UNIDENTIFIED_DESC @20320

COPY_EXISTING ~spwi321.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~spwi406~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~spwi602~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mems095~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~meco247~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mepot33~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mescrl07~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~meminorg~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyopcode target=2 timing=1 parameter1=(0 - 1) parameter2=minorglobe END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyopcode target=2 timing=1 parameter1=(0 - 1) parameter2=protectionfromspelllevel END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeportraiticon target=2 timing=1 parameter2=28 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playsound target=2 timing=1 STR_VAR resource=~tra_26~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=visualeffectbg2 target=2 timing=0 duration=3 parameter2=1 STR_VAR resource=~spattck1~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20321

COPY_EXISTING ~spwi322.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=caster projectile=254 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removespellsbyschool END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=removespellsbytype parameter1=9 END
	LPF ALTER_SPELL_EFFECT INT_VAR resist_dispel=0 savingthrow=none END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=forcevisible target=2 timing=1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeinvisibility1 target=2 timing=1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeinvisibility2 target=2 timing=1 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=0 parameter1=7 parameter2=7 STR_VAR resource=~DESTSELF~ END
	SAY UNIDENTIFIED_DESC @20322

COPY_EXISTING ~spwi324.spl~ ~override~ ~spcl742.spl~ ~override~ ~sphlkel2.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=36  END
	LPF ALTER_EFFECT INT_VAR match_target=2 savebonus=(0 - 1) END
	SAY UNIDENTIFIED_DESC @20324
	IF_EXISTS

COPY_EXISTING ~spwi401.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=36 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=confusion STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @20401

COPY_EXISTING ~spwi402.spl~ ~override~ ~spwi926.spl~ ~override~ ~spwi931.spl~ ~override~ ~spwi994.spl~ ~override~ ~%mewi155%.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playvisualeffectbg2 target=1 timing=1 insert_point=0 STR_VAR resource=~DDOORH~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playsound target=1 timing=1 insert_point=0 STR_VAR resource=~EFF_M93~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=teleport target=1 timing=1 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=playvisualeffectbg2 target=1 timing=1 insert_point=0 STR_VAR resource=~DDOORH~ END

COPY_EXISTING ~spwi404.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~mewi407.spl~ ~override/spwi407.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=summonmonsters power=4 duration=((i * 6) + 60) parameter1=(i + 3) END
	END
	SAY UNIDENTIFIED_DESC @20407

COPY_EXISTING ~spwi408.spl~ ~override~
	READ_LONG spellunusability ulgiash
	ulgiash&=0xFFFFFFBF //Now it's usable by abjurers
	WRITE_LONG spellunusability ulgiash
	SAY UNIDENTIFIED_DESC @20408

COPY_EXISTING ~scrl1v.itm~ ~override~ ~scrl2b.itm~ ~override~
	READ_BYTE 0x2F ulgiash
	ulgiash&=0xBF //Now it's usable by abjurers
	WRITE_BYTE 0x2F ulgiash
	SAY IDENTIFIED_DESC @20408

COPY_EXISTING ~spwi409.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR multi_match=1 match_opcode=disease parameter2=6 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=disease parameter1=4 END
	LPF ALTER_SPELL_EFFECT INT_VAR savingthrow=vsdeath savebonus=(0 - 4) END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=disease STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20409

COPY_EXISTING ~spwi411.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=feeblemind STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~spwi412.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeeffectsbyresource END
	SAY UNIDENTIFIED_DESC @20412

COPY_EXISTING ~spwi413.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR savingthrow=nosave END
	SAY UNIDENTIFIED_DESC @20413

OUTER_SPRINT stringlevel @634
OUTER_SPRINT stringspherenecromantic @30115
OUTER_SPRINT stringwizard @30052
OUTER_SPRINT stringpriest @30053
COPY_EXISTING ~spwi414.spl~ ~override/mepr457.spl~
	WRITE_ASCII castingsound ~CAS_P07~ #8
	WRITE_SHORT spelltype 2
	WRITE_LONG spellunusability 0x40000000
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~spwi414~ resource= EVAL ~mepr457~ END
	LPF REPLACE_IN_SPELL_DESCRIPTION INT_VAR new_string=1 STR_VAR match= EVAL ~\(%stringlevel%\)~ replace_with= EVAL ~\1
%stringspheredivination%~ END
	LPF REPLACE_IN_SPELL_DESCRIPTION INT_VAR new_string=1 STR_VAR match= EVAL ~%stringwizard%~ replace_with= EVAL ~%stringpriest%~ END

LAF ADD_CLASS_SPELL STR_VAR resref=~MEPR457~ class_include=~{21}~ END

COPY_EXISTING ~spwi415.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifymaxhp END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifystrength END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=castingfailure END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifyac END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=2400 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~squirp~ END
//	LPF ALTER_EFFECT STR_VAR match_resource=~SQUIRR~ resource=~MEPLYGRO~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=polymorph STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=changeanimation STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20415

COPY_EXISTING ~squirp.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=castspelloncondition target=1 timing=2 parameter1=targetcaster parameter2=16 STR_VAR resource=~mexplo02~ END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=changeaitype target=1 timing=2 parameter1=182 parameter2=2 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifystrength target=1 timing=2 parameter1=2 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifydexterity target=1 timing=2 parameter1=16 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyconstitution target=1 timing=2 parameter1=2 parameter2=1 END
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=modifyanimation target=1 timing=2 parameter1=50176 END

COPY_EXISTING ~spwi416.spl~ ~override~
	LPF DELETE_EFFECT STR_VAR match_resource=~spwi497~ END
	LPF DELETE_EFFECT STR_VAR match_resource=~spwi498~ END
	SAY UNIDENTIFIED_DESC @20416

COPY_EXISTING ~spwi417.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=modifyenchantment match_parameter2=0 parameter1=6 END
	SAY UNIDENTIFIED_DESC @20417

COPY_EXISTING ~spwi419.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi420.spl~ ~override~
	FOR (i = 2; i <= 40; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createspellsequencer parameter1=1 parameter2=3 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ALTER_SPELL_HEADER INT_VAR header=2 min_level=5 END
	LPF ADD_SPELL_EFFECT INT_VAR header=2 opcode=castspell target=1 timing=1 parameter1=0 parameter2=1 STR_VAR resource=~mewi420~ END
	SAY UNIDENTIFIED_DESC @20420

COPY_EXISTING_REGEXP ~spwi420[dp].spl~ ~override~
	LPF ALTER_SPELL_HEADER STR_VAR icon=~spwi420c~ END
	SAY UNIDENTIFIED_DESC @20420

LAF ADD_CONTINGENCY INT_VAR description=24616 STR_VAR resource=~MEWI420~ title=~ME_MINOR_SEQUENCER_TITLE~ title_name=~Minor Sequencer~ action=~ADD_SPELLS_SEQUENCER_LABEL~ END

COPY_EXISTING ~spwi423.spl~ ~override~
	FOR (i = 2; i <= 40; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=useefffile END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
	LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=2 END
	LPF ALTER_SPELL_HEADER INT_VAR header=2 min_level=15 END
	LPF ALTER_SPELL_HEADER INT_VAR header=3 min_level=20 END
	LPF ADD_SPELL_EFFECT INT_VAR header=1 opcode=useefffile target=1 timing=0 duration=30 parameter1=eaanyone parameter2=idsea STR_VAR resource=~MESPDHSU~ END
	LPF ADD_SPELL_EFFECT INT_VAR header=2 opcode=useefffile target=1 timing=0 duration=30 parameter1=eaanyone parameter2=idsea STR_VAR resource=~SPIDGISU~ END
	LPF ADD_SPELL_EFFECT INT_VAR header=3 opcode=useefffile target=1 timing=0 duration=30 parameter1=eaanyone parameter2=idsea STR_VAR resource=~SPIDSWSU~ END
	SAY UNIDENTIFIED_DESC @20423

COPY_EXISTING ~spwi424.spl~ ~override~
	WRITE_SHORT castinganimation none
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 target=7 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=visualeffectbg2 END
	SAY UNIDENTIFIED_DESC @20424

COPY_EXISTING ~spwi425.spl~ ~override~
	WRITE_BYTE school divination //Now it's a divination spell
	READ_LONG spellunusability ulgiash
	ulgiash&=0xFFFFFBFF //Now it's usable by abjurers
	WRITE_LONG spellunusability ulgiash
	WRITE_SHORT castinganimation animationdivination
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=120 END
	SAY UNIDENTIFIED_DESC @20425

COPY_EXISTING ~scrla1.itm~ ~override~
	READ_BYTE 0x2F ulgiash
	ulgiash&=0xBF //Now it's usable by abjurers
	WRITE_BYTE 0x2F ulgiash
	SAY IDENTIFIED_DESC @20425

COPY_EXISTING ~spwi489.spl~ ~override~ ~spwi490.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=removeitem target=1 timing=1 STR_VAR resource=~WOLFM~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=createweapon target=1 timing=1 STR_VAR resource=~WOLFM~ END

COPY_EXISTING ~spwi493.spl~ ~override~
	WRITE_ASCII icon ~meperm02~ #8
	LPF ALTER_SPELL_HEADER STR_VAR icon=~meperm02~ END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~mebaslps~ END
	SAY NAME1 @19322
	SAY UNIDENTIFIED_DESC @20493

COPY_EXISTING ~mebaslps.itm~ ~override~
	SAY IDENTIFIED_DESC @20493

COPY_EXISTING ~spwi494.spl~ ~override~
	WRITE_ASCII icon ~imisc9d~ #8
	LPF ALTER_SPELL_HEADER STR_VAR icon=~imisc9d~ END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~metrolps~ END
	SAY NAME1 @19325
	SAY UNIDENTIFIED_DESC @20494

COPY_EXISTING ~metrolps.itm~ ~override~
	SAY IDENTIFIED_DESC @20494

COPY_EXISTING ~spwi495.spl~ ~override~
	WRITE_ASCII icon ~imisc60~ #8
	LPF ALTER_SPELL_HEADER STR_VAR icon=~imisc60~ END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~mespdph2~ END
	SAY NAME1 @19324
	SAY UNIDENTIFIED_DESC @20495

COPY_EXISTING ~mespdph2.itm~ ~override~
	SAY IDENTIFIED_DESC @20495

COPY_EXISTING ~spwi496.spl~ ~override~
	WRITE_ASCII icon ~imisc12~ #8
	LPF ALTER_SPELL_HEADER STR_VAR icon=~imisc12~ END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~meankhps~ END
	SAY NAME1 @19323
	SAY UNIDENTIFIED_DESC @20496

COPY_EXISTING ~meankhps.itm~ ~override~
	SAY IDENTIFIED_DESC @20496

COPY_EXISTING ~spwi499.spl~ ~override~
	WRITE_ASCII icon ~imisc01~ #8
	LPF ALTER_SPELL_HEADER STR_VAR icon=~imisc01~ END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=createweapon STR_VAR resource=~mewowips~ END
	SAY NAME1 @19291
	SAY UNIDENTIFIED_DESC @20499

COPY_EXISTING ~mewowips.itm~ ~override~
	LPF ALTER_ITEM_HEADER INT_VAR projectile=idpro25 END
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=displayportraiticon match_parameter2=156 parameter2=icon_index_mepr156 END
	SAY IDENTIFIED_DESC @20499

COPY_EXISTING ~spwi502.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR power=5 insert_point=0 opcode=eeexinvokelua target=2 parameter2=poison resist_dispel=1 STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~mewi504.spl~ ~override/spwi504.spl~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=summonmonsters power=5 duration=((i * 6) + 60) parameter1=(i + 6) END
	END
	SAY UNIDENTIFIED_DESC @20504

COPY_EXISTING ~spwi506.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=48 END
	LPF CLONE_EFFECT INT_VAR match_opcode=charm1 multi_match=1 opcode=applyeffectslist parameter1=0 parameter2=50 timing=1 duration=0 STR_VAR resource=~meviewdm~ END
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=immunitytospellandmessage match_parameter2=15 END
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=immunitytospellandmessage match_parameter2=19 END
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=useefffile match_parameter1=raceelf match_parameter2=idsrace END
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=useefffile match_parameter1=racehalfelf match_parameter2=idsrace END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=charm1 STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @20506

COPY_EXISTING ~spwi507.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=30 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=holdcreature1 STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @20507

COPY_EXISTING ~spwi508.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=5 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=36 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=confusion STR_VAR resource=~MEPRTOPC~ END
	SAY UNIDENTIFIED_DESC @20508

COPY_EXISTING ~spwi509.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=feeblemind timing=0 duration_high=54 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=displayportraiticon timing=0 duration_high=54 END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=feeblemind STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20509

COPY_EXISTING ~spwi510.spl~ ~override~ //Spell Immunity
	LPF ALTER_SPELL_HEADER INT_VAR target=7 speed=0 END

COPY_EXISTING ~spwi513.spl~ ~override~
	LPF DELETE_EFFECT INT_VAR match_opcode=displaystring match_parameter1=26437 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removespellsoftype END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeportraiticon END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeportraiticon target=2 timing=1 parameter2=62 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeportraiticon target=2 timing=1 parameter2=80 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyac target=2 timing=0 duration=120 parameter1=(0 - 20) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyopcode target=2 timing=1 parameter1=(0 - 1) parameter2=stoneskin END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removespellsoftype target=2 timing=1 parameter1=5 parameter2=secondarycombatprotections END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=setcolorglowsolid target=2 timing=0 duration=120 parameter1=0x80808000 resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr004~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr005~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20513

COPY_EXISTING ~spwi514.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifyslashingresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifypiercingresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifycrushingresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifymissileresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifyfireresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifycoldresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifyelecresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifyacidresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifymagicdamageresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifymagicfireresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=modifymagiccoldresistance END
	LPF CLONE_EFFECT INT_VAR match_opcode=modifymagicresistance multi_match=1 opcode=useefffile parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr008~ END
	SAY UNIDENTIFIED_DESC @20514

COPY_EXISTING ~spwi515.spl~ ~override~
	WRITE_BYTE secondarytype 0
	LPF ALTER_SPELL_HEADER INT_VAR projectile=noprojectile END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR power=5 opcode=applyrepeatingeff target=1 timing=0 duration=1200 parameter1=1 parameter2=2 resist_dispel=3 STR_VAR resource=~mewi515e~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=5 opcode=visualeffectbg2 target=1 timing=0 duration=2 parameter2=1 resist_dispel=3 STR_VAR resource=~sptrusee~ END
	LPF ADD_SPELL_EFFECT INT_VAR power=5 opcode=displayportraiticon target=1 timing=0 duration=1200 parameter2=icon_index_mewi515 resist_dispel=3 END
	SAY UNIDENTIFIED_DESC @20515

COPY_EXISTING ~mewi515d.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=meglobal END
	IF_EXISTS

COPY_EXISTING ~M_MESTR1.lua~ ~override~
	ex_oracle_feedback_strref = RESOLVE_STR_REF(~<ME_ORACL>~)
	SPRINT ex_oracle_feedback_string_1 @30095
	SPRINT ex_oracle_feedback_string_2 @30096
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_oracle_feedback_strref *=.*~ ~ex_oracle_feedback_strref = %ex_oracle_feedback_strref%~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_oracle_feedback_string_1 *=.*~ ~ex_oracle_feedback_string_1 = "%ex_oracle_feedback_string_1%"~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ex_oracle_feedback_string_2 *=.*~ ~ex_oracle_feedback_string_2 = "%ex_oracle_feedback_string_2%"~

COPY_EXISTING ~spwi516.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~splesfir~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=12 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY UNIDENTIFIED_DESC @20516

COPY_EXISTING ~spwi518.spl~ ~override~
	SAY UNIDENTIFIED_DESC @20518

COPY_EXISTING ~spwi520.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~splesair~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=12 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY UNIDENTIFIED_DESC @20520

COPY_EXISTING ~spwi521.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~splesear~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=12 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY UNIDENTIFIED_DESC @20521

COPY_EXISTING ~spwi523.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi604.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_savingthrow=vsspell savingthrow=vspolymorph END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=petrification STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 parameter1=183 parameter2=105 STR_VAR resource=~spwi604~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=applyeffectslist target=2 timing=1 parameter1=183 parameter2=105 STR_VAR resource=~meflesht~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20604

COPY_EXISTING ~spwi605.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=slay STR_VAR resource=~MEPRTOPC~ END

COPY_EXISTING ~spwi608.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=72 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagicresistance parameter1=(0 - 100) END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeonespelloftype END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removespellsoftype END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removespellsoftype target=2 timing=1 parameter1=6 parameter2=secondaryspellprotections END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr006~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20608

COPY_EXISTING ~spwi612.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=silence STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi613.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=((i * 6) + 18) END
	END

COPY_EXISTING ~spwi614.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 specia1=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi615.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20615

COPY_EXISTING ~mewi615d.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mechali3 END

COPY_EXISTING ~scrl7s.itm~ ~override~ ~mescrl7s.itm~ ~override~
	SAY IDENTIFIED_DESC @20615
	IF_EXISTS

COPY_EXISTING ~spwi615.spl~ ~override/spdr601.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource=~spwi615~ resource=~spdr601~ END
	WRITE_ASCII castingsound ~CAS_P06~ #8
	WRITE_SHORT spelltype 2
	WRITE_LONG spellunusability 0

COPY_EXISTING ~spwi616.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_savingthrow=vsspell savingthrow=vspolymorph END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=disintegrate STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20616

COPY_EXISTING ~spwi617.spl~ ~override~
	FOR (i = 2; i <= 40; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=contingency parameter1=4 parameter2=0x00010003 END
	SAY UNIDENTIFIED_DESC @20617

COPY_EXISTING ~spwi619.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END

COPY_EXISTING ~wyvernsu.eff~ ~override~
	WRITE_ASCII 0x70 ~MENOBAM~ #8


COPY_EXISTING ~spwi620.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~spfir1~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=15 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
//	SAY NAME1 @19062
	SAY UNIDENTIFIED_DESC @20620

COPY_EXISTING ~spwi621.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~spair1~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=15 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
//	SAY NAME1 @19063
	SAY UNIDENTIFIED_DESC @20621

COPY_EXISTING ~spwi622.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=0 duration=6 parameter1=eaanyone parameter2=idsea STR_VAR resource=~speart1~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=15 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
//	SAY NAME1 @19064
	SAY UNIDENTIFIED_DESC @20622

COPY_EXISTING ~spwi625.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 parameter1=184 parameter2=105 STR_VAR resource=~spwi625~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=applyeffectslist target=2 timing=1 parameter1=184 parameter2=105 STR_VAR resource=~mestonet~ END

COPY_EXISTING ~scrlpet.itm~ ~override~
	LPF ADD_ITEM_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 parameter1=184 parameter2=105 STR_VAR resource=~scrlpet~ END
	LPF ADD_ITEM_EFFECT INT_VAR insert_point=0 opcode=applyeffectslist target=2 timing=1 parameter1=184 parameter2=105 STR_VAR resource=~mestonet~ END

COPY_EXISTING ~spwi702.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifymagicfireresistance END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifymagiccoldresistance END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyfireresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifycoldresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyelectricityresistance parameter1=200 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY NAME1 @19320
	SAY UNIDENTIFIED_DESC @20702

OUTER_SPRINT stringlevel7 @633
OUTER_SPRINT stringpriestprotectionelements @30044
LAF GET_UNIQUE_SPELL_NAME STR_VAR prefix=~SPPR5~ RET mepr553=filename END
COPY_EXISTING ~spwi702.spl~ ~override/%mepr553%.spl~
	WRITE_ASCII castingsound ~CAS_P02~ #8
	WRITE_SHORT spelltype 2
	WRITE_LONG spelllevel 5
	WRITE_LONG spellunusability 0x40000000
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_power=7 power=5 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource=~spwi702~ resource= EVAL ~%mepr553%~ END
	LPF REPLACE_IN_SPELL_DESCRIPTION INT_VAR new_string=1 STR_VAR match= EVAL ~%stringlevel7%~ replace_with= EVAL ~%stringpriestprotectionelements%~ END

COPY_EXISTING ~scrl8e.itm~ ~override~
	SAY NAME2 @19320
	SAY IDENTIFIED_DESC @20702

COPY_EXISTING ~spwi704.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyfireresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifycoldresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyelecresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyacidresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymagicfireresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymagiccoldresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyslashingresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifypiercingresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifycrushingresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymissileresistance target=2 timing=0 duration=120 parameter1=(0 - 100) parameter2=2 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=visualeffectbg2 target=2 timing=0 duration=3 parameter2=1 STR_VAR resource=~spattck1~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr009~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20704

COPY_EXISTING ~spwi705.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi710.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createspellsequencer parameter1=2 parameter2=1 END

COPY_EXISTING ~spwi710d.spl~ ~override~ ~spwi710p.spl~ ~override~
	LPF ALTER_SPELL_HEADER STR_VAR icon=~spwi710c~ END
	WRITE_BYTE 0x7F 3 //3 targets

COPY_EXISTING_REGEXP ~spwi710.*.spl~ ~override~
	SAY NAME1 @19065
	SAY UNIDENTIFIED_DESC @20710

COPY_EXISTING ~spwi712.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 20; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=damage dicenumber=i END
	END
	SAY UNIDENTIFIED_DESC @20712

COPY_EXISTING ~spwi713.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=slay STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi715.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=stun STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=powerwordstun STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi721.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevsbreath END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevsdeath END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevsspell END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevswand END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifysavevspolymorph END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifyallsaves END

COMPILE ~override/wish.d~

COPY_EXISTING ~spwi803.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyfireresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifycoldresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyelectricityresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifyacidresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagicdamageresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagicfireresistance parameter1=200 END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagiccoldresistance parameter1=200 END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i duration_high=(i * 6) END
	END
	SAY NAME1 @19321
	SAY UNIDENTIFIED_DESC @20803

COPY_EXISTING ~scrl8y.itm~ ~override~
	SAY NAME2 @19321
	SAY IDENTIFIED_DESC @20803

COPY_EXISTING ~spwi804.spl~ ~override~
	LPF CLONE_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell opcode=protectionfromspell2 parameter2=splprot_canhavemultiplesimulacra special=0 STR_VAR match_resource=~spwi804~ insert=~above~ END

COPY_EXISTING ~spwi805.spl~ ~override~
	LPF DELETE_EFFECT INT_VAR match_opcode=displaystring match_parameter1=26437 END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifymagicresistance END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeonespelloftype END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removespellsoftype END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=displayportraiticon END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeportraiticon target=2 timing=1 parameter2=62 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeportraiticon target=2 timing=1 parameter2=80 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyopcode target=2 timing=1 parameter1=(0 - 1) parameter2=stoneskin END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removespellsoftype target=2 timing=1 parameter1=9 parameter2=secondarycombatprotections END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr025~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20805

COPY_EXISTING ~spwi809.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=createspellsequencer parameter1=4 parameter2=3 END

COPY_EXISTING ~spwi809d.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR range=1 STR_VAR icon=~spwi809c~ END

COPY_EXISTING_REGEXP ~spwi809.*.spl~ ~override~
	SAY NAME1 @19066
	SAY UNIDENTIFIED_DESC @20809

COPY_EXISTING ~spwi810.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi811.spl~ ~override~ ~spwi899.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=panic STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi812.spl~ ~override~
	FOR (i = 2; i <= 50; ++i) BEGIN
		LPF DELETE_SPELL_HEADER INT_VAR header_type=(0 - 1) min_level=i END
	END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=immunitytospellandmessage target=2 timing=0 duration=1 parameter2=55 STR_VAR resource=~spwi812~ END
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=damage dicenumber=1 END
	FOR (i = 1; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		LPF ALTER_SPELL_EFFECT INT_VAR header=(i + 1) match_opcode=damage dicenumber=(i + 1) END
		numheaders = numheaders + 1
	END
//	SAY UNIDENTIFIED_DESC @20812

COPY_EXISTING ~spwi815.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=noprojectile END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20815

COPY_EXISTING ~spwi816.spl~ ~override~ ~spwi898.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=stun STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi817.spl~ ~override~ ~spwi897.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=slay STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 parameter2=powerwordkill STR_VAR resource=~MEPRTOPC~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 special=15 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi818.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi903.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyfireresistance target=2 timing=0 duration=60 parameter1=(0 - 100) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifycoldresistance target=2 timing=0 duration=60 parameter1=(0 - 100) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyelecresistance target=2 timing=0 duration=60 parameter1=(0 - 100) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifyacidresistance target=2 timing=0 duration=60 parameter1=(0 - 100) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymagicdamageresistance target=2 timing=0 duration=60 parameter1=(0 - 100) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymagicfireresistance target=2 timing=0 duration=60 parameter1=(0 - 100) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=modifymagiccoldresistance target=2 timing=0 duration=60 parameter1=(0 - 100) resist_dispel=3 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mepot33~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=2 timing=1 STR_VAR resource=~mescrl07~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr007~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20903

COPY_EXISTING ~spwi908.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=contingency parameter1=8 parameter2=2 END
	SAY UNIDENTIFIED_DESC @20908

COPY_EXISTING ~spwi909.spl~ ~override~ //Time Stop
	WRITE_BYTE 0x27 none //It is no longer a Battleground spell

COPY_EXISTING ~spwi910.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
/*
COPY_EXISTING ~spwi911.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR target=1 END
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=visualeffectbg2 target=1 timing=0 duration=5 parameter2=1 STR_VAR resource=~mefladow~ END
	WRITE_SHORT 0x98 1
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=1 parameter=1 parameter2=2 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=5 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=10 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=14 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=17 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=20 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=22 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=24 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=25 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=26 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=27 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=4 duration=28 parameter1=1 parameter2=1 STR_VAR resource=~MEMETEOR~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20911

COPY_EXISTING ~spwi911.spl~ ~override/mewi911g.spl~
	LPF ALTER_SPELL_HEADER INT_VAR speed=1 END
	LPF ALTER_EFFECT STR_VAR match_resource=~MEMETEOR~ resource=~MEMETEOG~ END
*/

COPY_EXISTING ~spwi911.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=1 timing=1 parameter1=eaanyone parameter2=idsea STR_VAR resource=~MEMSWARS~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=402 target=2 timing=0 parameter1=0x534D454D parameter2=0x44524157 special=240 STR_VAR resource=~MERANDSP~ END
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 50; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=i insert_point=i END
		LPF ALTER_SPELL_HEADER INT_VAR header=(i + 1) min_level=(i + 1) END
		numheaders = numheaders + 1
	END
	startrow = meteorswarmrow
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i projectile=startrow END
		startrow = startrow + 1
	END
	SAY UNIDENTIFIED_DESC @20911

COPY_EXISTING ~memsward.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mecomsml END

COPY_EXISTING ~scrl9t.itm~ ~override~
	SAY IDENTIFIED_DESC @20911
	IF_EXISTS

COPY_EXISTING ~mewi911g.spl~ ~override~
	SAY NAME1 @19406
	SAY UNIDENTIFIED_DESC @19401

COPY_EXISTING ~spwi912.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi914.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR header=1 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@811) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=2 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@812) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=3 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@813) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=4 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@814) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=5 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@815) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=6 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@816) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=7 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@817) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=8 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@818) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=9 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@819) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=10 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@820) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=11 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@821) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=12 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@822) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=13 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@823) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=14 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@824) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=15 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@825) END
	LPF ALTER_SPELL_EFFECT INT_VAR header=16 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@826) END
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END
	SAY UNIDENTIFIED_DESC @20914

COPY_EXISTING ~scrl9w.itm~ ~override~
	SAY IDENTIFIED_DESC @20914
	IF_EXISTS

COPY_EXISTING ~spcl104.spl~ ~override~ ~spcl242.spl~ ~override~ ~sppr413.spl~ ~override~ ~amul21.itm~ ~override~
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@816) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@817) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@818) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@819) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@820) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@821) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@822) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@823) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@824) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@825) END
	LPF CLONE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromopcode match_parameter2=leveldrain opcode=protectionfromstring parameter1=RESOLVE_STR_REF(@826) END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~spwi918.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=3 STR_VAR resource=~MEINHOST~ END

COPY_EXISTING ~spwi921.spl~ ~override~
	SAY NAME1 @19117
	SAY UNIDENTIFIED_DESC @20921

COPY_EXISTING ~spwi922.spl~ ~override~
	READ_SHORT 0x68 numheaders
	FOR (i = numheaders; i < 30; ++i) BEGIN
		LPF ADD_SPELL_HEADER INT_VAR copy_header=1 insert_point=1 END
		numheaders = numheaders + 1
	END
	FOR (i = 1; i <= numheaders; ++i) BEGIN
		LPF ALTER_SPELL_HEADER INT_VAR header=i min_level=i END
		LPF ALTER_SPELL_EFFECT INT_VAR header=i match_opcode=damage dicenumber=i END
	END
	SAY NAME1 @19198
	SAY UNIDENTIFIED_DESC @20922

COMPILE ~override/wish25.d~

COPY_EXISTING ~spwi925.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=idpro317 END
	SAY NAME1 @43726
	SAY UNIDENTIFIED_DESC @44726

COPY_EXISTING ~spwi927.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=0 duration=300 parameter1=1 parameter2=1 special=639 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=1 timing=9 parameter1=1 parameter2=2 insert_point=0 STR_VAR resource=~meethren~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=0 duration=300 insert_point=0 STR_VAR resource=~meghowst~ END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=translucency target=1 timing=0 duration=300 parameter1=75 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=0 duration=300 parameter1=60 parameter2=1 special=640 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=passwall target=1 timing=0 duration=300 parameter2=1 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=protectionfromweapons target=1 timing=0 duration=300 parameter2=2 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=setspellstate target=1 timing=0 duration=300 parameter2=111 special=1 insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeopcode target=1 timing=1 parameter1=488 parameter2=protectionfromspell insert_point=0 END
	LPF ADD_SPELL_EFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=1 insert_point=0 STR_VAR resource=~spwi927~ END
	IF_EXISTS

COPY_EXISTING ~spwi960.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=damage parameter2=crushingdamage END
	SAY NAME1 @19067

COPY_EXISTING_REGEXP ~spcl61[1-3]\.spl~ ~override~ ~spcl63[2-4]\.spl~ ~override~ ~spcl64[34]\.spl~ ~override~ ~spwi415\.spl~ ~override~ ~spwi49[3-9]\.spl~ ~override~ ~mems020\.spl~ ~override~ ~bolt05\.itm~ ~override~ ~wand09\.itm~ ~override~
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=disablebutton match_parameter2=7 END
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=polymorph END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~sppr105.spl~ ~override~ ~sppr211.spl~ ~override~ ~sppr250.spl~ ~override~ ~sppr304.spl~ ~override~ ~sppr313.spl~ ~override~ ~sppr314.spl~ ~override~ ~sppr326.spl~ ~override~ ~sppr423.spl~ ~override~ ~sppr426.spl~ ~override~ ~sppr427.spl~ ~override~ ~sppr450.spl~ ~override~ ~sppr503.spl~ ~override~ ~sppr519.spl~ ~override~ ~sppr612.spl~ ~override~ ~sppr618.spl~ ~override~ ~sppr705.spl~ ~override~ ~sppr706.spl~ ~override~ ~sppr707.spl~ ~override~ ~sppr718.spl~ ~override~ ~sppr719.spl~ ~override~ ~mequakea.spl~ ~override~ ~mequakeb.spl~ ~override~ ~mequakec.spl~ ~override~ ~mepr754.spl~ ~override~ ~meeruptf.spl~ ~override~ ~spwi101.spl~ ~override~ ~spwi103.spl~ ~override~ ~spwi105.spl~ ~override~ ~spwi204.spl~ ~override~ ~spwi213.spl~ ~override~ ~spwi215.spl~ ~override~ ~spwi217.spl~ ~override~ ~spwi304.spl~ ~override~ ~spwi308.spl~ ~override~ ~spwi313.spl~ ~override~ ~spwi328.spl~ ~override~ ~%mewi354%.spl~ ~override~ ~mewi361.spl~ ~override~ ~spwi404.spl~ ~override~ ~spwi431.spl~ ~override~ ~spwi502.spl~ ~override~ ~spwi503.spl~ ~override~ ~spwi523d.spl~ ~override~ ~spwi614.spl~ ~override~ ~%mewi657%.spl~ ~override~ ~spwi712.spl~ ~override~ ~spwi724.spl~ ~override~ ~spwi726.spl~ ~override~ ~%mewi754%.spl~ ~override~ ~spwi810.spl~ ~override~ ~spwi811.spl~ ~override~ ~spwi816.spl~ ~override~ ~spwi817.spl~ ~override~ ~%mewi863%.spl~ ~override~
	READ_LONG 0x34 thespelllevel
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 timing=0 duration=0 savingthrow=0 STR_VAR resource=~MESAFESP~ END
	IF_EXISTS

COPY_EXISTING ~mepr252d.spl~ ~override~ ~sppr323d.spl~ ~override~ ~mepr325d.spl~ ~override~ ~sppr428.spl~ ~override~ ~%mepr454%.spl~ ~override~ ~sppr521.spl~ ~override~ ~sppr603d.spl~ ~override~ ~sppr617.spl~ ~override~ ~mepr654e.spl~ ~override~ ~%mepr657%.spl~ ~override~ ~sppr725d.spl~ ~override~ ~mewi299d.spl~ ~override~ ~spwi430b.spl~ ~override~ ~spwi432y.spl~ ~override~ ~%mewi451%.spl~ ~override~ ~spwi524b.spl~ ~override~ ~mewi560d.spl~ ~override~ ~mewi565d.spl~ ~override~ ~mewi760e.spl~ ~override~ ~%mewi858%.spl~ ~override~ ~mewi861d.spl~ ~override~ ~memsward.spl~ ~override~ ~mewi964.spl~ ~override~ ~mewi965.spl~ ~override~
	READ_LONG 0x34 thespelllevel
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=2 timing=0 duration=0 savingthrow=0x10000 STR_VAR resource=~MESAFESP~ END
	IF_EXISTS

PRINT @180

COPY_EXISTING ~meaecch.spl~ ~override~
	WRITE_SHORT 0x98 mepurge

COPY_EXISTING ~mebrassb.spl~ ~override~
	WRITE_SHORT 0x98 mebrassb
	SAY NAME1 @19240

COPY_EXISTING ~mebrassh.spl~ ~override~
	WRITE_SHORT 0x98 mebrassh

COPY_EXISTING ~mebzgaze.spl~ ~override~
	SAY NAME1 @19068
	SAY UNIDENTIFIED_DESC @19069

COPY_EXISTING ~meco020.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22020

COPY_EXISTING ~meco021.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22021

COPY_EXISTING ~meco022.spl~ ~override~
	SAY NAME1 @19317
	SAY UNIDENTIFIED_DESC @22022

COPY_EXISTING ~meco025.spl~ ~override~
	SAY NAME1 @19070
	SAY UNIDENTIFIED_DESC @22025

COPY_EXISTING ~%mewi354%.spl~ ~override/meco103.spl~ ~%mewi556%.spl~ ~override/meco104.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%DEST_RES%~ END
	IF_EXISTS

COPY_EXISTING ~sppr412.spl~ ~override/meco001.spl~ ~sppr513.spl~ ~override/meco002.spl~ ~spwi803.spl~ ~override/meco003.spl~ ~spwi805.spl~ ~override/meco004.spl~ ~spwi811.spl~ ~override/meco005.spl~ ~spwi813.spl~ ~override/meco006.spl~ ~sppr507.spl~ ~override/meco007.spl~ ~spwi719.spl~ ~override/meco008.spl~ ~sppr717.spl~ ~override/meco009.spl~ ~spwi818.spl~ ~override/meco010.spl~ ~spwi918.spl~ ~override/meco011.spl~ ~spwi518.spl~ ~override/meco012.spl~ ~spwi513.spl~ ~override/meco013.spl~ ~sppr506.spl~ ~override/meco014.spl~ ~spja01.spl~ ~override/meco015.spl~ ~spwi604.spl~ ~override/meco016.spl~ ~spwi625.spl~ ~override/meco017.spl~ ~spwi909.spl~ ~override/meco018.spl~ ~sppr720.spl~ ~override/meco019.spl~ ~spwi703.spl~ ~override/meco023.spl~ ~spwi721.spl~ ~override/meco024.spl~ ~sppr607.spl~ ~override/meco026.spl~ ~sppr608.spl~ ~override/meco027.spl~ ~%mewi556%.spl~ ~override/meco029.spl~ ~sppr508.spl~ ~override/meco030.spl~ ~sppr711.spl~ ~override/meco031.spl~ ~sppr504.spl~ ~override/meco032.spl~ ~spwi903.spl~ ~override/meco036.spl~ ~sppr603.spl~ ~override/meco049.spl~ ~spwi920.spl~ ~override/meco051.spl~ ~sppr401.spl~ ~override/meco052.spl~ ~sppr404.spl~ ~override/meco053.spl~ ~sppr713.spl~ ~override/meco054.spl~ ~sppr414.spl~ ~override/meco056.spl~ ~spwi411.spl~ ~override/meco057.spl~ ~spwi412.spl~ ~override/meco058.spl~ ~spwi616.spl~ ~override/meco059.spl~ ~sppr501.spl~ ~override/meco062.spl~ ~sppr516.spl~ ~override/meco063.spl~ ~sppr511.spl~ ~override/meco065.spl~ ~%mewi452%.spl~ ~override/meco069.spl~ ~spwi815.spl~ ~override/meco071.spl~ ~spwi403.spl~ ~override/meco072.spl~ ~spwi418.spl~ ~override/meco073.spl~ ~spwi603.spl~ ~override/meco074.spl~ ~sppr308.spl~ ~override/meco075.spl~ ~sppr403.spl~ ~override/meco076.spl~ ~sppr406.spl~ ~override/meco077.spl~ ~sppr408.spl~ ~override/meco078.spl~ ~sppr413.spl~ ~override/meco079.spl~ ~sppr415.spl~ ~override/meco080.spl~ ~sppr512.spl~ ~override/meco081.spl~ ~sppr514.spl~ ~override/meco082.spl~ ~sppr609.spl~ ~override/meco083.spl~ ~spwi912.spl~ ~override/meco085.spl~ ~sppr722.spl~ ~override/meco086.spl~ ~sppr730.spl~ ~override/meco087.spl~ ~sppr214.spl~ ~override/meco093.spl~ ~spwi917.spl~ ~override/meco094.spl~ ~spwi808.spl~ ~override/meco095.spl~ ~spwi511.spl~ ~override/meco099.spl~ ~spwi522.spl~ ~override/meco100.spl~
~sppr513.spl~ ~override/meco114.spl~ ~%mewi254%.spl~ ~override/meco115.spl~ ~sppr606.spl~ ~override/meco119.spl~ ~sppr604.spl~ ~override/meco120.spl~ ~sppr350.spl~ ~override/meco122.spl~ ~sppr409.spl~ ~override/meco124.spl~ ~spwi206.spl~ ~override/meco126.spl~ ~spwi405.spl~ ~override/meco127.spl~ ~spwi425.spl~ ~override/meco129.spl~ ~spwi514.spl~ ~override/meco135.spl~ ~spwi708.spl~ ~override/meco136.spl~ ~spwi520.spl~ ~override/meco137.spl~ ~sppr110.spl~ ~override/meco138.spl~ ~sppr206.spl~ ~override/meco139.spl~ ~spwi506.spl~ ~override/meco142.spl~ ~spwi612.spl~ ~override/meco143.spl~ ~spwi104.spl~ ~override/meco144.spl~ ~spwi307.spl~ ~override/meco146.spl~ ~spwi606.spl~ ~override/meco147.spl~ ~%mepr751%.spl~ ~override/meco151.spl~ ~spwi611.spl~ ~override/meco152.spl~ ~sppr707.spl~ ~override/meco153.spl~ ~spwi720.spl~ ~override/meco154.spl~ ~spwi817.spl~ ~override/meco155.spl~ ~sppr728.spl~ ~override/meco157.spl~ ~spwi816.spl~ ~override/meco159.spl~ ~spwi921.spl~ ~override/meco160.spl~ ~%mewi857%.spl~ ~override/meco162.spl~ ~spwi911.spl~ ~override/meco163.spl~ ~spwi902.spl~ ~override/meco165.spl~ ~mewi951.spl~ ~override/meco168.spl~ ~sppr550.spl~ ~override/meco172.spl~ ~spcl940.spl~ ~override/meco174.spl~ ~spcl941.spl~ ~override/meco175.spl~ ~sppr751.spl~ ~override/meco177.spl~ ~spwi624.spl~ ~override/meco180.spl~ ~spwi517.spl~ ~override/meco181.spl~ ~spwi512.spl~ ~override/meco182.spl~ ~spwi519.spl~ ~override/meco183.spl~ ~spwi519b.spl~ ~override/meco183b.spl~ ~spwi614.spl~ ~override/meco184.spl~ ~spwi596.spl~ ~override/meco185.spl~ ~sppr315.spl~ ~override/meco186.spl~ ~spwi315.spl~ ~override/meco187.spl~ ~spwi301.spl~ ~override/meco188.spl~ ~sppr509.spl~ ~override/meco189.spl~ ~sppr103.spl~ ~override/meco200.spl~
~spwi106.spl~ ~override/meco201.spl~ ~spwi212.spl~ ~override/meco202.spl~ ~sppr104.spl~ ~override/meco203.spl~ ~spwi106.spl~ ~override/meco201.spl~ ~%mewi153%.spl~ ~override/meco204.spl~ ~spwi506.spl~ ~override/meco205.spl~ ~sppr422.spl~ ~override/meco207.spl~ ~spwi111.spl~ ~override/meco208.spl~ ~spwi224.spl~ ~override/meco209.spl~ ~spwi713.spl~ ~override/meco210.spl~ ~spwi712.spl~ ~override/meco212.spl~ ~spwi717.spl~ ~override/meco213.spl~ ~spwi207.spl~ ~override/meco217.spl~ ~spwi593.spl~ ~override/meco218.spl~ ~%mewi656%.spl~ ~override/meco219.spl~ ~spwi715.spl~ ~override/meco236.spl~ ~spwi608.spl~ ~override/meco237.spl~ ~spwi415.spl~ ~override/meco238.spl~ ~spwi414.spl~ ~override/meco239.spl~ ~sppr712.spl~ ~override/meco240.spl~ ~sppr740.spl~ ~override/meco241.spl~ ~sppr523.spl~ ~override/meco242.spl~ ~sppr502.spl~ ~override/meco243.spl~ ~sppr510.spl~ ~override/meco244.spl~ ~sppr650.spl~ ~override/meco246.spl~ ~sppr401.spl~ ~override/meco249.spl~ ~sppr602.spl~ ~override/meco250.spl~ ~spwi415.spl~ ~override/meco252.spl~ ~spwi302.spl~ ~override/meco254.spl~ ~mewi957.spl~ ~override/meco255.spl~ ~spwi309.spl~ ~override/meco256.spl~ ~spwi407.spl~ ~override/meco257.spl~ ~spwi504.spl~ ~override/meco258.spl~ ~spwi208.spl~ ~override/meco259.spl~ ~sppr520.spl~ ~override/meco261.spl~ ~spwi613.spl~ ~override/meco271.spl~ ~%mewi258%b.spl~ ~override/meco279b.spl~ ~%mewi351%b.spl~ ~override/meco280b.spl~ ~spwi704.spl~ ~override/meco285.spl~ ~sppr734.spl~ ~override/meco290.spl~ ~mewi953.spl~ ~override/meco293.spl~ ~spwi417.spl~ ~override/meco294.spl~ ~%mewi851%.spl~ ~override/meco296.spl~ ~%mewi653%.spl~ ~override/meco298.spl~ ~%mewi652%.spl~ ~override/meco299.spl~
~%mewi852%.spl~ ~override/meco308.spl~ ~spwi915.spl~ ~override/meco311.spl~ ~%mepr351%.spl~ ~override/meco328.spl~ ~sppr735.spl~ ~override/meco337.spl~ ~%mewi453%.spl~ ~override/meco338.spl~ ~%mewi751%.spl~ ~override/meco344.spl~ ~mewi355.spl~ ~override/meco350.spl~ ~%mepr753%.spl~ ~override/meco354.spl~ ~spwi319.spl~ ~override/meco355.spl~ ~spwi320.spl~ ~override/meco356.spl~ ~spwi117.spl~ ~override/meco366.spl~ ~spwi218.spl~ ~override/meco367.spl~ ~spwi408.spl~ ~override/meco368.spl~ ~sppr519.spl~ ~override/meco369.spl~ ~sppr704.spl~ ~override/meco372.spl~ ~mewi954.spl~ ~override/meco377.spl~ ~%mewi757%.spl~ ~override/meco383.spl~ ~mewi567.spl~ ~override/meco385.spl~ ~%mewi459%.spl~ ~override/meco386.spl~ ~%mewi564%.spl~ ~override/meco390.spl~ ~%mewi658%.spl~ ~override/meco391.spl~ ~%mewi859%.spl~ ~override/meco393.spl~ ~%mewi359%.spl~ ~override/meco394.spl~ ~mewi962.spl~ ~override/meco396.spl~ ~mewi964.spl~ ~override/meco397.spl~ ~mewi960.spl~ ~override/meco398.spl~ ~mepr754.spl~ ~override/meco399.spl~ ~mepr756.spl~ ~override/meco400.spl~
~mepr758.spl~ ~override/meco401.spl~ ~%mepr760%.spl~ ~override/meco402.spl~ ~%mepr653%.spl~ ~override/meco404.spl~ ~%mepr654%.spl~ ~override/meco405.spl~ ~%mewi457%.spl~ ~override/meco410.spl~ ~%mewi458%.spl~ ~override/meco416.spl~ ~mepr656.spl~ ~override/meco418.spl~ ~mepr661.spl~ ~override/meco422.spl~ ~mewi961.spl~ ~override/meco423.spl~ ~mepr455.spl~ ~override/meco425.spl~ ~mepr556.spl~ ~override/meco426.spl~
~%mewi560%.spl~ ~override/mems013.spl~ ~%mepr651%.spl~ ~override/mems018.spl~ ~sppr422.spl~ ~override/mems023.spl~ ~spwi106.spl~ ~override/mems204.spl~
	WRITE_SHORT spelltype 4
	WRITE_LONG spelllevel 1
	LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%DEST_RES%~ END
	IF_EXISTS


COPY_EXISTING ~spwi720.spl~ ~override/meco061.spl~ ~spwi412.spl~ ~override/meco221.spl~ ~spwi424.spl~ ~override/meco222.spl~ ~spwi402.spl~ ~override/meco224.spl~ ~spwi326.spl~ ~override/meco225.spl~ ~%mewi154%.spl~ ~override/meco226.spl~ ~spwi125.spl~ ~override/meco228.spl~ ~spwi920.spl~ ~override/meco229.spl~ ~spwi920.spl~ ~override/meco230.spl~ ~spwi220.spl~ ~override/meco234.spl~ ~spwi208.spl~ ~override/meco260.spl~ ~%mewi258%.spl~ ~override/meco279.spl~ ~%mewi351%.spl~ ~override/meco280.spl~ ~%mepr251%.spl~ ~override/meco286.spl~ ~spwi213.spl~ ~override/meco339.spl~ ~sppr521.spl~ ~override/meco352.spl~ ~%mewi757%.spl~ ~override/meco384.spl~ ~%mewi459%.spl~ ~override/meco387.spl~ ~%mewi359%.spl~ ~override/meco395.spl~ ~mewi567.spl~ ~override/meco407.spl~ ~spwi903.spl~ ~override/meco412.spl~ ~%mewi458%.spl~ ~override/meco417.spl~ ~%mepr352%.spl~ ~override/meco419.spl~ ~%mepr551%.spl~ ~override/meco420.spl~ ~%mewi457%.spl~ ~override/meco424.spl~
	WRITE_SHORT spelltype 4
	WRITE_LONG spelllevel 1
	LPF ALTER_SPELL_HEADER INT_VAR location=4 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%DEST_RES%~ END
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource= EVAL ~%DEST_RES%~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource= EVAL ~%DEST_RES%~ END

COPY_EXISTING ~spwi420.spl~ ~override/meco130.spl~ ~spwi710.spl~ ~override/meco131.spl~ ~spwi809.spl~ ~override/meco132.spl~ ~spwi617.spl~ ~override/meco133.spl~ ~spwi908.spl~ ~override/meco134.spl~ ~spwi416.spl~ ~override/meco206.spl~ ~mewi955.spl~ ~override/meco305.spl~ ~%mewi854%.spl~ ~override/meco360.spl~ ~%mewi454%.spl~ ~override/meco373.spl~ ~%mewi755%.spl~ ~override/meco374.spl~ ~%mewi756%.spl~ ~override/meco375.spl~ ~%mewi655%.spl~ ~override/meco376.spl~ ~%mewi552%.spl~ ~override/meco388.spl~ ~mewi659.spl~ ~override/meco392.spl~ ~mepr655.spl~ ~override/meco403.spl~ ~%mewi562%.spl~ ~override/meco406.spl~
	READ_LONG spellflags ulgiash
	ulgiash|=0x80000000
	WRITE_LONG spellflags ulgiash
	WRITE_LONG NAME2 (0 - 1)
	WRITE_SHORT spelltype 4
	WRITE_LONG spelllevel 1
	LPF ALTER_SPELL_HEADER INT_VAR projectile=1 location=4 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=0 check_globals=1 STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%DEST_RES%~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	READ_BYTE 0x7e the_target
	PATCH_IF the_target = 4 BEGIN
		LPF ADD_SPELL_EFFECT INT_VAR opcode=castspellpoint target=1 timing=1 parameter2=1 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	END
	ELSE BEGIN
		LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=1 parameter2=1 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	END
	IF_EXISTS

COPY_EXISTING ~spwi809.spl~ ~override/meco269.spl~ ~spwi617.spl~ ~override/meco270.spl~ ~%mewi752%.spl~ ~override/meco361.spl~ ~%mewi552%.spl~ ~override/meco389.spl~ ~mepr655.spl~ ~override/meco415.spl~
	READ_LONG spellflags ulgiash
	ulgiash|=0x80000000
	WRITE_LONG spellflags ulgiash
	WRITE_LONG NAME2 (0 - 1)
	WRITE_SHORT spelltype 4
	WRITE_LONG spelllevel 1
	LPF ALTER_SPELL_HEADER INT_VAR projectile=1 location=4 END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=0 check_globals=1 STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%DEST_RES%~ END
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_APPEND_TO_STRING INT_VAR new_string=1 strref=description_ref STR_VAR newtext= EVAL ~%me_spell_at_will%~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=giveability target=1 timing=9 STR_VAR resource= EVAL ~%DEST_RES%~ END
	LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeability target=1 timing=9 STR_VAR resource= EVAL ~%DEST_RES%~ END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=(0 - 1) END
	READ_BYTE 0x7e the_target
	PATCH_IF the_target = 4 BEGIN
		LPF ADD_SPELL_EFFECT INT_VAR opcode=castspellpoint target=1 timing=1 parameter2=1 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	END
	ELSE BEGIN
		LPF ADD_SPELL_EFFECT INT_VAR opcode=castspell target=2 timing=1 parameter2=1 STR_VAR resource= EVAL ~%SOURCE_RES%~ END
	END
	IF_EXISTS


COPY_EXISTING ~meco028.spl~ ~override~
	SAY NAME1 @19071
	SAY UNIDENTIFIED_DESC @22028

COPY_EXISTING ~meco033.spl~ ~override~
	SAY NAME1 @19067
	SAY UNIDENTIFIED_DESC @22033

COPY_EXISTING ~meco034.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22034

COPY_EXISTING ~meco035.spl~ ~override~
	SAY NAME1 @19073
	SAY UNIDENTIFIED_DESC @22035

COPY_EXISTING ~meco037.spl~ ~override~
	SAY NAME1 @19074
	SAY UNIDENTIFIED_DESC @22037

COPY_EXISTING ~meco038.spl~ ~override~
	SAY NAME1 @19075
	SAY UNIDENTIFIED_DESC @22038

COPY_EXISTING ~meco039.spl~ ~override~
	SAY NAME1 @19076
	SAY UNIDENTIFIED_DESC @22039

COPY_EXISTING ~meco040.spl~ ~override~
	SAY NAME1 @19077
	SAY UNIDENTIFIED_DESC @22040

COPY_EXISTING ~meco041.spl~ ~override~
	SAY NAME1 @19078
	SAY UNIDENTIFIED_DESC @22041

COPY_EXISTING ~meco042.spl~ ~override~
	SAY NAME1 @19079
	SAY UNIDENTIFIED_DESC @22042

COPY_EXISTING ~meco043.spl~ ~override~
	SAY NAME1 @19080

COPY_EXISTING ~meco044.spl~ ~override~
	SAY NAME1 @19081
	SAY UNIDENTIFIED_DESC @22044

COPY_EXISTING ~meco045.spl~ ~override~
	SAY NAME1 @19082
	SAY UNIDENTIFIED_DESC @22045

COPY_EXISTING ~meco046.spl~ ~override~
	SAY NAME1 @19083
	SAY UNIDENTIFIED_DESC @22046

COPY_EXISTING ~meco047.spl~ ~override~
	SAY NAME1 @19084
	SAY UNIDENTIFIED_DESC @22047

COPY_EXISTING ~meco048.spl~ ~override~
	SAY NAME1 @19085
	SAY UNIDENTIFIED_DESC @22048

COPY_EXISTING ~meco050.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22050

COPY_EXISTING ~meco051.spl~ ~override~
	WRITE_ASCII icon ~meco051b~
	LPF ALTER_SPELL_HEADER STR_VAR icon=~meco051b~ END

COPY_EXISTING ~meco060.spl~ ~override~
	SAY NAME1 @19086

COPY_EXISTING ~meco069.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22069

COPY_EXISTING ~meco070.spl~ ~override~
	SAY NAME1 @19087
	SAY UNIDENTIFIED_DESC @22070

COPY_EXISTING ~meco088.spl~ ~override~
	WRITE_SHORT 0x98 meareans
	SAY NAME1 @19091
	SAY UNIDENTIFIED_DESC @22088

COPY_EXISTING ~meco089.spl~ ~override~
	SAY NAME1 @19092
	SAY UNIDENTIFIED_DESC @22089

COPY_EXISTING ~meco090.spl~ ~override~
	SAY NAME1 @19093
	SAY UNIDENTIFIED_DESC @22090

COPY_EXISTING ~meco091.spl~ ~override~
	SAY NAME1 @19094
	SAY UNIDENTIFIED_DESC @22091

COPY_EXISTING ~meco092.spl~ ~override~
	SAY NAME1 @19095
	SAY UNIDENTIFIED_DESC @22092

COPY_EXISTING ~meco096.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22096

COPY_EXISTING ~meco097.spl~ ~override~
	SAY NAME1 @19096
	SAY UNIDENTIFIED_DESC @22097

COPY_EXISTING ~meco098.spl~ ~override~
	SAY NAME1 @19097
	SAY UNIDENTIFIED_DESC @22098

COPY_EXISTING ~meco101.spl~ ~override~
	SAY NAME1 @19098
	SAY UNIDENTIFIED_DESC @22101

COPY_EXISTING ~meco103.spl~ ~override~
	SAY NAME1 @33354
	SAY UNIDENTIFIED_DESC @34354

COPY_EXISTING ~meco104.spl~ ~override~
	SAY NAME1 @33556
	SAY UNIDENTIFIED_DESC @34556

COPY_EXISTING ~meco106.spl~ ~override~
	SAY NAME1 @19101
	SAY UNIDENTIFIED_DESC @22106
	PATCH_IF MOD_IS_INSTALLED ~setup-bgeenpcpack.tp2~ ~0~ BEGIN
		READ_LONG UNIDENTIFIED_DESC thedescription
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=thedescription STR_VAR match=~Shadow Druids.~ replace_with=~Talassans and Shadow Druids.~ END
	END

COPY_EXISTING ~meco107.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22107

COPY_EXISTING ~meco108.spl~ ~override~
	SAY NAME1 @19102
	SAY UNIDENTIFIED_DESC @22108

COPY_EXISTING ~meco109.spl~ ~override~
	SAY NAME1 @19103
	SAY UNIDENTIFIED_DESC @22109

COPY_EXISTING ~meco110.spl~ ~override~
	SAY NAME1 @19104
	SAY UNIDENTIFIED_DESC @22110

COPY_EXISTING ~meco111.spl~ ~override~
	SAY NAME1 @19105
	SAY UNIDENTIFIED_DESC @22111

COPY_EXISTING ~meco112.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22112

COPY_EXISTING ~meco113.spl~ ~override~
	SAY NAME1 @19106
	SAY UNIDENTIFIED_DESC @22113

COPY_EXISTING ~meco116.spl~ ~override~
	SAY NAME1 @19108
	SAY UNIDENTIFIED_DESC @22116

COPY_EXISTING ~meco117.spl~ ~override~
	SAY NAME1 @19109
	SAY UNIDENTIFIED_DESC @22117

COPY_EXISTING ~meco118.spl~ ~override~
	SAY NAME1 @19110
	SAY UNIDENTIFIED_DESC @22118

COPY_EXISTING ~meco121.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22121

COPY_EXISTING ~meco122.spl~ ~override~
	WRITE_ASCII icon ~meco122b~
	LPF ALTER_SPELL_HEADER STR_VAR icon=~meco122b~ END
	SAY UNIDENTIFIED_DESC @22122

COPY_EXISTING ~meco123.spl~ ~override~
	SAY NAME1 @19111
	SAY UNIDENTIFIED_DESC @22123

COPY_EXISTING ~meco125.spl~ ~override~
	SAY NAME1 @19112
	SAY UNIDENTIFIED_DESC @22125

COPY_EXISTING ~meco128.spl~ ~override~
	SAY NAME1 @19104
	SAY UNIDENTIFIED_DESC @22128

COPY_EXISTING ~meco141.spl~ ~override~
	SAY NAME1 @19113
	SAY UNIDENTIFIED_DESC @22141

COPY_EXISTING ~meco156.spl~ ~override~
	SAY NAME1 @19116
	SAY UNIDENTIFIED_DESC @22156
/*
COPY_EXISTING ~meco160.spl~ ~override~
	WRITE_ASCII icon ~meco160b~
	LPF ALTER_SPELL_HEADER STR_VAR icon=~meco160b~ END
*/
COPY_EXISTING ~meco161.spl~ ~override~
	SAY NAME1 @19118
	SAY UNIDENTIFIED_DESC @22161

COPY_EXISTING ~meco162.spl~ ~override~
	SAY NAME1 @19119
	SAY UNIDENTIFIED_DESC @22162

COPY_EXISTING ~meco164.spl~ ~override~
	SAY NAME1 @19120
	SAY UNIDENTIFIED_DESC @22164

COPY_EXISTING ~meco166.spl~ ~override~
	SAY NAME1 @19121
	SAY UNIDENTIFIED_DESC @22166

COPY_EXISTING ~meco167.spl~ ~override~
	SAY NAME1 @19122
	SAY UNIDENTIFIED_DESC @22167

COPY_EXISTING ~meco170.spl~ ~override~
	SAY NAME1 @19124
	SAY UNIDENTIFIED_DESC @22170

COPY_EXISTING ~meco176.spl~ ~override~
	SAY NAME1 @19128
	SAY UNIDENTIFIED_DESC @22176

COPY_EXISTING ~meco185.spl~ ~override~
	SAY UNIDENTIFIED_DESC @20596

COPY_EXISTING ~meco190.spl~ ~override~
	WRITE_SHORT 0x98 meshout
	SAY NAME1 @19130
	SAY UNIDENTIFIED_DESC @22190

COPY_EXISTING ~meco199.spl~ ~override~
	SAY NAME1 @19131
	SAY UNIDENTIFIED_DESC @22199

COPY_EXISTING ~meco204.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=applyeffectslist target=1 timing=1 parameter1=ratwererow parameter2=110 STR_VAR resource=~medetsh5~ END
	LPF ALTER_SPELL_HEADER INT_VAR projectile=medetect END

COPY_EXISTING ~meco205.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 dicenumber=4 END
	WRITE_SHORT castinganimation 24
	SAY NAME1 @19133
	SAY UNIDENTIFIED_DESC @22205

COPY_EXISTING ~meco211.spl~ ~override~
	SAY NAME1 @19135
	SAY UNIDENTIFIED_DESC @22211

COPY_EXISTING ~meco214.spl~ ~override~
	SAY UNIDENTIFIED_DESC @21203

COPY_EXISTING ~meco215.spl~ ~override~
	SAY UNIDENTIFIED_DESC @21202

COPY_EXISTING ~meco216.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22216

COPY_EXISTING ~meco218.spl~ ~override~
	SAY UNIDENTIFIED_DESC @20593

COPY_EXISTING ~meco219.spl~ ~override~
	SAY NAME1 @19136
	SAY UNIDENTIFIED_DESC @22219

COPY_EXISTING ~meco220.spl~ ~override~
	SAY NAME1 @19137
	SAY UNIDENTIFIED_DESC @22220

COPY_EXISTING ~meco223.spl~ ~override~
	SAY NAME1 @19138
	SAY UNIDENTIFIED_DESC @22223

COPY_EXISTING ~meco226.spl~ ~override~
	SAY NAME1 @19139
	SAY UNIDENTIFIED_DESC @22226

COPY_EXISTING ~meco227.spl~ ~override~
	SAY NAME1 @19140
	SAY UNIDENTIFIED_DESC @22227

COPY_EXISTING ~meco229.spl~ ~override~
	WRITE_ASCII icon ~meco051b~
	LPF ALTER_SPELL_HEADER STR_VAR icon=~meco051b~ END

COPY_EXISTING ~meco230.spl~ ~override~
	WRITE_ASCII icon ~meco230b~
	LPF ALTER_SPELL_HEADER STR_VAR icon=~meco230b~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource=~eneblade~ resource=~mebladef~ END
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@19316) END
	SAY NAME1 @19141
	SAY UNIDENTIFIED_DESC @22230

COPY_EXISTING ~meco231.spl~ ~override~
	SAY NAME1 @19317
	SAY UNIDENTIFIED_DESC @22231

COPY_EXISTING ~meco233.spl~ ~override~
	SAY NAME1 @19142
	SAY UNIDENTIFIED_DESC @22233

COPY_EXISTING ~meco234.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22234

COPY_EXISTING ~meco235.spl~ ~override~ ~meded05.spl~ ~override~
	SAY NAME1 @19250
	SAY UNIDENTIFIED_DESC @22235

COPY_EXISTING ~meco245.spl~ ~override~
	SAY NAME1 @19252
	SAY UNIDENTIFIED_DESC @22245

COPY_EXISTING ~meco247.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22247

COPY_EXISTING ~meco248.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22248

COPY_EXISTING ~meco253.spl~ ~override~
	SAY NAME1 @19147
	SAY UNIDENTIFIED_DESC @22253

COPY_EXISTING ~meco262.spl~ ~override~
	SAY NAME1 @19243
	SAY UNIDENTIFIED_DESC @22262

COPY_EXISTING ~meco263.spl~ ~override~
	SAY NAME1 @19244
	SAY UNIDENTIFIED_DESC @22263

COPY_EXISTING ~meco264.spl~ ~override~
	SAY NAME1 @19245
	SAY UNIDENTIFIED_DESC @22264

COPY_EXISTING ~meco265.spl~ ~override~
	SAY NAME1 @19246
	SAY UNIDENTIFIED_DESC @22265

COPY_EXISTING ~meco266.spl~ ~override~
	SAY NAME1 @19247
	SAY UNIDENTIFIED_DESC @22266

COPY_EXISTING ~meco268.spl~ ~override~
	SAY NAME1 @19251
	SAY UNIDENTIFIED_DESC @22268

COPY_EXISTING ~meco272.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22272

COPY_EXISTING ~meco273.spl~ ~override~
	SAY NAME1 @19253
	SAY UNIDENTIFIED_DESC @22273

COPY_EXISTING ~meco275.spl~ ~override~
	SAY NAME1 @19254
	SAY UNIDENTIFIED_DESC @22275

COPY_EXISTING ~meco275e.spl~ ~override~
	SAY NAME1 @19255
	SAY UNIDENTIFIED_DESC @19256

COPY_EXISTING ~meco276.spl~ ~override~
	SAY NAME1 @19257
	SAY UNIDENTIFIED_DESC @22276

COPY_EXISTING ~meco277.spl~ ~override~
	SAY NAME1 @19259
	SAY UNIDENTIFIED_DESC @22277

COPY_EXISTING ~meco278.spl~ ~override~
	SAY NAME1 @19258
	SAY UNIDENTIFIED_DESC @22278

COPY_EXISTING ~meco279.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource= EVAL ~%mewi351%b~ resource=~meco279b~ END

COPY_EXISTING ~meco279b.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource= EVAL ~%mewi351%~ resource=~meco279~ END

COPY_EXISTING ~meco280.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource= EVAL ~%mewi552%b~ resource=~meco280b~ END

COPY_EXISTING ~meco280b.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 STR_VAR match_resource= EVAL ~%mewi552%~ resource=~meco280~ END

COPY_EXISTING ~meco281.spl~ ~override~
	SAY NAME1 @19215
	SAY UNIDENTIFIED_DESC @22281

COPY_EXISTING ~meco282.spl~ ~override~
	SAY NAME1 @19262
	SAY UNIDENTIFIED_DESC @22282

COPY_EXISTING ~meco283.spl~ ~override~
	SAY NAME1 @19263
	SAY UNIDENTIFIED_DESC @22283

COPY_EXISTING ~meco284.spl~ ~override~
	SAY NAME1 @19264
	SAY UNIDENTIFIED_DESC @22284

COPY_EXISTING ~meco286.spl~ ~override~
	SAY NAME1 @31251
	SAY UNIDENTIFIED_DESC @22286

COPY_EXISTING ~meco287.spl~ ~override~
	SAY NAME1 @19269
	SAY UNIDENTIFIED_DESC @22287

COPY_EXISTING ~mebowsol.itm~ ~override~
	WRITE_SHORT firstheaderprojectile mearosol
	SAY NAME1 @19269
	SAY NAME2 @19269

COPY_EXISTING ~meco288.spl~ ~override~
	SAY NAME1 @19268
	SAY UNIDENTIFIED_DESC @22288

COPY_EXISTING ~meco289.spl~ ~override~
	SAY NAME1 @19270
	SAY UNIDENTIFIED_DESC @22289

COPY_EXISTING ~meco291.spl~ ~override~
	SAY NAME1 @19288
	SAY UNIDENTIFIED_DESC @22291

COPY_EXISTING ~meco292.spl~ ~override~
	SAY NAME1 @19289
	SAY UNIDENTIFIED_DESC @22292

COPY_EXISTING ~meco295.spl~ ~override~
	SAY NAME1 @19272
	SAY UNIDENTIFIED_DESC @22295

COPY_EXISTING ~meco297.spl~ ~override~
	SAY NAME1 @19273
	SAY UNIDENTIFIED_DESC @22297

COPY_EXISTING ~meco300.spl~ ~override~
	SAY NAME1 @19274
	SAY UNIDENTIFIED_DESC @22300

COPY_EXISTING ~meco301.spl~ ~override~
	SAY NAME1 @19275
	SAY UNIDENTIFIED_DESC @22301

COPY_EXISTING ~meco302.spl~ ~override~
	SAY NAME1 @19276
	SAY UNIDENTIFIED_DESC @22302

COPY_EXISTING ~meco303.spl~ ~override~
	SAY NAME1 @19277
	SAY UNIDENTIFIED_DESC @22303

COPY_EXISTING ~meco304.spl~ ~override~
	SAY NAME1 @19278
	SAY UNIDENTIFIED_DESC @22304

COPY_EXISTING ~meco306.spl~ ~override~
	SAY NAME1 @19281
	SAY UNIDENTIFIED_DESC @22306

COPY_EXISTING ~meco306e.spl~ ~override~
	SAY NAME1 @19282
	SAY UNIDENTIFIED_DESC @19283

COPY_EXISTING ~meco307.spl~ ~override~
	SAY NAME1 @19284
	SAY UNIDENTIFIED_DESC @22307

COPY_EXISTING ~meco307e.spl~ ~override~
	SAY NAME1 @19285
	SAY UNIDENTIFIED_DESC @19286

COPY_EXISTING ~meco309.spl~ ~override~
	SAY NAME1 @19287
	SAY UNIDENTIFIED_DESC @22309

COPY_EXISTING ~simulacr.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=applyeffectslist target=1 timing=1 parameter1=69 parameter2=110 STR_VAR resource= ~meco309i~ END

COPY_EXISTING ~meco310.spl~ ~override~
	SAY NAME1 @19290
	SAY UNIDENTIFIED_DESC @22310

COPY_EXISTING ~meco311.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22311

COPY_EXISTING ~meco312.spl~ ~override~
	SAY NAME1 @19295
	SAY UNIDENTIFIED_DESC @22312

COPY_EXISTING ~meco329.spl~ ~override~
	SAY NAME1 @19299
	SAY UNIDENTIFIED_DESC @22329

COPY_EXISTING ~meco330.spl~ ~override~
	SAY NAME1 @19300
	SAY UNIDENTIFIED_DESC @22330

COPY_EXISTING ~meco332.spl~ ~override~
	SAY NAME1 @19301
	SAY UNIDENTIFIED_DESC @22332

COPY_EXISTING ~meco333.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22333

COPY_EXISTING ~meco333e.spl~ ~override~
	SAY NAME1 @19302
	SAY UNIDENTIFIED_DESC @19303

COPY_EXISTING ~meco339.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22339

COPY_EXISTING ~meco340.spl~ ~override~
	SAY UNIDENTIFIED_DESC @22340

COPY_EXISTING ~meco342.spl~ ~override~
	SAY NAME1 @19304
	SAY UNIDENTIFIED_DESC @22342

COPY_EXISTING ~meco343.spl~ ~override~
	SAY NAME1 @19306
	SAY UNIDENTIFIED_DESC @22343

COPY_EXISTING ~meco347.spl~ ~override~
	SAY NAME1 @19307
	SAY UNIDENTIFIED_DESC @22347

COPY_EXISTING ~meco353.spl~ ~override~
	SAY NAME1 @19310
	SAY UNIDENTIFIED_DESC @22353

COPY_EXISTING ~meco358.spl~ ~override~
	SAY NAME1 @19309
	SAY UNIDENTIFIED_DESC @22358

COPY_EXISTING ~meco362.spl~ ~override~
	SAY NAME1 @19318

COPY_EXISTING ~meco370.spl~ ~override~
	SAY NAME1 @19330
	SAY UNIDENTIFIED_DESC @22370

COPY_EXISTING ~meco378.spl~ ~override~
	SAY NAME1 @19323
	SAY UNIDENTIFIED_DESC @22378

COPY_EXISTING ~meco381.spl~ ~override~
	SAY NAME1 @19373
	SAY UNIDENTIFIED_DESC @22381

COPY_EXISTING ~meco382.spl~ ~override~
	SAY NAME1 @19195
	WRITE_SHORT 0x98 megaze

COPY_EXISTING ~meankhps.itm~ ~override~
	SAY IDENTIFIED_DESC @22378

COPY_EXISTING ~meco052.spl~ ~override/mebh001.spl~ ~meco053.spl~ ~override/mebh002.spl~ ~meco114.spl~ ~override/mebh003.spl~ ~meco030.spl~ ~override/mebh004.spl~ ~meco054.spl~ ~override/mebh005.spl~ ~meco055.spl~ ~override/mebh006.spl~ ~meco056.spl~ ~override/mebh007.spl~ ~meco057.spl~ ~override/mebh008.spl~ ~meco058.spl~ ~override/mebh009.spl~ ~meco210.spl~ ~override/mebh010.spl~ ~meco253.spl~ ~override/mebh011.spl~ ~meco377.spl~ ~override/mebh012.spl~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%DEST_RES%~ END
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_REPLACE_IN_STRING INT_VAR new_string=1 strref=description_ref STR_VAR match= EVAL ~%me_casting_time%[0-9]~ replace_with= EVAL ~%me_casting_time%0~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~

COPY_EXISTING ~meco086.spl~ ~override/mesl001.spl~
	WRITE_ASCII castingsound ~CAS_P06~ #8
	WRITE_SHORT spelltype 2
	WRITE_LONG spelllevel 5
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_REPLACE_IN_STRING INT_VAR new_string=1 strref=description_ref STR_VAR match= EVAL ~%me_casting_level%[0-9]~ replace_with= EVAL ~%me_casting_level%5~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_power=7 power=5 END

COPY_EXISTING ~%mewi554%.spl~ ~override/mesl002.spl~
	WRITE_ASCII castingsound ~CAS_P06~ #8
	WRITE_SHORT spelltype 2
	WRITE_LONG spelllevel 4
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_REPLACE_IN_STRING INT_VAR new_string=1 strref=description_ref STR_VAR match= EVAL ~%me_casting_level%[0-9]~ replace_with= EVAL ~%me_casting_level%4~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_power=5 power=2 END

COPY_EXISTING ~spwi724.spl~ ~override/mesl003.spl~
	WRITE_ASCII castingsound ~CAS_P06~ #8
	WRITE_SHORT spelltype 2
	WRITE_LONG spelllevel 5
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_REPLACE_IN_STRING INT_VAR new_string=1 strref=description_ref STR_VAR match= EVAL ~%me_casting_level%[0-9]~ replace_with= EVAL ~%me_casting_level%5~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_power=7 power=5 END

COPY_EXISTING ~sppr705.spl~ ~override/mesl004.spl~
	WRITE_LONG spelllevel 5
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_REPLACE_IN_STRING INT_VAR new_string=1 strref=description_ref STR_VAR match= EVAL ~%me_casting_level%[0-9]~ replace_with= EVAL ~%me_casting_level%5~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_power=7 power=5 END

COPY_EXISTING ~spdr601.spl~ ~override/mesl005.spl~
	WRITE_LONG spelllevel 2
	READ_LONG UNIDENTIFIED_DESC description_ref
	LPF PATCH_REPLACE_IN_STRING INT_VAR new_string=1 strref=description_ref STR_VAR match= EVAL ~%me_casting_level%[0-9]~ replace_with= EVAL ~%me_casting_level%2~ RET description_new=description_new END
	SAY_EVALUATED UNIDENTIFIED_DESC ~%description_new%~
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_power=6 power=2 END

COPY_EXISTING ~medamfi.spl~ ~override~
	SAY NAME1 @19331

COPY_EXISTING ~medamco.spl~ ~override~
	SAY NAME1 @19332

COPY_EXISTING ~medamel.spl~ ~override~
	SAY NAME1 @19333

COPY_EXISTING ~medamac.spl~ ~override~
	SAY NAME1 @19334

COPY_EXISTING ~medamma.spl~ ~override~
	SAY NAME1 @19335

COPY_EXISTING ~medampo.spl~ ~override~
	SAY NAME1 @19336

COPY_EXISTING ~medammf.spl~ ~override~
	SAY NAME1 @19337

COPY_EXISTING ~medammc.spl~ ~override~
	SAY NAME1 @19338

COPY_EXISTING ~medamsl.spl~ ~override~
	SAY NAME1 @19339

COPY_EXISTING ~medampi.spl~ ~override~
	SAY NAME1 @19340

COPY_EXISTING ~medamcr.spl~ ~override~
	SAY NAME1 @19341

COPY_EXISTING ~medammi.spl~ ~override~
	SAY NAME1 @19342

COPY_EXISTING ~medamnl.spl~ ~override~
	SAY NAME1 @19343

COPY_EXISTING ~medamno.spl~ ~override~
	SAY NAME1 @19344

COPY_EXISTING ~medobone.itm~ ~override~
	SAY NAME1 @19279
	SAY NAME2 @19279
	SAY UNIDENTIFIED_DESC @19280
	SAY IDENTIFIED_DESC @19280

COPY_EXISTING ~meded05.spl~ ~override~
	SAY NAME1 @19265

COPY_EXISTING ~meded07.spl~ ~override~
	SAY NAME1 @19266

COPY_EXISTING ~meded08.spl~ ~override~
	SAY NAME1 @19267

COPY_EXISTING ~mecblade.itm~ ~override~
	SAY NAME1 @19266
	SAY NAME2 @19266

COPY_EXISTING ~medecast.itm~ ~override~
	SAY NAME1 @19267
	SAY NAME2 @19267

COPY_EXISTING ~mesperlo.itm~ ~override~
	SAY NAME1 @19265
	SAY NAME2 @19265

COPY_EXISTING ~mesuperf.itm~ ~override~
	SAY NAME1 @19304
	SAY NAME2 @19304
	SAY UNIDENTIFIED_DESC @19305
	SAY IDENTIFIED_DESC @19305

COPY_EXISTING ~mecl851.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR match_opcode=403 parameter1=RESOLVE_STR_REF(@807) STR_VAR match_resource=~MEDEFLEC~ END

COPY_EXISTING ~medetsh5.spl~ ~override~
	LPF ADD_SPELL_EFFECT INT_VAR opcode=useefffile target=2 timing=1 insert_point=0 parameter1=eaanyone parameter2=idsea STR_VAR resource=~mestr021~ END

COPY_EXISTING ~meha150.spl~ ~override~
	SAY NAME1 @19248
	SAY UNIDENTIFIED_DESC @19249

COPY_EXISTING ~meinho30.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mearal60 END

PRINT @181

COPY_EXISTING ~medoomsa.spl~ ~override~
	SAY NAME1 @19148

COPY_EXISTING ~meeagld.spl~ ~override~ ~meeagle.spl~ ~override~
	WRITE_SHORT 0x98 mearal60
	LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_opcode=applyeffectslist parameter2=splprot_eaglebow END
/*
COPY_EXISTING ~meeagled.spl~ ~override~ ~meeaglee.spl~ ~override~
	WRITE_SHORT 0x98 mearal60
	LPF ADD_SPELL_EFFECT INT_VAR insert_point=0 opcode=protectionfromspell2 target=2 timing=0 duration=1 parameter2=splprot_eaglebow STR_VAR resource= EVAL ~%SOURCE_RES%~ END
*/

COPY_EXISTING ~meec001.spl~ ~override~
	SAY NAME1 @33854
	SAY UNIDENTIFIED_DESC @34854

COPY_EXISTING ~meec002.spl~ ~override~
	SAY NAME1 @33756
	SAY UNIDENTIFIED_DESC @34756

COPY_EXISTING ~meec003.spl~ ~override~
	SAY NAME1 @33856
	SAY UNIDENTIFIED_DESC @34856

COPY_EXISTING ~meec006.spl~ ~override~
	SAY NAME1 @19402

COPY_EXISTING ~mefarseq.spl~ ~override~
	SAY NAME1 @33752

COPY_EXISTING ~megazbsg.spl~ ~override~  ~megazbsl.spl~ ~override~ ~megazbsn.spl~ ~override~ ~megazta.spl~ ~override~ ~megazti.spl~ ~override~
	WRITE_SHORT 0x98 megaznew

COPY_EXISTING ~megelatd.spl~ ~override~
	WRITE_SHORT 0x98 mearal09

COPY_EXISTING ~meghoulg.spl~ ~override~
	WRITE_SHORT 0x98 mearpa90

COPY_EXISTING ~meethrm2.spl~ ~override~ ~meflyim2.spl~ ~override~ ~meghowl2.spl~ ~override~
	WRITE_SHORT 0x98 meintrv3

COPY_EXISTING ~meloop01.spl~ ~override~
	WRITE_SHORT 0x98 meloop01

COPY_EXISTING ~meloop02.spl~ ~override~
	WRITE_SHORT 0x98 meloop02

COPY_EXISTING ~meloop03.spl~ ~override~
	WRITE_SHORT 0x98 meloop03

COPY_EXISTING ~meloop04.spl~ ~override~
	WRITE_SHORT 0x98 meloop04

COPY_EXISTING ~meloop05.spl~ ~override~
	WRITE_SHORT 0x98 meloop05

COPY_EXISTING ~meloop06.spl~ ~override~
	WRITE_SHORT 0x98 meloop06

COPY_EXISTING ~meloop07.spl~ ~override~
	WRITE_SHORT 0x98 meloop07

COPY_EXISTING ~meloop08.spl~ ~override~
	WRITE_SHORT 0x98 meloop08

COPY_EXISTING ~memeteor.spl~ ~override~
	WRITE_SHORT 0x98 mecomet

COPY_EXISTING ~mems001.spl~ ~override~
	SAY NAME1 @19149

COPY_EXISTING ~mems009.spl~ ~override~
	SAY NAME1 @19150

COPY_EXISTING ~mems014.spl~ ~override~
	SAY NAME1 @19152

COPY_EXISTING ~mems018.spl~ ~override~
	SAY NAME1 @19153

COPY_EXISTING ~mems019.spl~ ~override~
	SAY NAME1 @19154

COPY_EXISTING ~mems020.spl~ ~override~
	SAY NAME1 @19155

COPY_EXISTING ~mems021.spl~ ~override~
	SAY NAME1 @19156

COPY_EXISTING ~mems022.spl~ ~override~
	SAY NAME1 @19157

COPY_EXISTING ~mems023.spl~ ~override~
	SAY NAME1 @19134

COPY_EXISTING ~mems024.spl~ ~override~
	SAY NAME1 @19158

COPY_EXISTING ~mems025.spl~ ~override~
	SAY NAME1 @19159

COPY_EXISTING ~mems029.spl~ ~override~
	SAY NAME1 @19090

COPY_EXISTING ~mems030.spl~ ~override~
	SAY NAME1 @19160

COPY_EXISTING ~mems031.spl~ ~override~
	SAY NAME1 @19161

COPY_EXISTING ~mems032.spl~ ~override~
	SAY NAME1 @19162

COPY_EXISTING ~mems033.spl~ ~override~
	SAY NAME1 @19163

COPY_EXISTING ~mems034.spl~ ~override~
	SAY NAME1 @19164

COPY_EXISTING ~mems035.spl~ ~override~
	SAY NAME1 @19165

COPY_EXISTING ~mems036.spl~ ~override~
	SAY NAME1 @19166

COPY_EXISTING ~mems039.spl~ ~override~
	SAY NAME1 @19167

COPY_EXISTING ~mems040.spl~ ~override~
	WRITE_SHORT 0x98 mewolfwi

COPY_EXISTING ~mems043.spl~ ~override~
	SAY NAME1 @19168

COPY_EXISTING ~mems044.spl~ ~override~
	WRITE_SHORT 0x98 meconeco
	SAY NAME1 @19169

COPY_EXISTING ~mems046.spl~ ~override~
	SAY NAME1 @19170

COPY_EXISTING ~mems047.spl~ ~override~
	SAY NAME1 @19171

COPY_EXISTING ~mems048.spl~ ~override~
	SAY NAME1 @19172

COPY_EXISTING ~mems049.spl~ ~override~
	WRITE_SHORT 0x98 meghastc
	SAY NAME1 @19173

COPY_EXISTING ~mems051.spl~ ~override~
	SAY NAME1 @19174

COPY_EXISTING ~mems052.spl~ ~override~
	SAY NAME1 @19175

COPY_EXISTING ~mems053.spl~ ~override~
	SAY NAME1 @19176

COPY_EXISTING ~mems054.spl~ ~override~
	WRITE_SHORT 0x98 meconegr
	SAY NAME1 @19177

COPY_EXISTING ~mems055.spl~ ~override~
	SAY NAME1 @19178

COPY_EXISTING ~mems056.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=18 END

COPY_EXISTING ~mems057.spl~ ~override~
	WRITE_SHORT 0x98 mefblred
	SAY NAME1 @19179

COPY_EXISTING ~mems058.spl~ ~override~
	SAY NAME1 @19180

COPY_EXISTING ~mems059.spl~ ~override~
	WRITE_SHORT 0x98 mefblred
	SAY NAME1 @19181

COPY_EXISTING ~mems063.spl~ ~override~
	SAY NAME1 @19182

COPY_EXISTING ~mems064.spl~ ~override~
	SAY NAME1 @19183

COPY_EXISTING ~mems065.spl~ ~override~
	WRITE_SHORT 0x98 mekaldra

COPY_EXISTING ~mems067.spl~ ~override~
	SAY NAME1 @19184

COPY_EXISTING ~mems068.spl~ ~override~
	SAY NAME1 @19185

COPY_EXISTING ~mems068d.spl~ ~override~
	WRITE_SHORT 0x98 mewhirlw

COPY_EXISTING ~mems069.spl~ ~override~
	SAY NAME1 @19186

COPY_EXISTING ~mems070.spl~ ~override~
	SAY NAME1 @19187

COPY_EXISTING ~mems071.spl~ ~override~
	SAY NAME1 @19188

COPY_EXISTING ~mems072.spl~ ~override~
	SAY NAME1 @19189

COPY_EXISTING ~mems075.spl~ ~override~
	WRITE_SHORT 0x98 mearen09

COPY_EXISTING ~mems076.spl~ ~override~
	WRITE_SHORT 0x98 mearen09

COPY_EXISTING ~mems079.spl~ ~override~
	SAY NAME1 @19190

COPY_EXISTING ~mems081.spl~ ~override~
	SAY NAME1 @19191

COPY_EXISTING ~mems082.spl~ ~override~
	SAY NAME1 @19192

COPY_EXISTING ~mems083.spl~ ~override~
	SAY NAME1 @19193

COPY_EXISTING ~mems084.spl~ ~override~
	WRITE_SHORT 0x98 meg4fire
	SAY NAME1 @19194

COPY_EXISTING ~mems085.spl~ ~override~
	SAY NAME1 @19195

COPY_EXISTING ~mems086.spl~ ~override~
	SAY NAME1 @19196

COPY_EXISTING ~mems087.spl~ ~override~
	SAY NAME1 @19197

COPY_EXISTING ~mems090.spl~ ~override~
	WRITE_SHORT 0x98 mebrthre
	SAY NAME1 @19198

COPY_EXISTING ~mems091.spl~ ~override~
	WRITE_SHORT 0x98 mebrthgr
	SAY NAME1 @19199

COPY_EXISTING ~mems093.spl~ ~override~
	WRITE_SHORT 0x98 mecomet
	SAY NAME1 @19200

COPY_EXISTING ~mems094.spl~ ~override~
	WRITE_SHORT 0x98 meskulls
	SAY NAME1 @19201

COPY_EXISTING ~mems095.spl~ ~override~
	SAY NAME1 @19202

COPY_EXISTING ~mems096.spl~ ~override~
	SAY NAME1 @19203

COPY_EXISTING ~mems097.spl~ ~override~
	WRITE_SHORT 0x98 meconeki
	SAY NAME1 @19204

COPY_EXISTING ~mems097.spl~ ~override/mems097g.spl~
	LPF DELETE_SPELL_EFFECT INT_VAR check_headers=1 check_globals=0 opcode_to_delete=(0 - 1) END


COPY_EXISTING ~mems098.spl~ ~override~
	SAY NAME1 @19205

COPY_EXISTING ~mems099.spl~ ~override~
	SAY NAME1 @19206

COPY_EXISTING ~mems100.spl~ ~override~
	SAY NAME1 @19207
	SAY UNIDENTIFIED_DESC @19208

COPY_EXISTING ~mems101.spl~ ~override~
	SAY NAME1 @19086

COPY_EXISTING ~mems102.spl~ ~override~
	SAY NAME1 @19209

COPY_EXISTING ~mems103.spl~ ~override~
	SAY NAME1 @19210

COPY_EXISTING ~mems105.spl~ ~override~
	SAY NAME1 @19211

COPY_EXISTING ~mems106.spl~ ~override~
	SAY NAME1 @19212

COPY_EXISTING ~mems107.spl~ ~override~
	SAY NAME1 @19213

COPY_EXISTING ~mems121.spl~ ~override~
	SAY NAME1 @19214

COPY_EXISTING ~mems122.spl~ ~override~
	SAY NAME1 @19215

COPY_EXISTING ~mems123.spl~ ~override~
	SAY NAME1 @19216

COPY_EXISTING ~mems124.spl~ ~override~
	SAY NAME1 @19217

COPY_EXISTING ~mems130.spl~ ~override~
	SAY NAME1 @19236

COPY_EXISTING ~mems131.spl~ ~override~
	SAY NAME1 @19237

COPY_EXISTING ~mems132.spl~ ~override~
	SAY NAME1 @19238

COPY_EXISTING ~mems133.spl~ ~override~
	SAY NAME1 @19239

COPY_EXISTING ~mems141.spl~ ~override~
	SAY NAME1 @19218

COPY_EXISTING ~mems142.spl~ ~override~ ~mems148.spl~ ~override~
	WRITE_SHORT 0x98 meg2fire
	SAY NAME1 @19218

COPY_EXISTING ~mems143.spl~ ~override~
	WRITE_SHORT 0x98 meg3fire
	SAY NAME1 @19218

COPY_EXISTING ~mems144.spl~ ~override~
	WRITE_SHORT 0x98 meg4fire
	SAY NAME1 @19218

COPY_EXISTING ~mems145.spl~ ~override~
	WRITE_SHORT 0x98 meg5fire
	SAY NAME1 @19218

COPY_EXISTING ~mems149.spl~ ~override~
	SAY NAME1 @19219

COPY_EXISTING ~mems150.spl~ ~override~
	WRITE_SHORT 0x98 meconere
	SAY NAME1 @19220

COPY_EXISTING ~mems151.spl~ ~override~
	WRITE_SHORT 0x98 meconeco
	SAY NAME1 @19221

COPY_EXISTING ~mems152.spl~ ~override~
	WRITE_SHORT 0x98 meconeel
	SAY NAME1 @19222

COPY_EXISTING ~mems153.spl~ ~override~
	WRITE_SHORT 0x98 meconegr
	SAY NAME1 @19223

COPY_EXISTING ~mems155.spl~ ~override~
	WRITE_SHORT 0x98 meconere
	SAY NAME1 @19224

COPY_EXISTING ~mems156.spl~ ~override~
	WRITE_SHORT 0x98 meconefi
	SAY NAME1 @19225

COPY_EXISTING ~mems157.spl~ ~override~
	WRITE_SHORT 0x98 meconer2
	SAY NAME1 @19226

COPY_EXISTING ~mems158.spl~ ~override~
	SAY NAME1 @19296

COPY_EXISTING ~mems159.spl~ ~override~
	WRITE_SHORT 0x98 meconer2
	SAY NAME1 @19308

COPY_EXISTING ~mems164.spl~ ~override~
	SAY NAME1 @19227

COPY_EXISTING ~mems165.spl~ ~override~
	SAY NAME1 @19228

COPY_EXISTING ~mems166.spl~ ~override~
	SAY NAME1 @19326

COPY_EXISTING ~mems167.spl~ ~override~
	SAY NAME1 @19327

COPY_EXISTING ~mems168.spl~ ~override~
	SAY NAME1 @19345

COPY_EXISTING ~mems169.spl~ ~override~
	SAY NAME1 @19354

COPY_EXISTING ~mems170.spl~ ~override~
	SAY NAME1 @19355

COPY_EXISTING ~mems171.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=19372 parameter1=RESOLVE_STR_REF(@19372) END
	SAY NAME1 @19371

COPY_EXISTING ~mems173.spl~ ~override~
	SAY NAME1 @19399

COPY_EXISTING ~mems202.spl~ ~override~
	SAY NAME1 @19297

COPY_EXISTING ~mems204.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR speed=0 END
	LPF ALTER_SPELL_EFFECT INT_VAR duration_high=18 END
	SAY NAME1 @19351

COPY_EXISTING ~mems217.spl~ ~override~
	SAY NAME1 @19400

COPY_EXISTING ~mems222.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=displaystring parameter1=RESOLVE_STR_REF(@19353) END
	SAY NAME1 @19352

COPY_EXISTING ~mems230.spl~ ~override~
	SAY NAME1 @19298

COPY_EXISTING ~mems232.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@629) END
	SAY NAME1 @19328

COPY_EXISTING ~mems257d.spl~ ~override~
	WRITE_SHORT 0x98 mearen60

COPY_EXISTING ~mems258.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@630) END
	SAY NAME1 @19329

COPY_EXISTING ~mems269.spl~ ~override~
	WRITE_SHORT 0x98 meconeki
	SAY NAME1 @19350

COPY_EXISTING ~mems308.spl~ ~override~
	SAY NAME1 @19195
	WRITE_SHORT 0x98 megaze

COPY_EXISTING ~mems401.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@631) END
	SAY NAME1 @19385

COPY_EXISTING ~mems402.spl~ ~override~
	SAY NAME1 @19394

COPY_EXISTING ~mems403.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=209 parameter2=splprot_meinflight END

COPY_EXISTING ~mems404.spl~ ~override~
	SAY NAME1 @19388

COPY_EXISTING ~mems405d.spl~ ~override~
	WRITE_SHORT 0x98 mearen09

COPY_EXISTING ~mems408.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@632) END
	SAY NAME1 @19387

COPY_EXISTING ~mems410.spl~ ~override~
	SAY NAME1 @33564
	SAY UNIDENTIFIED_DESC @34564

COPY_EXISTING ~mems411.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@30024) END
	SAY NAME1 @33156
	SAY UNIDENTIFIED_DESC @34156

COPY_EXISTING ~mems412.spl~ ~override~
	WRITE_SHORT 0x98 mewofire
	SAY NAME1 @33451
	SAY UNIDENTIFIED_DESC @34451

COPY_EXISTING ~mems413.spl~ ~override~
	SAY NAME1 @19408

COPY_EXISTING ~mems414.spl~ ~override~
	SAY NAME1 @19407

COPY_EXISTING ~mems415.spl~ ~override~
	SAY NAME1 @19409

COPY_EXISTING ~mems416.spl~ ~override~
	SAY NAME1 @19410

COPY_EXISTING ~mems901.spl~ ~override~
	WRITE_SHORT 0x98 mecswarx
	SAY NAME1 @19389

COPY_EXISTING ~mems902.spl~ ~override~
	SAY NAME1 @19390

COPY_EXISTING ~mems903.spl~ ~override~
	SAY NAME1 @19391

COPY_EXISTING ~mems904.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring parameter1=RESOLVE_STR_REF(@635) END
	SAY NAME1 @19392

COPY_EXISTING ~mems905.spl~ ~override~
	SAY NAME1 @19393

COPY_EXISTING ~mems906.spl~ ~override~
	SAY NAME1 @19396

COPY_EXISTING ~meoracl2.spl~ ~override~
	WRITE_SHORT 0x98 mebigare
/*
COPY_EXISTING ~mepermlu.spl~ ~override~
	WRITE_SHORT 0x98 meintrv2
*/
COPY_EXISTING ~mepull01.spl~ ~override~ ~mepull02.spl~ ~override~ ~mepull04.spl~ ~override~
	SAY NAME1 @19229

COPY_EXISTING ~mepull03.spl~ ~override~
	SAY NAME1 @19230

COPY_EXISTING ~mepull05.spl~ ~override~
	SAY NAME1 @19231

COPY_EXISTING ~mepush01.spl~ ~override~ ~mepush03.spl~ ~override~
	SAY NAME1 @19232

COPY_EXISTING ~mepurgea.spl~ ~override~ ~mepurgen.spl~ ~override~ ~mepurgee.spl~ ~override~
	WRITE_SHORT 0x98 mepurge

COPY_EXISTING ~meptgaz3.spl~ ~override~
	WRITE_SHORT 0x98 megaze2

COPY_EXISTING ~merwarpe.spl~ ~override~
	SAY NAME1 @19233

COPY_EXISTING ~mesalfia.spl~ ~override~ ~mesalfra.spl~ ~override~ //Salamander auras
	LPF ALTER_SPELL_HEADER INT_VAR projectile=mesalaur END

COPY_EXISTING ~meschlum.spl~ ~override~
	WRITE_SHORT 0x98 meschlum

COPY_EXISTING ~mevampfl.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=displaystring match_parameter1=19364 parameter1=RESOLVE_STR_REF(@19364) END

/*
COPY_EXISTING ~mevicond.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell2 match_parameter2=1250 parameter2=splprot_areaisnotoutdoor END
*/
COPY_EXISTING ~mewyvbad.spl~ ~override~
	WRITE_SHORT 0x98 mewyvbad

COPY_EXISTING ~mewyvand.spl~ ~override~
	WRITE_SHORT 0x98 mewyvand

COPY_EXISTING ~mewyverd.spl~ ~override~
	WRITE_SHORT 0x98 mewyverd

COPY_EXISTING ~mexplo01.spl~ ~override~ ~mexplo02.spl~ ~override~
	WRITE_SHORT 0x98 mesunfre

COPY_EXISTING ~mexplo11.spl~ ~override~ ~mexplo12.spl~ ~override~
	WRITE_SHORT 0x98 mesunfbl

PRINT @220

COPY_EXISTING_REGEXP ~.*\.spl~ ~override~ ~.*\.itm~ ~override~
	LPF CLONE_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=maze opcode=modifyallsaves timing=3 duration=1 parameter1=0 parameter2=0 END
	LPF CLONE_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=protectionfromopcode match_parameter2=slow opcode=setspellstate parameter2=29 special=1 END
	LPF CLONE_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=protectionfromopcode match_parameter2=confusion opcode=setspellstate parameter2=41 special=1 END
//	LPF CLONE_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=protectionfromopcode match_parameter2=panic opcode=setspellstate parameter2=106 special=1 END
//	LPF CLONE_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=protectionfromopcode match_parameter2=petrification opcode=setspellstate parameter2=107 special=1 END
	BUT_ONLY_IF_IT_CHANGES

// Turning regeneration into a repeated heal effect so that a regeneration effect can be temporarily turned off.

COPY_EXISTING_REGEXP ~.*\.cre~ ~override~ ~.*\.spl~ ~override~ ~.*\.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=regeneration opcode=applyrepeatingeff STR_VAR resource=~meregen1~ END
	IF ~b~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.eff~ ~override~
	READ_LONG effopcode theopcode
	PATCH_IF theopcode = regeneration BEGIN
		WRITE_LONG effopcode applyrepeatingeff
		WRITE_ASCII effresource ~meregen1~ #8
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.cre~ ~override~
	READ_LONG animation ulgiash
	PATCH_IF (ulgiash = 25605) OR (ulgiash = 25606) BEGIN
		LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromspell target=1 timing=9 parameter1=(0 - 1) STR_VAR resource=~meco277~ END
		LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=wingbuffet END
		LPF ADD_CRE_EFFECT INT_VAR opcode=protectionfromopcode target=1 timing=9 parameter2=teleport END
	END
	PATCH_IF (ulgiash = 36864) OR (ulgiash = 8704) OR (ulgiash = 57360) OR (ulgiash = 57360) BEGIN
		LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter1=targetcaster parameter2=ifcasterdies STR_VAR resource=~meexgos1~ END
	END
	PATCH_IF (ulgiash = 4100) OR (ulgiash = 40960) OR (ulgiash = 4096) OR (ulgiash = 32557) OR (ulgiash = slotwyvernreallybigdecimal) OR (ulgiash = 41472) OR (ulgiash = 32568) OR (ulgiash = 4099) OR (ulgiash = 32581) OR (ulgiash = 32515) OR (ulgiash = 57966) OR (ulgiash = 57965) OR (ulgiash = 29472) OR (ulgiash = 29473) OR (ulgiash = 32577) OR (ulgiash = 32517) OR (ulgiash = 32518) OR (ulgiash = 32526) OR (ulgiash = 32582) OR (ulgiash = 32537) OR (ulgiash = 57952) OR (ulgiash = 58004) OR (ulgiash = 32569) OR (ulgiash = 32514) OR (ulgiash = 32533) OR (ulgiash = 32545) OR (ulgiash = slotinvisiblestalkernewdecimal) BEGIN
		LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=50 parameter2=1 special=640 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~meghowst~ END
//		LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=2 parameter2=3 STR_VAR resource=~menofly~ END
	END
	PATCH_IF (ulgiash = 32598) OR (ulgiash = 32599) OR (ulgiash = 57586) OR (ulgiash = 57994) OR (ulgiash = 30467) OR (ulgiash = 59936) OR (ulgiash = 59920) OR (ulgiash = 32592) OR (ulgiash = 32565) OR (ulgiash = 32593) OR (ulgiash = 58002) OR (ulgiash = 58112) OR (ulgiash = 32569) BEGIN
		LPF ADD_CRE_EFFECT INT_VAR opcode=passwall target=1 timing=9 parameter2=1 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=1 parameter2=1 special=639 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=eeexsetextendedstat target=1 timing=9 parameter1=50 parameter2=1 special=640 END
		LPF ADD_CRE_EFFECT INT_VAR opcode=applyspellonmovement target=1 timing=9 STR_VAR resource=~meghowst~ END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_SHORT 0x1C theitemtype
	PATCH_IF theitemtype = 5 OR theitemtype = 14 OR theitemtype = 31 BEGIN
		LPF ADD_ITEM_EQEFFECT INT_VAR opcode=eeexinvokelua target=1 timing=0 STR_VAR resource=~MEAUTORA~ END
	END
	BUT_ONLY_IF_IT_CHANGES
	UNLESS ~MEAUTORA~

COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_SHORT 0x68 thenumheaders
	READ_SHORT 0x70 thenumglobaleffects
	PATCH_IF thenumheaders > 0 BEGIN
		READ_BYTE 0x72 thefirstheadertype
		PATCH_IF thefirstheadertype = 1 OR thefirstheadertype = 2 OR thefirstheadertype = 4 BEGIN
			LPF ADD_ITEM_EQEFFECT INT_VAR opcode=protectionfrombackstab target=1 timing=2 parameter2=1 savingthrow=0x10000 END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY ~HighPower/Allfiles/meweyegr.cre~ ~override~

/*
COPY_EXISTING_REGEXP ~.*\.spl~ ~override~ ~.*\.itm~ ~override~
	LPF DELETE_EFFECT INT_VAR silent=1 match_opcode=polymorph END
	BUT_ONLY_IF_IT_CHANGES
*/

COPY_EXISTING_REGEXP ~meankhps\.itm~ ~override~ ~mebaslps\.itm~ ~override~ ~meberb[lr]d\.itm~ ~override~ ~meratpo\.itm~ ~override~ ~mesalfi\.itm~ ~override~ ~mespdph2\.itm~ ~override~ ~mespdsw2\.itm~ ~override~ ~metrolps\.itm~ ~override~ ~mewolfwi\.itm~ ~override~ ~mewowips\.itm~ ~override~ ~mewyvav\.itm~ ~override~ ~squirp\.itm~ ~override~
	LPF ADD_ITEM_EQEFFECT INT_VAR opcode=disablebutton target=1 timing=2 parameter2=7 END

COPY_EXISTING ~bgee.lua~ ~override~
	REPLACE_TEXTUALLY ~title = \'SPELL_TRIGGER_TITLE\', action = \"ADD_SPELLS_TRIGGER_LABEL\"~ ~title = 'SPELL_TRIGGER_TITLE', action = "ADD_SPELLS_SEQUENCER_LABEL"~

COPY_EXISTING ~l_en_us.lua~ ~override~
	REPLACE_TEXTUALLY ~SPELL_SEQUENCER_TITLE = \"Spell Sequencer\"~ ~SPELL_SEQUENCER_TITLE = "Triple Sequencer"~
	REPLACE_TEXTUALLY ~SPELL_TRIGGER_TITLE = \"Spell Trigger\"~ ~SPELL_TRIGGER_TITLE = "Sequencer Touch"~


// Patching to make extra spell slot effects give spell slots to spell levels the character has not reached yet.

COPY_EXISTING_REGEXP ~.*\.spl~ ~override~ ~.*\.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=bonuswizardspells match_parameter1=1 special=1 END
	LPF ALTER_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=bonuswizardspells match_parameter1=2 special=1 END
	LPF ALTER_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=bonuswizardspells match_parameter1=3 special=1 END
	IF ~*~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.spl~ ~override~ ~.*\.itm~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=bonuspriestspells match_parameter1=1 special=1 END
	LPF ALTER_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=bonuspriestspells match_parameter1=2 special=1 END
	LPF ALTER_EFFECT INT_VAR silent=1 multi_match=60 match_opcode=bonuspriestspells match_parameter1=3 special=1 END
	IF ~>~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.eff~ ~override~
	READ_LONG effopcode theopcode
	PATCH_IF theopcode = bonuswizardspells OR theopcode = bonuspriestspells BEGIN
		READ_SLONG effparameter1 theparameter1
		PATCH_IF theparameter1 > 0 BEGIN
			WRITE_LONG effspecial 1
		END
	END
	BUT_ONLY_IF_IT_CHANGES

// Patching for Far Sequencer
/*
COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	READ_SHORT 0x68 numheaders
	PATCH_IF numheaders > 0 BEGIN
		READ_SHORT 0x80 therange ELSE 0

		PATCH_IF therange > 14 BEGIN

			iscone = 0
			READ_SHORT 0x98 theprojectile ELSE 1
			PATCH_IF theprojectile > 200 BEGIN
				theprojectile -= 1
				INNER_ACTION BEGIN
					COPY_EXISTING ~PROJECTL.IDS~ ~override~
						COUNT_2DA_ROWS 2 numrows
						FOR (i = 115; i < numrows; ++i) BEGIN
							READ_2DA_ENTRY i 0 2 projectileid
							PATCH_IF projectileid = theprojectile BEGIN
								i = numrows
								READ_2DA_ENTRY i 1 2 projectileres
								INNER_ACTION BEGIN
									COPY_EXISTING ~%projectileres%.pro~ ~override~
										READ_SHORT 0x200 aoeflags ELSE 0
										PATCH_IF (aoeflags BAND 0x00000800) = 0x00000800 BEGIN
											iscone = 1
										END
										IF_EXISTS
										BUT_ONLY_IF_IT_CHANGES
								END
							END
						END
						BUT_ONLY_IF_IT_CHANGES
				END
			END

//			PATCH_IF iscone = 0 BEGIN
				LPF ALTER_SPELL_HEADER INT_VAR range=10000 END
//			END
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/
// Patching for Necropotence

COPY_EXISTING_REGEXP ~spwi[1-9][0-9][0-9]\.spl~ ~override~ ~mewi[1-9][0-9][0-9]\.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=402 target=1 timing=0 STR_VAR resource=~MENECROP~ END
	TO_UPPER %SOURCE_RES%
	READ_LONG 0x6A effectoffset
	WRITE_ASCIIE (effectoffset + 0x4) ~%SOURCE_RES%~ #8
	UNLESS ~MENECROP~
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~sppr[1-9][0-9][0-9]\.spl~ ~override~ ~mepr[1-9][0-9][0-9]\.spl~ ~override~ ~spwi[1-9][0-9][0-9]\.spl~ ~override~ ~mewi[1-9][0-9][0-9]\.spl~ ~override~
	LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=402 target=1 timing=0 STR_VAR resource=~MEUNLIMS~ END
	TO_UPPER %SOURCE_RES%
	READ_LONG 0x6A effectoffset
	WRITE_ASCIIE (effectoffset + 0x4) ~%SOURCE_RES%~ #8
	UNLESS ~MEUNLIMS~
	BUT_ONLY_IF_IT_CHANGES

// Patching for Oracle spell prediction
SILENT
COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	READ_SLONG NAME1 thespellname
	PATCH_IF thespellname > 0 BEGIN
		LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=eeexinvokelua target=1 timing=0 parameter1=thespellname STR_VAR resource=~MEORACLE~ END
		TEXT_SPRINT thespellres ~%SOURCE_RES%~
		TO_UPPER %thespellres%
		INNER_ACTION BEGIN
			COPY_EXISTING ~M__MESTR.LUA~ ~override~
				REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_spellstrref = {\[\"\"\] = 0~ ~me_spellstrref = {[""] = 0, ["%thespellres%"] = %thespellname%~
		END
	END
	UNLESS ~MEORACLE~
	BUT_ONLY_IF_IT_CHANGES
VERBOSE

// Patching to make it so Free Action doesn't prevent haste and movement bonuses

COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_LONG 0x64 headeroffset
	READ_SHORT 0x68 numheaders
	READ_LONG 0x6A effectoffset
	READ_SHORT 0x70 numeffects
	PATCH_IF numheaders > 0 BEGIN
		READ_SHORT (headeroffset + 0x38 * (numheaders - 1) + 0x1E) lastheadernumeffects
		READ_SHORT (headeroffset + 0x38 * (numheaders - 1) + 0x20) lastheaderfirsteffectindex
		numeffects = lastheadernumeffects + lastheaderfirsteffectindex
	END
	offset = effectoffset
	isfreeaction = 0
	FOR (i = 0; i < numeffects; ++i) BEGIN
		READ_SHORT offset theopcode ELSE 0
		PATCH_IF theopcode = modifymovementrate1 BEGIN
			READ_SSHORT (offset + 0x4) theparameter1 ELSE 0
			READ_LONG (offset + 0x8) theparameter2 ELSE 0
			PATCH_IF (theparameter2 = 0 AND theparameter1 > 0) OR (theparameter2 = 1 AND theparameter1 > 9) OR (theparameter2 = 2 AND theparameter1 > 100) BEGIN
				WRITE_SHORT offset modifymovementrate2
			END
		END ELSE PATCH_IF theopcode = haste1 BEGIN
			WRITE_SHORT offset haste2
		END ELSE PATCH_IF theopcode = freeaction BEGIN
			isfreeaction = 1
		END
		offset = offset + 0x30
	END
	PATCH_IF isfreeaction = 1 BEGIN
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=modifymovementrate1 match_parameter1=100 match_parameter2=2 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=removeportraiticon match_parameter2=38 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=removeportraiticon match_parameter2=195 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromportraiticon match_parameter2=38 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromportraiticon match_parameter2=195 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromstring match_parameter1=26018 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromstring match_parameter1=26019 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPWI305~ END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPRA301~ END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPWI613~ END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	READ_LONG 0x64 headeroffset
	READ_SHORT 0x68 numheaders
	READ_LONG 0x6A effectoffset
	READ_SHORT (headeroffset + 0x28 * (numheaders - 1) + 0x1E) lastheadernumeffects
	READ_SHORT (headeroffset + 0x28 * (numheaders - 1) + 0x20) lastheaderfirsteffectindex
	numeffects = lastheadernumeffects + lastheaderfirsteffectindex
	offset = effectoffset
	isfreeaction = 0
	FOR (i = 0; i < numeffects; ++i) BEGIN
		READ_SHORT offset theopcode ELSE 0
		PATCH_IF theopcode = modifymovementrate1 BEGIN
			READ_SSHORT (offset + 0x4) theparameter1 ELSE 0
			READ_LONG (offset + 0x8) theparameter2 ELSE 0
			PATCH_IF (theparameter2 = 0 AND theparameter1 > 0) OR (theparameter2 = 1 AND theparameter1 > 9) OR (theparameter2 = 2 AND theparameter1 > 100) BEGIN
				WRITE_SHORT offset modifymovementrate2
			END
		END ELSE PATCH_IF theopcode = haste1 BEGIN
			WRITE_SHORT offset haste2
		END ELSE PATCH_IF theopcode = freeaction BEGIN
			isfreeaction = 1
		END
		offset = offset + 0x30
	END
	PATCH_IF isfreeaction = 1 BEGIN
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=modifymovementrate1 match_parameter1=100 match_parameter2=2 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=removeportraiticon match_parameter2=38 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=removeportraiticon match_parameter2=195 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromportraiticon match_parameter2=38 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromportraiticon match_parameter2=195 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromstring match_parameter1=26018 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromstring match_parameter1=26019 END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPWI305~ END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPRA301~ END
		LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 match_opcode=protectionfromspell STR_VAR match_resource=~SPWI613~ END
	END
	BUT_ONLY_IF_IT_CHANGES

// Patching to make ankhegs emerge when they cast spells

COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	READ_SLONG NAME1 thespellname
	PATCH_IF thespellname > 0 BEGIN
		READ_BYTE 0x7e thetarget
		PATCH_IF (thetarget = 1) OR (thetarget = 4) BEGIN
			LPF ADD_SPELL_CFEFFECT INT_VAR insert_point=0 opcode=useefffile target=1 timing=9 parameter1=101 parameter2=idsrace STR_VAR resource=~MEEMERGE~ END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_SHORT category thecategory
	READ_SHORT 0x68 numheaders
	FOR (i = 0; i < numheaders; ++i) BEGIN
		me_off = 0x72 + i * 0x38
		READ_BYTE me_off theheadertype
		READ_BYTE (me_off + 0xC) thetarget
		PATCH_IF theheadertype = 3 AND ((thetarget = 1) OR (thetarget = 4)) AND (i != 1 OR thecategory != 11) BEGIN
			LPF ADD_ITEM_EFFECT INT_VAR header=(i + 1) insert_point=0 opcode=useefffile target=1 timing=9 parameter1=101 parameter2=idsrace STR_VAR resource=~MEEMERGE~ END
		END
	END
	BUT_ONLY_IF_IT_CHANGES

// Making backups of all search maps

SILENT
COPY_EXISTING_REGEXP ~.*\.are~ ~override~
	TEXT_SPRINT theareares ~%SOURCE_RES%~
	PATCH_IF NOT FILE_EXISTS_IN_GAME ~%theareares%SB.bmp~ BEGIN
		INNER_ACTION BEGIN
/*
			COPY_EXISTING ~%theareares%SR.bmp~ ~override~
				READ_LONG 0x2 thefilesize
				READ_LONG 0xA thedataoffset
				FOR (i = thedataoffset; i < thefilesize; ++i) BEGIN
					READ_BYTE i current
					currentA = current / 16
					currentB = current MODULO 16
					PATCH_IF currentA = 8 BEGIN
						currentA = 12
					END ELSE PATCH_IF currentA = 0 OR currentA = 10 OR currentA = 13 BEGIN
						currentA = 8
					END ELSE PATCH_IF currentA = 2 BEGIN
						currentA = 9
					END
					PATCH_IF currentB = 2 BEGIN
						currentB = 9
					END
					WRITE_BYTE i (currentA * 16 + currentB)
				END
				IF_EXISTS
*/
			COPY_EXISTING ~%theareares%SR.bmp~ ~override/%theareares%SB.bmp~
				IF_EXISTS
		END
	END
	BUT_ONLY_IF_IT_CHANGES
VERBOSE
/*
COPY_EXISTING_REGEXP ~.*\.cre~ ~override~
//	LPF ADD_CRE_EFFECT INT_VAR insert_point=0 opcode=407 target=1 timing=10 duration=2 parameter1=1 parameter2=2 STR_VAR resource=~MEPERMLS~ END
//	LPF ADD_CRE_EFFECT INT_VAR insert_point=0 opcode=146 target=1 timing=4 duration=0 parameter1=1 parameter2=2 STR_VAR resource=~MEPERMLS~ END
//	LPF ADD_CRE_EFFECT INT_VAR insert_point=0 opcode=setspellstate target=1 timing=9 parameter2=241 special=1 STR_VAR effsource=~MEPERMLU~ END
//	LPF ADD_CRE_EFFECT INT_VAR insert_point=0 opcode=protectionfrombackstab target=1 timing=9 parameter2=1 savingthrow=0x10000 STR_VAR effsource=~MEPERMLU~ END
//	LPF ADD_CRE_EFFECT INT_VAR insert_point=0 opcode=eeexscreeneffects target=1 timing=9 STR_VAR resource=~MEDAMABS~ effsource=~MEPERMLU~ END
//	LPF ADD_CRE_EFFECT INT_VAR insert_point=0 opcode=eeexscreeneffects target=1 timing=9 STR_VAR resource=~MESPLMOD~ effsource=~MEPERMLU~ END
//	LPF ADD_CRE_EFFECT INT_VAR opcode=castspelloncondition target=1 timing=9 parameter2=15 special=0x800 STR_VAR resource=~MEDEADID~ effsource=~MEPERMLU~ END
	UNLESS ~MEPERMLU~
*/
LAF GET_KIT_ID STR_VAR kit=~USCDW1~ RET id_USCDW1=id END
LAF GET_KIT_ID STR_VAR kit=~USCDW2~ RET id_USCDW2=id END

ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~0~ OR MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~1~ OR MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~2~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~13~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~14~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~15~ BEGIN

	INCLUDE ~HighPower/lib/qd_multiclass.tpa~

	COPY_EXISTING_REGEXP ~sppr[1-7][0-4][0-9]\.spl~ ~override~
		READ_LONG spellunusability thespellunusability
		READ_LONG spelllevel thespelllevel
		PATCH_IF ((thespellunusability BAND 0x80000000) != 0x80000000) BEGIN
			TEXT_SPRINT thespellres ~%SOURCE_RES%~
			ishidden = 0
			INNER_ACTION BEGIN
				COPY_EXISTING ~hidespl.2da~ ~override~
					COUNT_2DA_COLS numcolumns
					COUNT_2DA_ROWS numcolumns numrows
					FOR (i = 130; i < numrows; ++i) BEGIN
						READ_2DA_ENTRY i 0 numcolumns theresentry
						PATCH_IF (~%theresentry%~ STRING_EQUAL_CASE ~%thespellres%~) BEGIN
							READ_2DA_ENTRY i 1 numcolumns ishidden
						END
					END

				ACTION_IF ishidden = 0 BEGIN
					COPY_EXISTING ~meaddd%thespelllevel%.spl~ ~override~
						LPF ADD_SPELL_EFFECT INT_VAR opcode=giveability target=2 timing=9 STR_VAR resource= EVAL ~%thespellres%~ END
						IF_EXISTS

//						LAF ADD_CLASS_SPELL STR_VAR resref= EVAL ~%thespellres%~ kit_include= EVAL ~{%id_USCDW1%, %id_USCDW2%, %id_USCD01%, }~ END
				END
			END
		END
		BUT_ONLY_IF_IT_CHANGES

	COPY_EXISTING ~clabusc.2da~ ~override~ ~clabusd.2da~ ~override~ ~clabuscd.2da~ ~override~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPPR[0-9][0-9][0-9].~ ~****       ~
		COUNT_2DA_ROWS 1 numrows
		INSERT_2DA_ROW numrows 1 ~ME_USD   AP_MEADDD1 ****        AP_MEADDD2 ****        AP_MEADDD3 ****        AP_MEADDD4 ****        AP_MEADDD5 ****        AP_MEADDD6 ****        ****        AP_MEADDD7 ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
		IF_EXISTS
		UNLESS ~ME_USD~

	ACTION_IF id_USCDW1 > 0 BEGIN
		COPY_EXISTING_REGEXP ~QD_MCP[0-5][0-9].SPL~ ~override~
			LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_parameter1=id_USCDW1 END

		LAF qd_multiclass
		  STR_VAR 
		      kit_name = ~USCDW1~ //the internal name for your kit (e.g. QDMAGUS) 
		      kit_clab = ~CLABUSC~ //the internal name of your kit's clab file, without the .2da extension
		      base_class = ~P~ // this can take 6 values: [F]ighter, [P]riest, [D]ruid, [R]anger, [M]age, [T]hief
		END
	END
	ACTION_IF id_USCDW2 > 0 BEGIN
		COPY_EXISTING_REGEXP ~QD_MCP[0-5][0-9].SPL~ ~override~
			LPF DELETE_EFFECT INT_VAR silent=1 check_headers=1 check_globals=0 match_parameter1=id_USCDW2 END
			IF_EXISTS
			BUT_ONLY_IF_IT_CHANGES

		LAF qd_multiclass
		  STR_VAR
		      kit_name = ~USCDW2~ //the internal name for your kit (e.g. QDMAGUS) 
		      kit_clab = ~CLABUSD~ //the internal name of your kit's clab file, without the .2da extension
		      base_class = ~P~ // this can take 6 values: [F]ighter, [P]riest, [D]ruid, [R]anger, [M]age, [T]hief
		END
	END

END

ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~1~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~14~ BEGIN

	COPY_EXISTING_REGEXP ~sppr[1-7][0-4][0-9]\.spl~ ~override~
		READ_LONG spellunusability thespellunusability
		PATCH_IF ((thespellunusability BAND 0x40000000) != 0x40000000) AND ((thespellunusability BAND 0x80000000) = 0x80000000) BEGIN
			TEXT_SPRINT thespellres ~%SOURCE_RES%~
			INNER_ACTION BEGIN
				COPY_EXISTING ~meremclr.spl~ ~override~
					LPF ADD_SPELL_EFFECT INT_VAR opcode=removeability target=2 timing=9 STR_VAR resource= EVAL ~%thespellres%~ END

//				LAF ADD_CLASS_SPELL STR_VAR resref= EVAL ~%thespellres%~ kit_exclude= EVAL ~{%id_USCDW2%, }~ END
			END
		END
		BUT_ONLY_IF_IT_CHANGES

	COPY_EXISTING ~meremclr.spl~ ~override/uscd04.spl~

END

ACTION_IF MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~3~ OR MOD_IS_INSTALLED ~DruidMulticlasses.tp2~ ~4~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~16~ OR MOD_IS_INSTALLED ~ExpandedClasses.tp2~ ~17~ BEGIN

	OUTER_FOR (i = 1; i <= 7; ++i) BEGIN
		OUTER_FOR (j = 0; j <= 4; ++j) BEGIN
			OUTER_FOR (k = 0; k <= 9; ++k) BEGIN
				ACTION_IF FILE_EXISTS_IN_GAME ~sppr%i%%j%%k%.spl~ BEGIN
					OUTER_SET ishidden = 0
					COPY_EXISTING ~hidespl.2da~ ~override~
						COUNT_2DA_COLS numcolumns
						COUNT_2DA_ROWS numcolumns numrows
						FOR (r = 130; r < numrows; ++r) BEGIN
							READ_2DA_ENTRY r 0 numcolumns theresentry
							PATCH_IF (~%theresentry%~ STRING_EQUAL_CASE ~sppr%i%%j%%k%~) BEGIN
								READ_2DA_ENTRY r 1 numcolumns ishidden
							END
						END

					ACTION_IF ishidden = 0 BEGIN
						OUTER_SET usable_by_druid = 0
						COPY_EXISTING ~sppr%i%%j%%k%.spl~ ~override/uscdw%i%%j%%k%.spl~
							READ_LONG spellunusability thespellunusability
							PATCH_IF ((thespellunusability BAND 0x80000000) != 0x80000000) BEGIN
								usable_by_druid = 1
							END
							WRITE_SHORT spelltype 1
							LPF ALTER_EFFECT INT_VAR silent=1 check_headers=1 check_globals=1 STR_VAR match_resource= EVAL ~%SOURCE_RES%~ resource= EVAL ~%DEST_RES%~ END

						COPY_EXISTING ~meadd5m%i%.spl~ ~override~
							LPF ADD_SPELL_EFFECT INT_VAR opcode=giveability target=2 timing=9 STR_VAR resource= EVAL ~uscdw%i%%j%%k%~ END

						ACTION_IF usable_by_druid = 1 BEGIN
							COPY_EXISTING ~meadddt%i%.spl~ ~override~
								LPF ADD_SPELL_EFFECT INT_VAR opcode=giveability target=2 timing=9 STR_VAR resource= EVAL ~uscdw%i%%j%%k%~ END

//							LAF ADD_CLASS_SPELL STR_VAR resref= EVAL ~uscdw%i%%j%%k%~ kit_include= EVAL ~{%id_USCDWX%, %id_USCDWT%, }~ END
						END ELSE BEGIN
//							LAF ADD_CLASS_SPELL STR_VAR resref= EVAL ~uscdw%i%%j%%k%~ kit_include= EVAL ~{%id_USCDWX%, }~ END
						END
					END
				END
			END
		END
		COPY_EXISTING ~meadd5m%i%.spl~ ~override/uscdxx%i%.spl~ ~meadddt%i%.spl~ ~override/uscdxt%i%.spl~
	END


END

ACTION_IF FILE_EXISTS_IN_GAME ~QD_MCM01.SPL~ BEGIN
	COPY_EXISTING ~clabma01.2da~ ~override~
		COUNT_2DA_ROWS 1 numrows
		INSERT_2DA_ROW numrows 1 ~QD_MULTI     AP_QD_MCM01 AP_QD_MCM02 AP_QD_MCM03 AP_QD_MCM04 AP_QD_MCM05 AP_QD_MCM06 AP_QD_MCM07 AP_QD_MCM08 AP_QD_MCM09 AP_QD_MCM10 AP_QD_MCM11 AP_QD_MCM12 AP_QD_MCM13 AP_QD_MCM14 AP_QD_MCM15 AP_QD_MCM16 AP_QD_MCM17 AP_QD_MCM18 AP_QD_MCM19 AP_QD_MCM20 AP_QD_MCM21 AP_QD_MCM22 AP_QD_MCM23 AP_QD_MCM24 AP_QD_MCM25 AP_QD_MCM26 AP_QD_MCM27 AP_QD_MCM28 AP_QD_MCM29 AP_QD_MCM30 AP_QD_MCM31 AP_QD_MCM32 AP_QD_MCM33 AP_QD_MCM34 AP_QD_MCM35 AP_QD_MCM36 AP_QD_MCM37 AP_QD_MCM38 AP_QD_MCM39 AP_QD_MCM40 AP_QD_MCM41 AP_QD_MCM42 AP_QD_MCM43 AP_QD_MCM44 AP_QD_MCM45 AP_QD_MCM46 AP_QD_MCM47 AP_QD_MCM48 AP_QD_MCM49 AP_QD_MCM50~
		IF_EXISTS
		UNLESS ~QD_MULTI~

END
/*
COPY_EXISTING ~baldur.gam~ ~override~
	READ_LONG 0x30 nonpartycharactersoffset
	READ_LONG 0x34 numnonpartycharacters
	FOR (i = 0; i < numnonpartycharacters; ++i) BEGIN
		SET characteroffset = nonpartycharactersoffset + i * 0x160
		READ_ASCII (characteroffset + 0xC) charactername
		INNER_ACTION BEGIN
			COPY_EXISTING_REGEXP ~%charactername%.*.cre~ ~override~
				LPF DELETE_EFFECT INT_VAR match_opcode=castspell STR_VAR match_resource=~MEPERMLS~ END
				IF_EXISTS
				BUT_ONLY_IF_IT_CHANGES
		END
	END
*/
/*
COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
	READ_SHORT 0x68 numheaders
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x70 numglobaleffects
	me_off = effectsoffset + (numglobaleffects * 0x30)
	FOR (i = 0; i < numheaders; ++i) BEGIN
		READ_SHORT (i * 0x28 + 0x90) numeffects
		damageheaderoffset = 0xFFFFFFFF
		damagetype = 0xDEFA
		FOR (j = 0; j < numeffects; ++j) BEGIN
			READ_SHORT me_off theopcode
			PATCH_IF theopcode = 12 BEGIN
				READ_SHORT (me_off + 0xA) thedamagetype
				PATCH_IF damagetype = 0xDEFA BEGIN
					damagetype = thedamagetype
					damageheaderoffset = me_off
				END
				ELSE BEGIN
				PATCH_IF thedamagetype != damagetype BEGIN
					damageheaderoffset = 0xFFFFFFFF
				END
				END
			END
			me_off += 0x30
		END
		PATCH_IF damageheaderoffset != 0xFFFFFFFF BEGIN
			READ_BYTE (damageheaderoffset + 0x2) thetarget
			READ_BYTE (damageheaderoffset + 0x3) thepower
			READ_SHORT (damageheaderoffset + 0x4) theparameter1
			READ_BYTE (damageheaderoffset + 0xD) theresist_dispel
			READ_BYTE (damageheaderoffset + 0xF) theprobability1
			READ_BYTE (damageheaderoffset + 0x10) theprobability2
			READ_SHORT (damageheaderoffset + 0x1C) thedicenumber
			READ_SHORT (damageheaderoffset + 0x20) thedicesize
			READ_LONG (damageheaderoffset + 0x24) thesavingthrow
			thesavingthrow &= 0xFFFFFFE0
			LPF ADD_SPELL_EFFECT INT_VAR header=(i + 1) power=thepower opcode=eeexinvokelua target=thetarget timing=0 parameter1=(thedicenumber + (thedicesize << 16)) parameter2=(theparameter1 + (damagetype << 16)) resist_dispel=theresist_dispel probability1=theprobability1 probability2=theprobability2 savingthrow=thesavingthrow insert_point=0 STR_VAR resource=~MEDAMABS~ END
			me_off += 0x30
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_SHORT 0x68 numheaders
	READ_LONG 0x6a effectsoffset
	READ_SHORT 0x70 numglobaleffects
	me_off = effectsoffset + (numglobaleffects * 0x30)
	FOR (i = 0; i < numheaders; ++i) BEGIN
		READ_SHORT (i * 0x38 + 0x90) numeffects
		damageheaderoffset = 0xFFFFFFFF
		damagetype = 0xDEFA
		FOR (j = 0; j < numeffects; ++j) BEGIN
			READ_SHORT me_off theopcode
			PATCH_IF theopcode = 12 BEGIN
				READ_SHORT (me_off + 0xA) thedamagetype
				PATCH_IF damagetype = 0xDEFA BEGIN
					damagetype = thedamagetype
					damageheaderoffset = me_off
				END
				ELSE BEGIN
				PATCH_IF thedamagetype != damagetype BEGIN
					damageheaderoffset = 0xFFFFFFFF
				END
				END
			END
			me_off += 0x30
		END
		PATCH_IF damageheaderoffset != 0xFFFFFFFF BEGIN
			READ_BYTE (damageheaderoffset + 0x2) thetarget
			READ_BYTE (damageheaderoffset + 0x3) thepower
			READ_SHORT (damageheaderoffset + 0x4) theparameter1
			READ_BYTE (damageheaderoffset + 0xD) theresist_dispel
			READ_BYTE (damageheaderoffset + 0xF) theprobability1
			READ_BYTE (damageheaderoffset + 0x10) theprobability2
			READ_SHORT (damageheaderoffset + 0x1C) thedicenumber
			READ_SHORT (damageheaderoffset + 0x20) thedicesize
			READ_LONG (damageheaderoffset + 0x24) thesavingthrow
			thesavingthrow &= 0xFFFFFFE0
			LPF ADD_ITEM_EFFECT INT_VAR header=(i + 1) type=99 power=thepower opcode=eeexinvokelua target=thetarget timing=0 parameter1=(thedicenumber + (thedicesize << 16)) parameter2=(theparameter1 + (damagetype << 16)) resist_dispel=theresist_dispel probability1=theprobability1 probability2=theprobability2 savingthrow=thesavingthrow insert_point=0 STR_VAR resource=~MEDAMABS~ END
			me_off += 0x30
		END
	END
	BUT_ONLY_IF_IT_CHANGES
*/
/*
COPY_EXISTING_REGEXP ~.*\.spl~ ~override~
		LPF ADD_SPELL_CFEFFECT INT_VAR opcode=removeeffectsbyresource target=1 timing=9 STR_VAR resource=~MENEXTSP~ END
*/

COPY_EXISTING ~menotele.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 STR_VAR match_resource=~mewi252~ resource= EVAL ~%mewi252%~ END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell match_parameter2=1 parameter1=RESOLVE_STR_REF(@506) END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell match_parameter2=2 parameter1=RESOLVE_STR_REF(@507) END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell match_parameter2=3 parameter1=RESOLVE_STR_REF(@505) END
	LPF ALTER_EFFECT INT_VAR check_headers=1 check_globals=0 match_opcode=protectionfromspell match_parameter2=4 parameter1=RESOLVE_STR_REF(@508) END

//____________________________________________DLG

PRINT @182

COPY_EXISTING ~alatos.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~AddexperienceParty(4000)~ ~AddexperienceParty(4000)
GiveItem("MESW1H58",LastTalkedToBy)~
	END

COPY_EXISTING ~albert.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItemCreate(\"MISC38\",LastTalkedToBy,0,0,0)~ ~GiveItem("MEBLUN80",LastTalkedToBy)~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ClearAllActions()
StartCutSceneMode()
StartCutScene(\"Rufcut02\")~ ~Enemy()~
     END

COPY_EXISTING ~aldeth.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~OpenDoor(\"DOOR0127\")~ ~Unlock("DOOR0127")
OpenDoor("DOOR0127")~
     END

COPY_EXISTING ~andars.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~EscapeArea()~ ~~
     END

COPY_EXISTING ~arghai.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~OGREHA~ ~MEETTINA~
     END

COPY_EXISTING ~bassil.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GlobalShout(~ ~SetGlobal("ME_Bassilus_Minions","GLOBAL",~
     END

COPY_EXISTING ~skeletb.bcs~ ~override~ ~zombieb.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Heard(\"Bassilus\",~ ~Global("ME_Bassilus_Minions","GLOBAL",~
     END

COPY_EXISTING ~beldin.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreatureObjectOffset(\"KOBOLDAB\",Myself,\[\-128.\-128\])
CreateCreatureObjectOffset(\"KOBOLDAB\",Myself,\[\-128.\-128\])
CreateCreatureObjectOffset(\"KOBOLDAB\",Myself,\[\-128.\-128\])
CreateCreatureObjectOffset(\"KOBOLDAB\",Myself,\[\-128.\-128\])~ ~CreateCreature("MEMANE",[2227.2390],S)~
     END

COPY_EXISTING ~bjorni.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~SHLD04~ ~BRAC20~
     END

COPY_EXISTING ~brevli.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~WAND07~ ~WAND09~
     END

COPY_EXISTING ~brilla.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature(\"GUARD\",\[1402.221\],SW)~ ~CreateCreature("GUARD",[1402.221],SW)
Enemy()~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~EscapeArea()~ ~~
	END

COPY_EXISTING ~cattac.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Attack(NearestEnemyOf(Myself))~ ~~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Enemy()~ ~Enemy()
SetGlobal("Cattack_Fight","GLOBAL",1)~
     END

COPY_EXISTING ~chanth.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~BOOK08~ ~MEBOOKLK~
     END

COPY_EXISTING ~credus.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~True()~ ~NumTimesTalkedTo(0)~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~False()~ ~True()~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~EscapeArea()~ ~~
     END

COPY_EXISTING ~cutsar.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~CH1CUT04~ ~MECH1CUT~
     END

COPY_EXISTING ~degrod.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyItem(\"HELM07\")~ ~TakePartyItem("HELM07")
DestroyItem("HELM07")~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveGoldForce(5000)~ ~GiveItemCreate("MEAMUL99",LastTalkedToBy,0,0,0)~
     END

COPY_EXISTING ~deltan.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~DialogueInterrupt(FALSE).*Kill(Player1)~ ~Enemy()
ActionOverride("SCAR",Enemy())~
     END

COPY_EXISTING ~dradee.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyItem(\"misc1f\")~ ~TakePartyItem("misc1f")
DropItem("MECLCK91", [433.194])~
     END

COPY_EXISTING ~drunk.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,SURE_SLEEP)~ ~ApplySpellRES("MELICHDR",Myself)~
     END

COPY_EXISTING ~dryad.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~POTN08~ ~BOW08~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~POTN20~ ~BOW08~
     END

COPY_EXISTING ~dopdur1.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpellPoint(\[1145.850\]~ ~ReallyForceSpell(Protagonist~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT)~ ~ReallyForceSpellRES("MEFUERCH",Myself)~
     END

COPY_EXISTING ~dopdur2.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpellPoint(\[1793.1126\]~ ~ReallyForceSpell(Protagonist~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT)~ ~ReallyForceSpellRES("MEISLACH",Myself)~
     END

COPY_EXISTING ~dopdur3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpellPoint(\[1797.953\],WIZARD_CLOUDKILL)~ ~ReallyForceSpell(Protagonist,WIZARD_DEATH_FOG)~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpellPoint(\[1656.762\],WIZARD_STINKING_CLOUD)~ ~ReallyForceSpell(Protagonist,WIZARD_DEATH_FOG)~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpellPoint(\[2065.595\]~ ~ReallyForceSpell(Protagonist~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpell("ISLANNE",DOPPLEGANGER_CHANGE_DEFAULT)~ ~ReallyForceSpellRES("MEDOPGR2","ISLANNE")~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpell("FUERNEBOL",DOPPLEGANGER_CHANGE_DEFAULT)~ ~ReallyForceSpellRES("MEDOPGR2","FUERNEBOL")~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ReallyForceSpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT)~ ~ReallyForceSpellRES("MEKIELCH",Myself)~
     END

COPY_EXISTING ~dreppi3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK02",Myself)~
	END

COPY_EXISTING ~elmin3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~EscapeArea()~ ~GiveItem("MEECOL3S",LastTalkedToBy)
EscapeArea()~
     END

COPY_EXISTING ~elmins4.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
//		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"ELMINS4\",ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT))~ ~ActionOverride("ELMINS4",ApplySpellRES("MEELARAG",Myself))~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"GORION3\",ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER))~ ~ActionOverride("GORION3",ApplySpellRES("MEDOPK10",Myself))~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"TETHTO3\",ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER))~ ~ActionOverride("TETHTO3",ApplySpellRES("MEDOPK11",Myself))~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"ELMINS4\",ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT))~ ~ActionOverride("ELMINS4",ApplySpellRES("MEDOPK12",Myself))~
	END

COPY_EXISTING ~entar.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~Shout(99)~ ~Shout(99)
Enemy()~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~EscapeArea()~ ~~
	END

COPY_EXISTING ~faber.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~EscapeArea()~ ~SetGlobal("Merinara_Fight","GLOBAL",1)
CreateCreature("MEMERINA",[1345.608],W)
CreateCreature("MEIRONWD",[1415.674],W)
EscapeArea()~
     END

COPY_EXISTING ~fenten.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~PartyHasItem~ ~HasItem("AX1H19",Myself)
PartyHasItem~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~MISC12~ ~MEMISC12~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveGoldForce(250)~ ~GiveItem("AX1H19",LastTalkedToBy)~
     END

COPY_EXISTING ~fireb1.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~PartyHasItem(\"SCRL75\")~ ~PartyHasItem("MEWI356X")~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyItemAll(\"SCRL75\")~ ~TakePartyItemAll("MEWI356X")~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItemCreate(\"POTN08\",LastTalkedToBy,1,0,0)~ ~GiveItemCreate("POTN25",LastTalkedToBy,1,0,0)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ForceSpell(Player1,WIZARD_PROTECTION_FROM_EVIL)~ ~ForceSpellRES("MEMS067",Player1)~
     END

COPY_EXISTING ~firebe.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~BAG03~ ~MEECOL01~
     END

COPY_EXISTING ~fuller3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK06",Myself)~
	END

COPY_EXISTING ~galtok.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"KOBOLD\"~ ~"KOBOLD11"~
     END

COPY_EXISTING ~gandol.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveGoldForce(250)~ ~GiveItem("MESLNG08",LastTalkedToBy)~
     END

COPY_EXISTING ~garan.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ANKHEG~ ~MEANKHGA~
     END

COPY_EXISTING ~garkla.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Enemy()~ ~Enemy()
Shout(1)~
     END

COPY_EXISTING ~gerde.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveGoldForce(75)~ ~GiveItem("STAF05",LastTalkedToBy)~
     END

COPY_EXISTING ~gorpel.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~NumTimesTalkedTo(0)~ ~NumTimesTalkedTo(0)
Global("Gretek_Fight","GLOBAL",0)
Global("Gretek_Spawn","GLOBAL",0)~
REPLACE_TEXTUALLY CASE_INSENSITIVE ~CreateCreature(\"GRETEK\",\[743.1041\],S)
CreateCreature(\"PARGUS\",\[681.1029\],S)
CreateCreature(\"WILF\",\[775.1135\],S)
CreateCreature(\"NADER\",\[845.992\],S)
CreateCreature(\"ARLIN\",\[812.1057\],S)
CreateCreature(\"CATURA\",\[376.1045\],S)~ ~SetGlobal("Gretek_Spawn","GLOBAL",1)~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"FARLUCK\",EscapeArea())
ActionOverride(\"TURPIN\",EscapeArea())
ActionOverride(\"NELIK\",EscapeArea())
EscapeArea()
~ ~~
     END

COPY_EXISTING ~gretek.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Shout(99)~ ~Shout(99)
SetGlobal("Gretek_Fight","GLOBAL",1)~
     END

COPY_EXISTING ~halftr.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~MISC19~ ~MEMISCGS~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Global(\"GV#FLARInterjectFurret1\",\"GLOBAL\",0)~ ~False()~
//     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Global(\"X#JaheiraFurret\",\"GLOBAL\",0)~ ~False()~
     END

COPY_EXISTING ~harbor.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~AddExperienceParty(2500)~ ~AddExperienceParty(60000)~
     END

COPY_EXISTING ~hull3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK04",Myself)~
	END

COPY_EXISTING ~hulrik.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~IncrementGlobal(\"XvartsDead\",\"GLOBAL\",1)~ ~IncrementGlobal("XvartsDead","GLOBAL",1)
GiveItemCreate("SCRLZZ",LastTalkedToBy,1,0,0)~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~SetGlobal(\"X#GarHul\",\"GLOBAL\",1)~ ~SetGlobal("X#GarHul","GLOBAL",1)
GiveItemCreate("SCRLZZ",LastTalkedToBy,1,0,0)~
     END

COPY_EXISTING ~hurgan.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~HAMM04~ ~MEHAMM10~
     END

COPY_EXISTING ~ike2.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~MISC2M~ ~MEMISC2J~
     END

COPY_EXISTING ~jalant.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~BOOK08~ ~MEBOOKLK~
     END

COPY_EXISTING ~jondal3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~CreateCreature("MEDOPK13",[3013.1613],S)
ApplySpellRES("MEDOPK05",Myself)~
	END

COPY_EXISTING ~karan3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK03",Myself)~
	END

COPY_EXISTING ~karoug.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"Daese\",Enemy())~ ~ActionOverride("Daese",ForceSpell("Daese", DAESEWOLF_CHANGE))~
	END

COPY_EXISTING ~keeper.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~StartCutScene(\"Ch6cut01\")~ ~SetGlobal("InCandlekeepCH6","GLOBAL",1)
StartCutScene("Ch6cut01")~
     END

COPY_EXISTING ~knight.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyItem(\"MISC82\")~ ~TakePartyItem("MISC82")
GiveItemCreate("BOOT11",LastTalkedToBy,1,0,0)~
     END

COPY_EXISTING ~nadari.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~BOOT02~ ~MECLCK90~
     END

COPY_EXISTING ~narlen.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~SetGlobal(\"NarlenMove\",\"GLOBAL\",1)
EscapeArea()~ ~SetGlobal("NarlenMove","GLOBAL",1)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~SetGlobal(\"NarlenMove\",\"GLOBAL\",4)
EscapeArea()~ ~SetGlobal("NarlenMove","GLOBAL",4)~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~Hide()
EscapeArea()~ ~~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ActionOverride(\"Alatos\",EscapeArea())
EscapeArea()~ ~ActionOverride("Alatos",EscapeArea())~
	END

COPY_EXISTING ~nemphr.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~SCRL1Q~ ~MESCRL9V~
     END

COPY_EXISTING ~nestor.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~CAVENE~ ~MEMINDFL~
     END

COPY_EXISTING ~nexlit.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~
ActionOverride(\"Ursa\",Attack(\"Nexlit\"))~ ~~
     END

COPY_EXISTING ~norale.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItem(\"POTN30\",LastTalkedToBy)
GiveItem(\"POTN30\",LastTalkedToBy)~ ~GiveItem("MEQUIV80",LastTalkedToBy)~
     END

COPY_EXISTING ~palin.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"WOLFWE\",\[2336.3292\]~ ~"MEWOLFW2",[2336.3292]~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"WOLFWE\",\[2352.3450\]~ ~"MEWOLFW3",[2352.3450]~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"WOLFWE\",\[2255.3480\]~ ~"MEWOLFW4",[2255.3480]~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~\"WOLFWEGL\",\[2135.3516\]~ ~"MEWOLFW5",[2135.3516]~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~Enemy()~ ~ReallyForceSpell(Myself,WOLFWERE_CHANGE)~
     END

COPY_EXISTING ~parda3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK07",Myself)~
	END

COPY_EXISTING ~perdue.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GivePartyGoldGlobal(\"PerduePayment\",\"GLOBAL\")~ ~GiveItem("MESW1H85",LastTalkedToBy)~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GivePartyGold(50)~ ~GiveItem("MESW1H85",LastTalkedToBy)~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GivePartyGold(75)~ ~GiveItem("MESW1H85",LastTalkedToBy)~
     END

COPY_EXISTING ~phanda.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~Attack(.*~ ~~
	END

COPY_EXISTING ~pheirk.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~CLCK08~ ~MECLCK61~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyItem(\"MECLCK61\")~ ~TakePartyItem("MECLCK61")
GiveItemCreate("MEBOW14",LastTalkedToBy,0,0,0)
FillSlot(SLOT_CLOAK)~
     END

COPY_EXISTING ~phlydi3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK01",Myself)~
	END

COPY_EXISTING ~ramazi.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~BRAC02~ ~BRAC15~
     END

COPY_EXISTING ~rashad.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT)~ ~ApplySpellRES("MEKIZSCH",Myself)~
     END

COPY_EXISTING ~reevor3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK08",Myself)~
	END

COPY_EXISTING ~reven3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~Kill(\"REVEN\")~ ~SetGlobal("ME_Revenant_Chase","GLOBAL",2)
Kill("REVEN")~
	END

COPY_EXISTING ~sonner.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~BLUN03~ ~BLUN13~
     END

COPY_EXISTING ~surgeo.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~CURE_LIGHT_WOUNDS~ ~HEAL~
     END

COPY_EXISTING ~wiven.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~307.580~ ~3200.2400~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~737.402~ ~3275.2404~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~437.364~ ~3355.2370~
     END

COPY_EXISTING ~taerom.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~MISC12~ ~MEMISC12~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~PLAT06~ ~MEPLAT95~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~500~ ~2500~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~4000~ ~20000~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~6000~ ~25000~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~3999~ ~19999~
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~5999~ ~24999~
     END

COPY_EXISTING ~tethto.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItem(\"SCRL75\",LastTalkedToBy)~ ~GiveItem("MEWI356X",LastTalkedToBy)~
     END

COPY_EXISTING ~tracea.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~SetGlobal(\"Spawn_TANAR\",\"AR1002\",1)~ ~TriggerActivation("Door1003",FALSE)
SetGlobal("Spawn_TANAR","AR1002",1)~
     END

COPY_EXISTING ~ulcast.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~SW1H19~ ~SW1P01~
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyItem(\"Ulbook54\")~ ~TakePartyItem("Ulbook54")
GiveItemCreate("MERING74",LastTalkedToBy,1,1,1)~
	END

COPY_EXISTING ~unshey.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GiveItem(\"BOOK32\",LastTalkedToBy)~ ~GiveItem("BOOK03",LastTalkedToBy)~
     END

COPY_EXISTING ~varci.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~SHLD07~ ~MESHLD62~
     END

COPY_EXISTING ~vitiar.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~TakePartyGold(100)~ ~~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~[^,]EscapeArea()~ ~~
	END

COPY_EXISTING ~voltin.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~WAND09~ ~MERING72~
     END

COPY_EXISTING ~wenric.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
     REPLACE_TEXTUALLY CASE_INSENSITIVE ~GivePartyGold(150)~ ~GivePartyGold(150)
GiveItemCreate("MEBOOT10",LastTalkedToBy,0,0,0)~
     END

COPY_EXISTING ~winthr3.dlg~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~ApplySpell(Myself,DOPPLEGANGER_CHANGE_DEFAULT_LESSER)~ ~ApplySpellRES("MEDOPK09",Myself)~
	END

//____________________________________________STO

PRINT @183

COPY_EXISTING ~bag02.sto~ ~override~ //Gem Bag
	REMOVE_STORE_ITEM ~misc16~ ~misc17~ ~misc18~ ~misc19~

COPY_EXISTING ~erdane.sto~ ~override~ //Erdane
	ADD_STORE_ITEM ~mebrac71~ AFTER ~wand05~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mesw1h80~ AFTER ~leat10~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mesw1h67~ AFTER ~mesw1h80~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~meecol06~ #0 #0 #0 ~NONE~ #1

COPY_EXISTING ~friend.sto~ ~override~ //Bentley Mirrorshade Store
	ADD_STORE_ITEM ~staf18~ AFTER ~staf01~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mebelt09~ AFTER ~book55~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~highhedg.sto~ ~override~ //High Hedge
	REMOVE_STORE_ITEM ~bag06~
	ADD_STORE_ITEM ~ring31~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mestaf67~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~merobe91~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mescrlpt~ AFTER ~scrl09~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~potn40~ AFTER ~potn33~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~meecol04~ #0 #0 #0 ~NONE~ #1
	ADD_STORE_ITEM ~scrl1l~ AFTER ~scrl6g~ #1 #0 #0 ~IDENTIFIED~ #2
	ADD_STORE_ITEM ~scrl2a~ AFTER ~scrl1l~ #1 #0 #0 ~IDENTIFIED~ #2
	ADD_STORE_ITEM ~scrl2g~ AFTER ~scrl2a~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~scrl8b~ AFTER ~mewi657x~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~scrl8p~ AFTER ~scrl8b~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~scrl8q~ AFTER ~scrl8p~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~meamul72~ AFTER ~misc72~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~meamul73~ AFTER ~meamul72~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~inn2616.sto~ ~override~ //Winthrop
	ADD_STORE_ITEM ~bag02~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~bag03~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~bag05~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~bag06~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mexbow15~ AFTER ~xbow04~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~inn3351.sto~ ~override~ //Feldepost's Inn
	ADD_STORE_ITEM ~mearow94~ #1 #0 #0 ~IDENTIFIED~ #5
	ADD_STORE_ITEM ~mebolt60~ #2 #0 #0 ~IDENTIFIED~ #7
	ADD_STORE_ITEM ~meblun61~ AFTER ~sw1h02~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~leat15~ AFTER ~chan02~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	REMOVE_STORE_ITEM ~blun39~
	ADD_STORE_ITEM ~mescrl9z~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~medagg21~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~boot12~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~belt07~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~potn40~ AFTER ~potn35~ #1 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM + ~arow06~ AFTER ~arow05~ #1 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM + ~arow07~ AFTER ~arow06~ #1 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM ~mearow94~ AFTER ~arow07~ #1 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM ~mearow98~ AFTER ~arow11~ #5 #0 #0 ~IDENTIFIED~ #20
	ADD_STORE_ITEM ~mebolt98~ AFTER ~bolt06~ #5 #0 #0 ~IDENTIFIED~ #20
	ADD_STORE_ITEM ~meecol07~ #0 #0 #0 ~NONE~ #1
	ADD_STORE_ITEM ~meecol06~ #0 #0 #0 ~NONE~ #1


COPY_EXISTING ~sto1116.sto~ ~override~ //A weapon store in Southwest Baldur's Gate
	ADD_STORE_ITEM ~mebolt98~ AFTER ~bolt01~ #1 #0 #0 ~IDENTIFIED~ #40

COPY_EXISTING ~sto1117.sto~ ~override~ //A magic item store in Southwest Baldur's Gate
	ADD_STORE_ITEM ~sw2h22~ #0 #0 #0 ~IDENTIFIED~ #1
//	ADD_STORE_ITEM ~mebelt73~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~sto1320.sto~ ~override~ //A store in Southeast Baldur's Gate
	ADD_STORE_ITEM ~shld05p~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~shld06p~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~shld07p~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~shld09p~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~sto4803.sto~ ~override~ //Nashkel Store
	ADD_STORE_ITEM ~sw1h24~ AFTER ~sw1h04~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~xbow03~ AFTER ~xbow01~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~meecol02~ #0 #0 #0 ~NONE~ #1
	ADD_STORE_ITEM ~meecol01~ #0 #0 #0 ~NONE~ #1

COPY_EXISTING ~sto4901.sto~ ~override~ //Nashkel Fair Armor Merchant
	ADD_STORE_ITEM ~plat01~ AFTER ~chan04~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~meplat90~ AFTER ~plat01~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~sto4906.sto~ ~override~ //Nashkel Fair Magic Trinkets Merchant
	REMOVE_STORE_ITEM ~ring21~
	ADD_STORE_ITEM ~meamul71~ AFTER ~amul14~ #2 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~ring21~ AFTER ~amul15~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~sto4908.sto~ ~override~ //Nashkel Fair Melee Weapons Merchant
	ADD_STORE_ITEM ~staf25~ AFTER ~staf01~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~sto4909.sto~ ~override~ //Nashkel Fair Ranged Weapons Merchant
	ADD_STORE_ITEM ~mearow94~ AFTER ~arow10~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~stoblack.sto~ ~override~ //Thieves' Guild Store
	REMOVE_STORE_ITEM ~arow07~
	ADD_STORE_ITEM ~medagg16~ AFTER ~dagg01~ #5 #0 #0 ~IDENTIFIED~ #80
	ADD_STORE_ITEM ~mearow94~ AFTER ~arow05~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~stocheap.sto~ ~override~ //Lucky Aello's Cursed Discount Store
	REMOVE_STORE_ITEM ~sw2h22~ ~staf25~ ~potn23~ ~potn25~
	ADD_STORE_ITEM ~mering71~ #0 #0 #0 ~NONE~ #1

COPY_EXISTING ~stosilen.sto~ ~override~ //Silence Store
	ADD_STORE_ITEM ~mebow93~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~potn23~ AFTER ~potn19~ #1 #0 #0 ~IDENTIFIED~ #1
	
COPY_EXISTING ~taerum.sto~ ~override~ //Thunderhammer Smithy
	ADD_STORE_ITEM ~bolt06~ AFTER ~bolt02~ #10 #0 #0 ~IDENTIFIED~ #20
	ADD_STORE_ITEM ~mebolt98~ AFTER ~bolt06~ #10 #0 #0 ~IDENTIFIED~ #8
	ADD_STORE_ITEM ~mearow98~ AFTER ~arow11~ #10 #0 #0 ~IDENTIFIED~ #8
	ADD_STORE_ITEM ~mebow22~ AFTER ~bow01~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mebow11~ AFTER ~mebow22~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~blun39~ AFTER ~blun02~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~blun41~ AFTER ~blun05~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mehamm61~ AFTER ~hamm01~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~shld29~ AFTER ~shld04~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~ax1h11~ AFTER ~ax1h01~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mesw1h97~ AFTER ~sw1h05~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~sw1h22~ BEFORE ~sw1h04~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~sw1h43~ BEFORE ~sw1h04~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~sw2h01~ BEFORE ~xbow01~ #0 #0 #0 ~IDENTIFIED~ #2
	ADD_STORE_ITEM ~sw2h02~ BEFORE ~xbow01~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~hamm02~ AFTER ~hamm01~ #0 #0 #0 ~IDENTIFIED~ #1
//	ADD_STORE_ITEM ~helm05~ AFTER ~plat04~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~tav0809.sto~ ~override~ //A store in Northeast Baldur's Gate
	REMOVE_STORE_ITEM ~chan01~ ~chan04~ ~leat01~ ~leat04~ ~plat01~ ~shld01~ ~shld03~ ~shld05~ ~shld16~
	ADD_STORE_ITEM ~dart01~ #40 #0 #0 ~IDENTIFIED~ #1 ~UNLIMITED~
	ADD_STORE_ITEM ~dart02~ AFTER ~dart01~ #40 #0 #0 ~IDENTIFIED~ #1 ~UNLIMITED~
	ADD_STORE_ITEM ~medart80~ AFTER ~dart02~ #40 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM ~dart03~ AFTER ~medart80~ #5 #0 #0 ~IDENTIFIED~ #8
	ADD_STORE_ITEM ~dart04~ AFTER ~dart03~ #5 #0 #0 ~IDENTIFIED~ #16
	ADD_STORE_ITEM ~dart05~ AFTER ~dart04~ #5 #0 #0 ~IDENTIFIED~ #8
	ADD_STORE_ITEM ~dart09~ AFTER ~dart05~ #40 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM ~dart10~ AFTER ~dart09~ #40 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM ~dart11~ AFTER ~dart10~ #40 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM ~medart98~ AFTER ~dart11~ #1 #0 #0 ~IDENTIFIED~ #20

COPY_EXISTING ~tav0810.sto~ ~override~ //Maltz's Weapon Shop
	ADD_STORE_ITEM ~mehamm08~ AFTER ~hamm01~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~blun15~ AFTER ~blun06~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~sper02~ AFTER ~sper01~ #0 #0 #0 ~IDENTIFIED~ #1

COPY_EXISTING ~tem0002.sto~ ~override~ //Baldur's Gate temple of Helm
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~tem0131.sto~ ~override~ //Temple of Gond
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~tem0132.sto~ ~override~ //Temple of Tymora
	ADD_STORE_ITEM ~potn39~ AFTER ~potn17~ #1 #0 #0 ~IDENTIFIED~ #10
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~tem2304.sto~ ~override~ //Temple of Garl Glittergold
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~tem2601.sto~ ~override~ //Temple of Oghma
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~tem3402.sto~ ~override~ //Song of the Morning temple (the big temple east of Beregost)
	ADD_STORE_ITEM ~sw1h79~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~hamm13~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mestaf68~ #0 #10 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~mescrlre~ AFTER ~scrlpet~ #1 #0 #0 ~IDENTIFIED~ #20
	ADD_STORE_ITEM ~meecol05~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #10
//	ADD_STORE_ITEM ~potn55~ AFTER ~potn52~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~tem4003.sto~ ~override~ //Temple of Yondalla
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #10

COPY_EXISTING ~tem4802.sto~ ~override~ //Nashkel temple of Helm
	ADD_STORE_ITEM ~mebow80~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~potn52~ AFTER ~potn08~ #1 #0 #0 ~IDENTIFIED~ #5

COPY_EXISTING ~ulgoth.sto~ ~override~ //Ulgoth's Beard Inn
	REMOVE_STORE_ITEM ~clck03~
	ADD_STORE_ITEM ~bow04~ AFTER ~bow03~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~bow18~ AFTER ~staf08~ #0 #0 #0 ~IDENTIFIED~ #1
	ADD_STORE_ITEM ~scemot~ AFTER ~scrl5h~ #1 #0 #0 ~IDENTIFIED~ #1
	PATCH_IF NOT MOD_IS_INSTALLED ~ntotsc.tp2~ ~0~ BEGIN
		ADD_STORE_ITEM ~meblun90~ AFTER ~blun04~ #0 #0 #0 ~IDENTIFIED~ #1
	END


//____________________________________________ARE

PRINT @184

COPY_EXISTING ~ar0101.are~ ~override~ //Silvershield Estate, first floor
	LPF DELETE_AREA_ITEM STR_VAR item_to_delete=~potn40~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Guard1~ cre_file=~MESILVG1~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Guard2~ cre_file=~MESILVG2~ END

COPY_EXISTING ~ar0108.are~ ~override~ //Duchal Palace, first floor
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=396 match_y_coord=668 STR_VAR script_specifics=~MECH7ACT~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=507 match_y_coord=768 STR_VAR script_specifics=~MECH7ACT~ END
	LPF fj_are_structure INT_VAR fj_loc_x=629 fj_loc_y=237 STR_VAR fj_structure_type=~actor~ fj_name=~Flaming Fist Mercena~ fj_cre_resref=~FLAM10~ fj_bcs_class=~FLAM10A~ fj_bcs_specific=~LEAVECH7~ END

COPY_EXISTING ~ar0109.are~ ~override~ //Duchal Palace, second floor
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Nila~ script_specifics=~MECH7ACT~ END

COPY_EXISTING ~ar0116.are~ ~override~ //Helm and Cloak Inn
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Gretek Spawn~ fj_reg_script=~MEAR0116~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Cook~ cre_file=~MEMCOOK5~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Waiter~ script_override=~~ END
/*
COPY_EXISTING ~ar0118.are~ ~override~ //Helm and Cloak Inn, upper room with Helm of Balduran
	LPF REPLACE_AREA_ITEM INT_VAR STR_VAR old_item=~helm07~ new_item=~mehelm75~ END
*/
COPY_EXISTING ~ar0123.are~ ~override~ //Undercity
	LPF fj_are_structure INT_VAR fj_loc_x=2609 fj_loc_y=920 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Executioner~ fj_cre_resref=~MESKELEX~ END

COPY_EXISTING ~ar0136.are~ ~override~ //Baldur's Gate docks ship cellar
	LPF fj_are_structure INT_VAR fj_loc_x=411 fj_loc_y=332 STR_VAR fj_structure_type=~actor~ fj_name=~Rat~ fj_cre_resref=~MERATWE~ END

	LPF fj_are_structure INT_VAR fj_loc_x=1653 fj_loc_y=2122 STR_VAR fj_structure_type=~actor~ fj_name=~Fission Slime~ fj_cre_resref=~MEJELLFS~ END

COPY_EXISTING ~ar0139.are~ ~override~ //Ramazith's Tower, second floor
	LPF fj_are_structure INT_VAR fj_loc_x=311 fj_loc_y=145 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Ochre_Jelly_1~ fj_cre_resref=~JELLOC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=425 fj_loc_y=248 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Ochre_Jelly_2~ fj_cre_resref=~JELLOC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=378 fj_loc_y=350 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Ochre_Jelly_3~ fj_cre_resref=~JELLOC~ END

COPY_EXISTING ~ar0140.are~ ~override~ //Ramazith's Tower, third floor
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=101 match_y_coord=209 STR_VAR cre_file=~GOLEMF~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=167 match_y_coord=156 STR_VAR cre_file=~MENOCRE~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=249 match_y_coord=138 STR_VAR cre_file=~MEGOLSTO~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=396 match_y_coord=188 STR_VAR cre_file=~MENOCRE~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=409 match_y_coord=301 STR_VAR cre_file=~GOLEMF~ END

COPY_EXISTING ~ar0141.are~ ~override~ //Ramazith's Tower, fourth floor
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Hobgoblin Elite~ cre_file=~MENOCRE~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=85 match_y_coord=258 STR_VAR cre_file=~MEELFIR2~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=406 match_y_coord=212 STR_VAR cre_file=~MEELAIR2~ END

COPY_EXISTING ~ar0142.are~ ~override~ //Ramazith's Tower, fifth floor
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Kobold Commando~ cre_file=~MENOCRE~ END
	LPF fj_are_structure INT_VAR fj_loc_x=249 fj_loc_y=140 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Magic_Golem_1~ fj_cre_resref=~MEGOLMAG~ END

COPY_EXISTING ~ar0146.are~ ~override~ //The maze underneath the Thieves' Guild
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=398 ab_RT_BbLY=2048 ab_RT_BbHX=527 ab_RT_BbHY=2137 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=1057 ab_RT_LPoY=2270 ab_RT_Vx_X_0=527 ab_RT_Vx_Y_0=2110 ab_RT_Vx_X_1=495 ab_RT_Vx_Y_1=2137 ab_RT_Vx_X_2=398 ab_RT_Vx_Y_2=2084 ab_RT_Vx_X_3=450 ab_RT_Vx_Y_3=2048 STR_VAR ab_RT_Name=~Greater Death 1~ ab_RT_Rbcs=~medeatgt~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=2357 ab_RT_BbLY=1640 ab_RT_BbHX=2495 ab_RT_BbHY=1755 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=3304 ab_RT_LPoY=1055 ab_RT_Vx_X_0=2357 ab_RT_Vx_Y_0=1680 ab_RT_Vx_X_1=2417 ab_RT_Vx_Y_1=1640 ab_RT_Vx_X_2=2495 ab_RT_Vx_Y_2=1707 ab_RT_Vx_X_3=2420 ab_RT_Vx_Y_3=1755 STR_VAR ab_RT_Name=~Greater Death 2~ ab_RT_Rbcs=~medeatgt~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=1036 ab_RT_BbLY=751 ab_RT_BbHX=1168 ab_RT_BbHY=853 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=625 ab_RT_LPoY=1254 ab_RT_Vx_X_0=1094 ab_RT_Vx_Y_0=751 ab_RT_Vx_X_1=1036 ab_RT_Vx_Y_1=792 ab_RT_Vx_X_2=1118 ab_RT_Vx_Y_2=853 ab_RT_Vx_X_3=1168 ab_RT_Vx_Y_3=821 STR_VAR ab_RT_Name=~Greater Death 3~ ab_RT_Rbcs=~medeatgt~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=1036 ab_RT_BbLY=751 ab_RT_BbHX=1168 ab_RT_BbHY=853 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=708 ab_RT_LPoY=1311 ab_RT_Vx_X_0=1094 ab_RT_Vx_Y_0=751 ab_RT_Vx_X_1=1036 ab_RT_Vx_Y_1=792 ab_RT_Vx_X_2=1118 ab_RT_Vx_Y_2=853 ab_RT_Vx_X_3=1168 ab_RT_Vx_Y_3=821 STR_VAR ab_RT_Name=~Greater Death 4~ ab_RT_Rbcs=~medeatgt~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1653 fj_loc_y=2122 STR_VAR fj_structure_type=~actor~ fj_name=~Fission Slime~ fj_cre_resref=~MEJELLFS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1224 fj_loc_y=1695 STR_VAR fj_structure_type=~actor~ fj_name=~Fission Slime~ fj_cre_resref=~MEJELLFS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1270 fj_loc_y=1655 STR_VAR fj_structure_type=~actor~ fj_name=~Fission Slime~ fj_cre_resref=~MEJELLFS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3492 fj_loc_y=1197 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Warrior-Mage~ fj_cre_resref=~SKELWA02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=911 fj_loc_y=1112 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Warrior-Priest~ fj_cre_resref=~SKELWA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=730 fj_loc_y=2043 STR_VAR fj_structure_type=~actor~ fj_name=~Gelatinous Sphere~ fj_cre_resref=~MEGELATI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1117 fj_loc_y=1617 STR_VAR fj_structure_type=~actor~ fj_name=~Gelatinous Sphere~ fj_cre_resref=~MEGELATI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1857 fj_loc_y=1227 STR_VAR fj_structure_type=~actor~ fj_name=~Gelatinous Sphere~ fj_cre_resref=~MEGELATI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3081 fj_loc_y=887 STR_VAR fj_structure_type=~actor~ fj_name=~Gelatinous Sphere~ fj_cre_resref=~MEGELATI~ END

COPY_EXISTING ~ar0161.are~ ~override~ //Degrodel's House
	READ_SHORT 0x58 numactors
	FOR (; numactors > 0; --numactors) BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=0 STR_VAR fj_structure_type=~actor~ END
	END
	LPF fj_are_structure INT_VAR fj_loc_x=375 fj_loc_y=416 STR_VAR fj_structure_type=~actor~ fj_name=~Degrodel~ fj_cre_resref=~DEGROD~ END
	LPF fj_are_structure INT_VAR fj_loc_x=332 fj_loc_y=637 STR_VAR fj_structure_type=~actor~ fj_name=~Doom Guard 1~ fj_cre_resref=~DOOMGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=356 fj_loc_y=699 STR_VAR fj_structure_type=~actor~ fj_name=~Doom Guard 2~ fj_cre_resref=~DOOMGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=252 fj_loc_y=681 STR_VAR fj_structure_type=~actor~ fj_name=~Helmed Horror 1~ fj_cre_resref=~HELMHO~ END
	LPF fj_are_structure INT_VAR fj_loc_x=485 fj_loc_y=352 STR_VAR fj_structure_type=~actor~ fj_name=~Helmed Horror 2~ fj_cre_resref=~HELMHO~ END
	LPF fj_are_structure INT_VAR fj_loc_x=711 fj_loc_y=187 STR_VAR fj_structure_type=~actor~ fj_name=~Invisible Stalker 1~ fj_cre_resref=~STALKE~ END
	LPF fj_are_structure INT_VAR fj_loc_x=698 fj_loc_y=309 STR_VAR fj_structure_type=~actor~ fj_name=~Invisible Stalker 2~ fj_cre_resref=~STALKE~ END
	LPF fj_are_structure INT_VAR fj_loc_x=498 fj_loc_y=585 STR_VAR fj_structure_type=~actor~ fj_name=~Invisible Stalker 3~ fj_cre_resref=~STALKE~ END

PRINT @185

COPY_EXISTING ~ar0200.are~ ~override~ //Baldur's Gate, north area with Ducal Palace
	LPF fj_are_structure INT_VAR fj_loc_x=3300 fj_loc_y=2500 STR_VAR fj_structure_type=~actor~ fj_name=~Wiven~ fj_cre_resref=~Wiven~ END
/*
COPY_EXISTING ~ar0225.are~ ~override~ //Baldur's Gate sewers, area with kobolds
	LPF fj_are_structure INT_VAR fj_loc_x=3700 fj_loc_y=700 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD9~ END
*/
COPY_EXISTING ~ar0226.are~ ~override~ //Baldur's Gate sewers, area with ogre mage
	LPF fj_are_structure INT_VAR fj_loc_x=3728 fj_loc_y=2794 STR_VAR fj_structure_type=~actor~ fj_name=~Otyugh~ fj_cre_resref=~MEOTYUGH~ END
	LPF DELETE_AREA_ITEM STR_VAR item_to_delete=~sw1h49~ END

COPY_EXISTING ~ar0300.are~ ~override~ //Baldur's Gate northeast
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~MEAR0300~ fj_reg_script=~MEAR0300~ END

COPY_EXISTING ~ar0307.are~ ~override~ //Merchant's League Counting House, first floor
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Jacil Spawn~ fj_reg_script=~MEAR0307~ END
	UNLESS ~MEAR0307~

PRINT @186

COPY_EXISTING ~ar0400.are~ ~override~ //Zombie farm
	READ_SHORT 0x58 numactors
	FOR (; numactors > 0; --numactors) BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=0 STR_VAR fj_structure_type=~actor~ END
	END
	LPF fj_are_structure INT_VAR fj_loc_x=779 fj_loc_y=194 STR_VAR fj_structure_type=~actor~ fj_name=~Cow~ fj_cre_resref=~COW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=456 fj_loc_y=1920 STR_VAR fj_structure_type=~actor~ fj_name=~Cow~ fj_cre_resref=~COW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=458 fj_loc_y=2077 STR_VAR fj_structure_type=~actor~ fj_name=~Cow~ fj_cre_resref=~COW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=730 fj_loc_y=3578 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 01~ fj_cre_resref=~MEZOMW01~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1800 fj_loc_y=674 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 02~ fj_cre_resref=~MEZOMW02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1857 fj_loc_y=1000 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 03~ fj_cre_resref=~MEZOMW03~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3051 fj_loc_y=507 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 04~ fj_cre_resref=~MEZOMW04~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1025 fj_loc_y=2156 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 05~ fj_cre_resref=~MEZOMW05~ END
	LPF fj_are_structure INT_VAR fj_loc_x=532 fj_loc_y=3156 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 06~ fj_cre_resref=~MEZOMW06~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3092 fj_loc_y=532 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 07~ fj_cre_resref=~MEZOMW07~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1950 fj_loc_y=3388 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 08~ fj_cre_resref=~MEZOMW08~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3924 fj_loc_y=340 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 09~ fj_cre_resref=~MEZOMW09~ END
	LPF fj_are_structure INT_VAR fj_loc_x=532 fj_loc_y=1940 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 10~ fj_cre_resref=~MEZOMW10~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1278 fj_loc_y=2597 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 11~ fj_cre_resref=~MEZOMW11~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3900 fj_loc_y=266 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 12~ fj_cre_resref=~MEZOMW12~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3954 fj_loc_y=446 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 13~ fj_cre_resref=~MEZOMW13~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1751 fj_loc_y=796 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 14~ fj_cre_resref=~MEZOMW14~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1428 fj_loc_y=1812 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 15~ fj_cre_resref=~MEZOMW15~ END
	LPF fj_are_structure INT_VAR fj_loc_x=532 fj_loc_y=2452 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 16~ fj_cre_resref=~MEZOMW16~ END
	LPF fj_are_structure INT_VAR fj_loc_x=280 fj_loc_y=405 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 17~ fj_cre_resref=~MEZOMW17~ END
	LPF fj_are_structure INT_VAR fj_loc_x=678 fj_loc_y=3428 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 18~ fj_cre_resref=~MEZOMW18~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1278 fj_loc_y=1586 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 19~ fj_cre_resref=~MEZOMW19~ END
	LPF fj_are_structure INT_VAR fj_loc_x=538 fj_loc_y=884 STR_VAR fj_structure_type=~actor~ fj_name=~Zombie 20~ fj_cre_resref=~MEZOMW20~ END

COPY_EXISTING ~ar0401.are~ ~override~ //Zombie farm, house
	LPF fj_are_structure INT_VAR fj_loc_x=369 fj_loc_y=160 STR_VAR fj_structure_type=~actor~ fj_name=~Wenric~ fj_cre_resref=~WENRIC~ END

PRINT @187

COPY_EXISTING_REGEXP ~ar05.*.are~ ~override~
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Ghast~ cre_file=~meghast1~ END

COPY_EXISTING ~ar0500.are~ ~override~ //Durlag's Tower, outside
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~sw1h23~ new_item=~mesw1h62~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Lesser Basilisk~ cre_file=~meghast1~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Battle Horror~ cre_file=~medoomdu~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2712 fj_loc_y=1691 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2712 fj_loc_y=1841 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3038 fj_loc_y=1389 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3202 fj_loc_y=1450 fj_orientation=4 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Basilisk~ fj_cre_resref=~BASILL~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4041 fj_loc_y=2387 fj_orientation=11 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Warrior Elite~ fj_cre_resref=~SKELWA03~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=2664 match_y_coord=882 STR_VAR cre_file=~MEGHAGLO~ END

COPY_EXISTING ~ar0504.are~ ~override~ //Durlag's Tower, floor with Daital and the wisdom tome
	LPF DELETE_AREA_ITEM STR_VAR item_to_delete=~potn40~ END

COPY_EXISTING ~ar0507.are~ ~override~ //Durlag's Tower, ice guardian's chamber
	WRITE_ASCII areascript ~mear0507~ #8
	LPF ALTER_AREA_REGION INT_VAR flag_impassable_npc=1 STR_VAR region_name=~Door0513~ END

COPY_EXISTING ~ar0508.are~ ~override~ //Durlag's Tower, fire guardian's chamber
	WRITE_ASCII areascript ~mear0507~ #8
	READ_SHORT 0x58 numactors
	FOR (; numactors > 0; --numactors) BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=0 STR_VAR fj_structure_type=~actor~ END
	END
	LPF ALTER_AREA_REGION INT_VAR flag_impassable_npc=1 STR_VAR region_name=~Door0513~ END
	LPF fj_are_structure INT_VAR fj_loc_x=658 fj_loc_y=674 STR_VAR fj_structure_type=~actor~ fj_name=~Aggrakesh~ fj_cre_resref=~MEAGGRAK~ END

COPY_EXISTING ~ar0509.are~ ~override~ //Durlag's Tower, air guardian's chamber
	WRITE_ASCII areascript ~mear0507~ #8
	LPF ALTER_AREA_REGION INT_VAR flag_impassable_npc=1 STR_VAR region_name=~Door0513~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Air Aspect~ cre_file=~MEDJINNO~ END

COPY_EXISTING ~ar0510.are~ ~override~ //Durlag's Tower, slime guardian's chamber
	WRITE_ASCII areascript ~mear0510~ #8
	LPF ALTER_AREA_REGION INT_VAR flag_impassable_npc=1 STR_VAR region_name=~Door0513~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Mustard Jelly~ cre_file=~MEJELLDP~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Fission Slime~ cre_file=~MEJELLDP~ END

COPY_EXISTING ~ar0511.are~ ~override~ //Durlag's Tower, floor with the warders
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=1287 ab_RT_BbLY=2328 ab_RT_BbHX=1365 ab_RT_BbHY=2406 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=2182 ab_RT_LPoY=964 ab_RT_Vx_X_0=1365 ab_RT_Vx_Y_0=2328 ab_RT_Vx_X_1=1365 ab_RT_Vx_Y_1=2406 ab_RT_Vx_X_2=1287 ab_RT_Vx_Y_2=2406 ab_RT_Vx_X_3=1287 ab_RT_Vx_Y_3=2328 STR_VAR ab_RT_Name=~Ghast Spawn 1~ ab_RT_Rbcs=~meghagt1~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=1939 ab_RT_BbLY=1650 ab_RT_BbHX=2019 ab_RT_BbHY=1708 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=1863 ab_RT_LPoY=1756 ab_RT_Vx_X_0=1939 ab_RT_Vx_Y_0=1680 ab_RT_Vx_X_1=1973 ab_RT_Vx_Y_1=1708 ab_RT_Vx_X_2=2019 ab_RT_Vx_Y_2=1676 ab_RT_Vx_X_3=1981 ab_RT_Vx_Y_3=1650 STR_VAR ab_RT_Name=~Ghast Spawn 2~ ab_RT_Rbcs=~meghagt2~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=850 ab_RT_BbLY=1119 ab_RT_BbHX=952 ab_RT_BbHY=1210 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=2254 ab_RT_LPoY=1171 ab_RT_Vx_X_0=850 ab_RT_Vx_Y_0=1127 ab_RT_Vx_X_1=940 ab_RT_Vx_Y_1=1119 ab_RT_Vx_X_2=952 ab_RT_Vx_Y_2=1189 ab_RT_Vx_X_3=870 ab_RT_Vx_Y_3=1210 STR_VAR ab_RT_Name=~Ghast Spawn 3~ ab_RT_Rbcs=~meghagt1~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=1035 ab_RT_BbLY=1979 ab_RT_BbHX=1155 ab_RT_BbHY=2011 ab_RT_VxPr=4 ab_RT_Fbit=65 ab_RT_TSet=1 ab_RT_LPoX=498 ab_RT_LPoY=1760 ab_RT_Vx_X_0=1146 ab_RT_Vx_Y_0=1979 ab_RT_Vx_X_1=1035 ab_RT_Vx_Y_1=1983 ab_RT_Vx_X_2=1046 ab_RT_Vx_Y_2=2011 ab_RT_Vx_X_3=1155 ab_RT_Vx_Y_3=2008 STR_VAR ab_RT_Name=~Ghast Spawn 4~ ab_RT_Rbcs=~meghagt1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=425 fj_loc_y=1147 fj_schedule=0xFF555555 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=729 fj_loc_y=1181 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1274 fj_loc_y=928 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1751 fj_loc_y=818 fj_schedule=0xFF000FFF STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1811 fj_loc_y=852 fj_schedule=0xFF000FFF STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2425 fj_loc_y=1296 fj_schedule=0xFFFFF000 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2531 fj_loc_y=1370 fj_schedule=0xFFFFF000 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2650 fj_loc_y=1487 fj_schedule=0xFF00FF00 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2761 fj_loc_y=1549 fj_schedule=0xFF00FF00 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2890 fj_loc_y=1641 fj_schedule=0xFF00FF00 STR_VAR fj_structure_type=~actor~ fj_name=~Ghast~ fj_cre_resref=~MEGHAST1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1165 fj_loc_y=2252 STR_VAR fj_structure_type=~actor~ fj_name=~Bothersome Sentry~ fj_cre_resref=~MEBOTHER~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1437 fj_loc_y=1617 STR_VAR fj_structure_type=~actor~ fj_name=~Bothersome Sentry~ fj_cre_resref=~MEBOTHER~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2037 fj_loc_y=480 STR_VAR fj_structure_type=~actor~ fj_name=~Bothersome Sentry~ fj_cre_resref=~MEBOTHER~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3075 fj_loc_y=1180 STR_VAR fj_structure_type=~actor~ fj_name=~Bothersome Sentry~ fj_cre_resref=~MEBOTHER~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1515 fj_loc_y=691 fj_schedule=0xFFF0F0F0 STR_VAR fj_structure_type=~actor~ fj_name=~Burning Wizard~ fj_cre_resref=~MEBURNWI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1690 fj_loc_y=684 fj_schedule=0xFF0F0F0F STR_VAR fj_structure_type=~actor~ fj_name=~Burning Wizard~ fj_cre_resref=~MEBURNWI~ END
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Spawning~ fj_reg_script=~MEAR0511~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=2053 match_y_coord=2233 STR_VAR cre_file=~SKELWA02~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=554 match_y_coord=1828 STR_VAR cre_file=~SKELWA03~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=8 charges1=1 STR_VAR item_to_add=~book06~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=9 STR_VAR flags=~IDENTIFIED~ item_to_add=~meecol05~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=13 STR_VAR item_to_add=~bow18~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=16 charges1=3 STR_VAR item_to_add=~bolt05~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=20 charges1=1 STR_VAR item_to_add=~book05~ END
//	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=20 STR_VAR item_to_add=~meax1h98~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=22 STR_VAR item_to_add=~mescrlpt~ END

COPY_EXISTING ~ar0512.are~ ~override~ //Durlag's Tower, doppelganger floor
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=23 STR_VAR item_to_add=~mexbow13~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2486 fj_loc_y=830 STR_VAR fj_structure_type=~actor~ fj_name=~Wraith~ fj_cre_resref=~MEWRAITH~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2653 fj_loc_y=966 STR_VAR fj_structure_type=~actor~ fj_name=~Dwarven Doom Guard~ fj_cre_resref=~MEDOOMDU~ END

COPY_EXISTING ~ar0513.are~ ~override~ //Durlag's Tower, floor with three paths
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET offset = actoroffset + (i * actorsize)
		READ_ASCII (offset + 0x80) thefile (7)
		PATCH_IF ((~%thefile%~ STRING_EQUAL_CASE ~SKELACI~) OR (~%thefile%~ STRING_EQUAL_CASE ~SKELFIR~) OR (~%thefile%~ STRING_EQUAL_CASE ~SKELICE~)) BEGIN
			WRITE_ASCII (offset + 0x80) ~MESKELDT~ #8
		END
	END
	LPF fj_are_structure INT_VAR fj_loc_x=2432 fj_loc_y=1590 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Warrior-Mage~ fj_cre_resref=~SKELWA02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2108 fj_loc_y=1992 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Warrior-Priest~ fj_cre_resref=~SKELWA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3345 fj_loc_y=1997 STR_VAR fj_structure_type=~actor~ fj_name=~Greater Ankheg~ fj_cre_resref=~MEANKHDU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3188 fj_loc_y=1194 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Eruption_Creature_1~ fj_cre_resref=~MEGTFB3C~ END
	LPF ALTER_AREA_REGION INT_VAR trapped=0 flag_trap_detectable=0 STR_VAR region_name=~Firetrap~ region_script=~None~ END

COPY_EXISTING ~ar0514.are~ ~override~ //Durlag's Tower, last floor before Demonknight
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=4651 ab_RT_BbLY=2204 ab_RT_BbHX=4651 ab_RT_BbHY=2204 ab_RT_Fbit=0 ab_RT_TSet=1 ab_RT_LPoX=4651 ab_RT_LPoY=2204 ab_RT_VxPr=1 ab_RT_Vx_X_0=4651 ab_RT_Vx_Y_0=2204 STR_VAR ab_RT_Name=~ME_Door_Open_1~ ab_RT_Rbcs=~ME0514DA~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=4254 ab_RT_BbLY=2492 ab_RT_BbHX=4254 ab_RT_BbHY=2492 ab_RT_Fbit=0 ab_RT_TSet=1 ab_RT_LPoX=4254 ab_RT_LPoY=2492 ab_RT_VxPr=1 ab_RT_Vx_X_0=4254 ab_RT_Vx_Y_0=2492 STR_VAR ab_RT_Name=~ME_Door_Open_2~ ab_RT_Rbcs=~ME0514DB~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=3359 ab_RT_BbLY=1646 ab_RT_BbHX=3359 ab_RT_BbHY=1646 ab_RT_Fbit=0 ab_RT_TSet=1 ab_RT_LPoX=3359 ab_RT_LPoY=1646 ab_RT_VxPr=1 ab_RT_Vx_X_0=3359 ab_RT_Vx_Y_0=1646 STR_VAR ab_RT_Name=~ME_Door_Open_3~ ab_RT_Rbcs=~ME0514DC~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=4651 fj_loc_y=2204 STR_VAR fj_structure_type=~region~ fj_name=~ME_Door_Open_1~ fj_reg_script=~ME0514DA~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=4254 fj_loc_y=2492 STR_VAR fj_structure_type=~region~ fj_name=~ME_Door_Open_2~ fj_reg_script=~ME0514DB~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=3359 fj_loc_y=1646 STR_VAR fj_structure_type=~region~ fj_name=~ME_Door_Open_3~ fj_reg_script=~ME0514DC~ END
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~ME_Door_Open_2~ fj_reg_script=~ME0514DB~ END
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~ME_Door_Open_3~ fj_reg_script=~ME0514DC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2607 fj_loc_y=672 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Champion~ fj_cre_resref=~MECHAMP1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2651 fj_loc_y=640 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Warrior-Priest~ fj_cre_resref=~SKELWA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2809 fj_loc_y=630 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Warrior-Mage~ fj_cre_resref=~SKELWA02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3024 fj_loc_y=2705 STR_VAR fj_structure_type=~actor~ fj_name=~Greater Ankheg~ fj_cre_resref=~MEANKHDU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3300 fj_loc_y=2700 STR_VAR fj_structure_type=~actor~ fj_name=~Greater Ankheg~ fj_cre_resref=~MEANKHDU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=867 fj_loc_y=2753 STR_VAR fj_structure_type=~actor~ fj_name=~Gelatinous Sphere~ fj_cre_resref=~MEGELATI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3051 fj_loc_y=2164 STR_VAR fj_structure_type=~actor~ fj_name=~Gelatinous Sphere~ fj_cre_resref=~MEGELATI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4374 fj_loc_y=2410 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Greater_Ghoul_1~ fj_cre_resref=~GHOULLOR~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Ettercap~ cre_file=~MEETTER2~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Ghast~ cre_file=~MEGELATI~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1199 match_y_coord=1309 STR_VAR cre_file=~SPIDWR~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1478 match_y_coord=1324 STR_VAR cre_file=~MESPDVO~ END
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~staf05~ new_item=~mestaf24~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=10 STR_VAR item_to_add=~sw1h23~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=11 STR_VAR item_to_add=~meclck60~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=13 charges1=20 STR_VAR item_to_add=~mearow94~ END
	LPF DELETE_AREA_ITEM STR_VAR item_to_delete=~sw1h24~ END

COPY_EXISTING ~ar0516.are~ ~override~ //Demonknight's room
	READ_LONG 0xbc songoffset
	WRITE_LONG (songoffset + 0xc) 29

PRINT @188

COPY_EXISTING ~ar0700.are~ ~override~
	LPF fj_are_structure INT_VAR fj_loc_x=2602 fj_loc_y=1414 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Floof~ fj_cre_resref=~MEFLOOF~ END

COPY_EXISTING ~ar0900.are~ ~override~ //Baldur's Gate Bridge
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~MEAR0900~ fj_reg_script=~MEAR0900~ END

PRINT @189

COPY_EXISTING ~ar1002.are~ ~override~ //Ulgoth's Beard, cult house downstairs
	READ_LONG 0xbc songoffset
	WRITE_LONG (songoffset + 0xc) 29
	WRITE_ASCII areascript ~MEAR1002~ #8

PRINT @190
/*
COPY_EXISTING ~ar1008.are~ ~override~ //Ice island, outside
	LPF ALTER_AREA_REGION INT_VAR STR_VAR region_name=~Door1010~ destination_area=~AR1010~ END
*/

COPY_EXISTING ~ar1009.are~ ~override~ //Ice island, inside
//	LPF ALTER_AREA_REGION INT_VAR STR_VAR region_name=~Door1008~ destination_area=~AR1010~ entrance_name=~MEExit1008~ END
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET offset = actoroffset + (i * actorsize)
		READ_LONG (offset + 0x30) anim
		PATCH_IF (anim = 31491 OR anim = 29187) BEGIN //Delete creatures that have the winter wolf or polar bear animations
			LPF fj_are_structure INT_VAR fj_delete_mode=i STR_VAR fj_structure_type=~actor~ END
			--actornumber
			--i
		END
	END

	LPF fj_are_structure INT_VAR fj_loc_x=1913 fj_loc_y=1609 STR_VAR fj_structure_type=~actor~ fj_name=~Winter Wolf~ fj_cre_resref=~WOLFWI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1331 fj_loc_y=1472 STR_VAR fj_structure_type=~actor~ fj_name=~Winter Wolf~ fj_cre_resref=~WOLFWI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=277 fj_loc_y=752 STR_VAR fj_structure_type=~actor~ fj_name=~Winter Wolf~ fj_cre_resref=~WOLFWI~ END

	LPF fj_are_structure INT_VAR fj_loc_x=1200 fj_loc_y=1136 STR_VAR fj_structure_type=~actor~ fj_name=~Gelugon~ fj_cre_resref=~MEYXBUDU~ END
/*
COPY_EXISTING ~ar1010.are~ ~override~ //Ice island, cave
	LPF fj_are_structure INT_VAR fj_loc_x=536 fj_loc_y=2708 fj_orientation=ne STR_VAR fj_structure_type=~entrance~ fj_name=~MEExit1008~ END
	LPF ALTER_AREA_ACTOR INT_VAR x_coord=1273 y_coord=741 orientation=south STR_VAR actor_name=~Dezkiel~ cre_file=~TELLAN~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1169 match_y_coord=677 x_coord=1082 y_coord=1458 END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1309 match_y_coord=704 x_coord=1375 y_coord=1201 END
*/

PRINT @191

COPY_EXISTING ~ar1101.are~ ~override~ //Baldur's Gate southwest, building where you normally fight Wiven's thieves
	READ_SHORT 0x58 numactors
	FOR (; numactors > 0; --numactors) BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=0 STR_VAR fj_structure_type=~actor~ END
	END

PRINT @192

//COPY_EXISTING ~ar1215.are~ ~override~ //Baldur's Gate docks, tavern with sailors
//	LPF fj_are_structure INT_VAR fj_loc_x=302 fj_loc_y=472 STR_VAR fj_structure_type=~actor~ fj_name=~Karlat~ fj_cre_resref=~KARLAT~ END

PRINT @193

COPY_EXISTING ~ar1313.are~ ~override~ //Baldur's Gate southeast, Gantolandan's house upstairs
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 charges1=1 STR_VAR item_to_add=~scrl8s~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~mering80~ END

PRINT @194

COPY_EXISTING ~ar1401.are~ ~override~ //Ankheg lair
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~bow17~ END

PRINT @195

COPY_EXISTING ~ar1501.are~ ~override~ //Balduran ship, first floor
	READ_LONG 0xbc songoffset
	WRITE_LONG (songoffset + 0xc) 23
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Wolfwere~ cre_file=~MEWOLFW1~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~helm05~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~book07~ END

COPY_EXISTING ~ar1502.are~ ~override~ //Balduran ship, second floor
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~brac11~ new_item=~brac10~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 STR_VAR item_to_add=~book04~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=482 match_y_coord=291 STR_VAR cre_file=~MEWOLFW1~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=393 match_y_coord=384 STR_VAR cre_file=~MEWOLFW2~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=482 match_y_coord=401 STR_VAR cre_file=~MEWOLFW3~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=724 match_y_coord=180 STR_VAR cre_file=~MEWOLFW4~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=562 match_y_coord=355 STR_VAR cre_file=~MEWOLFW5~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=399 match_y_coord=461 STR_VAR cre_file=~MEWOLFW6~ END

COPY_EXISTING ~ar1503.are~ ~override~ //Balduran ship, third floor
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Wolfwere~ cre_file=~MEWOLFW2~ END

COPY_EXISTING ~ar1504.are~ ~override~ //Balduran ship, Karoug floor
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~meplat98~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~mewa2shl~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~book06~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~book08~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~book07~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~book04~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~book05~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 STR_VAR item_to_add=~book03~ END

PRINT @196

COPY_EXISTING ~ar1600.are~ ~override~ //Cloakwood, Shadow Druid area, outside
	LPF ALTER_AREA_ACTOR INT_VAR x_coord=3428 y_coord=2075 orientation=se STR_VAR actor_name=~Laskal~ END

COPY_EXISTING ~ar1700.are~ ~override~ //Cloakwood, wyvern area, outside
	LPF fj_are_structure INT_VAR fj_loc_x=326 fj_loc_y=2122 STR_VAR fj_structure_type=~actor~ fj_name=~Isserol~ fj_cre_resref=~MEISSER~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2900 fj_loc_y=2788 STR_VAR fj_structure_type=~actor~ fj_name=~Nolahar~ fj_cre_resref=~MENOLAHA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2960 fj_loc_y=2664 STR_VAR fj_structure_type=~actor~ fj_name=~Guard 1~ fj_cre_resref=~IRONGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3048 fj_loc_y=2848 STR_VAR fj_structure_type=~actor~ fj_name=~Guard 2~ fj_cre_resref=~IRONGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4156 fj_loc_y=2464 STR_VAR fj_structure_type=~actor~ fj_name=~Werewolf Assassin~ fj_cre_resref=~MEWERASS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2730 fj_loc_y=2884 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Baby_Wyvern_1~ fj_bcs_class=~mewyvbd2~ fj_cre_resref=~WYVERBA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2536 fj_loc_y=2981 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Baby_Wyvern_2~ fj_bcs_class=~mewyvbd2~ fj_cre_resref=~WYVERBA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1219 fj_loc_y=2941 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Baby_Wyvern_3~ fj_bcs_class=~mewyvbd2~ fj_cre_resref=~WYVERBA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3951 fj_loc_y=2124 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_1~ fj_bcs_class=~mewyved1~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3356 fj_loc_y=1918 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_2~ fj_bcs_class=~mewyved1~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1521 fj_loc_y=2851 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_3~ fj_bcs_class=~mewyved2~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2234 fj_loc_y=3062 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_4~ fj_bcs_class=~mewyved2~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=583 fj_loc_y=3514 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_5~ fj_bcs_class=~mewyved1~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1780 fj_loc_y=2096 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_6~ fj_bcs_class=~mewyved1~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1694 fj_loc_y=302 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_7~ fj_bcs_class=~mewyved1~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=707 fj_loc_y=680 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_8~ fj_bcs_class=~mewyved1~ fj_cre_resref=~WYVERN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=526 fj_loc_y=1008 STR_VAR fj_structure_type=~actor~ fj_name=~ME_Wyvern_9~ fj_bcs_class=~mewyved2~ fj_cre_resref=~WYVERN~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Baby Wyvern~ script_class=~mewyvbd2~ END

PRINT @197

COPY_EXISTING ~ar1800.are~ ~override~ //Cloakwood Mines, outside
	LPF fj_are_structure INT_VAR fj_loc_x=3100 fj_loc_y=680 STR_VAR fj_structure_type=~actor~ fj_name=~Werewolf Assassin 1~ fj_cre_resref=~MEWERASS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2953 fj_loc_y=695 STR_VAR fj_structure_type=~actor~ fj_name=~Werewolf Assassin 2~ fj_cre_resref=~MEWERASS~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=2301 fj_loc_y=1177 STR_VAR fj_structure_type=~actor~ fj_name=~Blacktalon Elite 1~ fj_cre_resref=~IRONELIT~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=2573 fj_loc_y=1370 STR_VAR fj_structure_type=~actor~ fj_name=~Blacktalon Elite 2~ fj_cre_resref=~IRONELIT~ END
	LPF fj_are_structure INT_VAR fj_loc_x=900 fj_loc_y=2100 STR_VAR fj_structure_type=~actor~ fj_name=~Logarin~ fj_cre_resref=~MELOGARI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=950 fj_loc_y=1997 STR_VAR fj_structure_type=~actor~ fj_name=~Guard Archer 1~ fj_cre_resref=~IRONGUAR~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1100 fj_loc_y=2133 STR_VAR fj_structure_type=~actor~ fj_name=~Guard Archer 2~ fj_cre_resref=~IRONGUAR~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=908 match_y_coord=1935 STR_VAR actor_name=~Doppelganger Horse 1~ cre_file=~MEHORSED~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1008 match_y_coord=1900 STR_VAR actor_name=~Doppelganger Horse 2~ cre_file=~MEHORSED~ END

COPY_EXISTING ~ar1802.are~ ~override~ //Cloakwood Mines, third floor
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Difficulty Spawn~ fj_reg_script=~MEAR1802~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2095 fj_loc_y=2736 STR_VAR fj_structure_type=~actor~ fj_name=~Akkan~ fj_cre_resref=~MEAKKAN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1728 fj_loc_y=2697 STR_VAR fj_structure_type=~actor~ fj_name=~Cantherd~ fj_cre_resref=~MECANTH~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1885 fj_loc_y=2773 STR_VAR fj_structure_type=~actor~ fj_name=~Rurinen~ fj_cre_resref=~MERURI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=409 fj_loc_y=1803 STR_VAR fj_structure_type=~actor~ fj_name=~Werewolf Assassin 1~ fj_cre_resref=~MEWERASS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2998 fj_loc_y=1789 STR_VAR fj_structure_type=~actor~ fj_name=~Werewolf Assassin 2~ fj_cre_resref=~MEWERASS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2327 fj_loc_y=3060 STR_VAR fj_structure_type=~actor~ fj_name=~Werewolf Assassin 3~ fj_cre_resref=~MEWERASS~ END
	LPF fj_are_structure INT_VAR fj_loc_x=429 fj_loc_y=1849 STR_VAR fj_structure_type=~actor~ fj_name=~Doom Guard~ fj_cre_resref=~DOOMGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2457 fj_loc_y=2979 STR_VAR fj_structure_type=~actor~ fj_name=~Battle Horror~ fj_cre_resref=~BATTHO~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1216 fj_loc_y=1885 STR_VAR fj_structure_type=~actor~ fj_name=~Elite Guard Archer 1~ fj_cre_resref=~MEIRONG3~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1298 fj_loc_y=1912 STR_VAR fj_structure_type=~actor~ fj_name=~Elite Guard Archer 2~ fj_cre_resref=~MEIRONG3~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1384 fj_loc_y=1990 STR_VAR fj_structure_type=~actor~ fj_name=~Elite Guard Archer 3~ fj_cre_resref=~MEIRONG3~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1000 fj_loc_y=1290 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Guard 1~ fj_cre_resref=~IRONGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=792 fj_loc_y=1382 STR_VAR fj_structure_type=~actor~ fj_name=~War Dog 1~ fj_cre_resref=~MEIRONWD~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1933 fj_loc_y=2685 STR_VAR fj_structure_type=~actor~ fj_name=~War Dog 2~ fj_cre_resref=~MEIRONWD~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1731 match_y_coord=400 STR_VAR actor_name=~Werewolf Assassin 4~ cre_file=~MEWERASS~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=796 match_y_coord=1332 STR_VAR actor_name=~Elite Guard~ cre_file=~MEIRONG1~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=882 match_y_coord=1441 STR_VAR actor_name=~Extra Guard 2~ cre_file=~IRONGU~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=991 match_y_coord=1384 STR_VAR actor_name=~Extra Guard 3~ cre_file=~IRONGU~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1071 match_y_coord=1318 STR_VAR actor_name=~Extra Guard 4~ cre_file=~IRONGU~ END
	LPF ALTER_AREA_ACTOR INT_VAR x_coord=3193 y_coord=896 STR_VAR actor_name=~Natasha~ END
//	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=29 STR_VAR item_to_add=~sper05~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=39 STR_VAR item_to_add=~blun21~ END

COPY_EXISTING ~ar1803.are~ ~override~ //Cloakwood Mines, bottom floor
	LPF ALTER_AREA_REGION INT_VAR trapped=0 flag_trap_detectable=0 STR_VAR region_name=~Trap 1~ region_script=~None~ END
	LPF ALTER_AREA_REGION INT_VAR trapped=0 flag_trap_detectable=0 STR_VAR region_name=~Trap 2~ region_script=~None~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=4 charges1=1 STR_VAR item_to_add=~book07~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=10 charges1=1 STR_VAR item_to_add=~book08~ END

COPY_EXISTING ~ar1804.are~ ~override~ //Cloakwood Mines, second floor
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0
ab_RT_BbLX=947
ab_RT_BbLY=387
ab_RT_BbHX=1693
ab_RT_BbHY=938
ab_RT_VxPr=4
ab_RT_Fbit=0x2
ab_RT_TSet=1
ab_RT_LPoX=1370 ab_RT_LPoY=631
ab_RT_Vx_X_0=1316 ab_RT_Vx_Y_0=387
ab_RT_Vx_X_1=1693 ab_RT_Vx_Y_1=649
ab_RT_Vx_X_2=1236 ab_RT_Vx_Y_2=938
ab_RT_Vx_X_3=947 ab_RT_Vx_Y_3=692
STR_VAR ab_RT_Name=~ME_PC_Trigger_01~ ab_RT_Rbcs=~mepctr01~ END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0
ab_RT_BbLX=1178
ab_RT_BbLY=1410
ab_RT_BbHX=1469
ab_RT_BbHY=1622
ab_RT_VxPr=4
ab_RT_Fbit=0x2
ab_RT_TSet=1
ab_RT_LPoX=1311 ab_RT_LPoY=1508
ab_RT_Vx_X_0=1178 ab_RT_Vx_Y_0=1441
ab_RT_Vx_X_1=1228 ab_RT_Vx_Y_1=1410
ab_RT_Vx_X_2=1469 ab_RT_Vx_Y_2=1590
ab_RT_Vx_X_3=1418 ab_RT_Vx_Y_3=1622
STR_VAR ab_RT_Name=~ME_PC_Trigger_02~ ab_RT_Rbcs=~mepctr02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=895 fj_loc_y=286 STR_VAR fj_structure_type=~actor~ fj_name=~Dralenth~ fj_cre_resref=~MEDRALEN~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1522 fj_loc_y=685 STR_VAR fj_structure_type=~actor~ fj_name=~Guard Archer~ fj_cre_resref=~IRONGUAR~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1700 fj_loc_y=817 STR_VAR fj_structure_type=~actor~ fj_name=~Elite Guard Archer~ fj_cre_resref=~MEIRONG3~ END
	LPF fj_are_structure INT_VAR fj_loc_x=578 fj_loc_y=1411 STR_VAR fj_structure_type=~actor~ fj_name=~Nefarious Iron Throne Mage~ fj_cre_resref=~MENEFARI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=552 fj_loc_y=1521 STR_VAR fj_structure_type=~actor~ fj_name=~Nefarious Iron Throne Mage~ fj_cre_resref=~MENEFARI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2075 fj_loc_y=1092 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Ghast 1~ fj_cre_resref=~GHAST~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1287 fj_loc_y=1478 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Ghast 2~ fj_cre_resref=~GHAST~ END
	LPF fj_are_structure INT_VAR fj_loc_x=746 fj_loc_y=243 STR_VAR fj_structure_type=~actor~ fj_name=~War Dog 1~ fj_cre_resref=~MEIRONWD~ END
	LPF fj_are_structure INT_VAR fj_loc_x=688 fj_loc_y=1484 STR_VAR fj_structure_type=~actor~ fj_name=~War Dog 2~ fj_cre_resref=~MEIRONWD~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=863 match_y_coord=1101 STR_VAR actor_name=~Fast Guard~ cre_file=~MEIRONG2~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=982 match_y_coord=1157 STR_VAR actor_name=~Fast Guard~ cre_file=~MEIRONG2~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=920 match_y_coord=1263 STR_VAR actor_name=~Elite Guard Archer~ cre_file=~MEIRONG3~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=952 match_y_coord=1320 STR_VAR actor_name=~Elite Guard~ cre_file=~MEIRONG1~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=819 match_y_coord=1306 STR_VAR actor_name=~Guard~ cre_file=~IRONGU~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1327 match_y_coord=567 STR_VAR actor_name=~Terulli~ cre_file=~METERULL~ END
	READ_LONG 0xC0 restencountersoffset
	WRITE_SHORT (restencountersoffset+0xA4) 2

COPY_EXISTING ~ar1805.are~ ~override~ //Cloakwood Mines, barracks, first floor
	LPF fj_are_structure INT_VAR fj_loc_x=355 fj_loc_y=137 STR_VAR fj_structure_type=~actor~ fj_name=~Nefarious Iron Throne Mage~ fj_cre_resref=~MENEFARI~ END
	LPF fj_are_structure INT_VAR fj_loc_x=397 fj_loc_y=233 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Guard 1~ fj_cre_resref=~IRONGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=221 fj_loc_y=253 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Guard 2~ fj_cre_resref=~IRONGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=239 fj_loc_y=207 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Guard 3~ fj_cre_resref=~IRONGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=323 fj_loc_y=161 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Guard 4~ fj_cre_resref=~IRONGU~ END
	LPF fj_are_structure INT_VAR fj_loc_x=285 fj_loc_y=190 STR_VAR fj_structure_type=~actor~ fj_name=~War Dog~ fj_cre_resref=~MEIRONWD~ END

COPY_EXISTING ~ar1806.are~ ~override~ //Cloakwood Mines, barracks, second floor
	LPF fj_are_structure INT_VAR fj_loc_x=200 fj_loc_y=213 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Death Shade 1~ fj_cre_resref=~MEDEATL1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=274 fj_loc_y=300 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Death Shade 2~ fj_cre_resref=~MEDEATL1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=271 fj_loc_y=167 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Death Shade 3~ fj_cre_resref=~MEDEATL1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=359 fj_loc_y=278 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Death Shade 4~ fj_cre_resref=~MEDEATL1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=111 fj_loc_y=236 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Death Shade 5~ fj_cre_resref=~MEDEATL1~ END
	LPF fj_are_structure INT_VAR fj_loc_x=177 fj_loc_y=328 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Death Shade 6~ fj_cre_resref=~MEDEATL1~ END

COPY_EXISTING ~ar1807.are~ ~override~ //Cloakwood Mines, elevator room
	LPF fj_are_structure INT_VAR fj_loc_x=227 fj_loc_y=274 STR_VAR fj_structure_type=~actor~ fj_name=~Pointblank Sunfire Mage~ fj_cre_resref=~MENEFARI~ END

COPY_EXISTING ~ar1809.are~ ~override~ //Cloakwood Mines, room above the elevator
	LPF fj_are_structure INT_VAR fj_loc_x=233 fj_loc_y=268 STR_VAR fj_structure_type=~actor~ fj_name=~War Dog 1~ fj_cre_resref=~MEIRONWD~ END
	LPF fj_are_structure INT_VAR fj_loc_x=413 fj_loc_y=242 STR_VAR fj_structure_type=~actor~ fj_name=~War Dog 2~ fj_cre_resref=~MEIRONWD~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=367 match_y_coord=223 STR_VAR actor_name=~Elite Guard~ cre_file=~MEIRONG1~ END

PRINT @198

COPY_EXISTING ~ar1900.are~ ~override~ //Bandit Camp, outside
	LPF fj_are_structure INT_VAR fj_loc_x=2701 fj_loc_y=1177 STR_VAR fj_structure_type=~actor~ fj_name=~Black Talon Elite 1~ fj_bcs_specific=~BHOSTILE~ fj_cre_resref=~MEBTELIC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3297 fj_loc_y=1423 STR_VAR fj_structure_type=~actor~ fj_name=~Black Talon Elite 2~ fj_bcs_specific=~BHOSTILE~ fj_cre_resref=~MEBTELIC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3920 fj_loc_y=1170 STR_VAR fj_structure_type=~actor~ fj_name=~Black Talon Elite 3~ fj_bcs_specific=~BHOSTILE~ fj_cre_resref=~MEBTELIC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1172 fj_loc_y=1058 STR_VAR fj_structure_type=~actor~ fj_name=~Chill Elite 1~ fj_bcs_specific=~BHOSTILE~ fj_cre_resref=~MEHOBC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1964 fj_loc_y=660 STR_VAR fj_structure_type=~actor~ fj_name=~Chill Elite 2~ fj_bcs_specific=~BHOSTILE~ fj_cre_resref=~MEHOBC~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2147 fj_loc_y=2243 STR_VAR fj_structure_type=~actor~ fj_name=~Skeleton Berserker~ fj_cre_resref=~MESKELBZ~ END

COPY_EXISTING ~ar1901.are~ ~override~ //Tazok's tent
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~brac10~ new_item=~brac11~ END
//	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~sw1h42~ END

COPY_EXISTING ~ar1903.are~ ~override~ //Bandit Camp, cave
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET offset = actoroffset + (i * actorsize)
		READ_LONG (offset + 0x30) anim
		PATCH_IF (anim = 49152) BEGIN //Delete creatures that have the cave bat animation
			LPF fj_are_structure INT_VAR fj_delete_mode=i STR_VAR fj_structure_type=~actor~ END
			--actornumber
			--i
		END
	END
	LPF fj_are_structure INT_VAR fj_loc_x=830 fj_loc_y=435 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=871 fj_loc_y=345 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=874 fj_loc_y=463 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=902 fj_loc_y=385 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=918 fj_loc_y=446 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=956 fj_loc_y=313 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=962 fj_loc_y=405 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=969 fj_loc_y=341 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=995 fj_loc_y=361 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1020 fj_loc_y=314 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1042 fj_loc_y=375 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1062 fj_loc_y=343 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1113 fj_loc_y=389 STR_VAR fj_structure_type=~actor~ fj_name=~Bat~ fj_cre_resref=~MEBATDOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=995 fj_loc_y=385 STR_VAR fj_structure_type=~actor~ fj_name=~Gnoll Elite~ fj_cre_resref=~GNOLL_A~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1099 fj_loc_y=351 STR_VAR fj_structure_type=~actor~ fj_name=~Gnoll Veteran~ fj_cre_resref=~GNOLL_E~ END

PRINT @199

COPY_EXISTING ~ar2100.are~ ~override~ //Cloakwood, spider area, outside
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~sw1h23~ new_item=~sw1h22~ END
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~leat01~ new_item=~meleat18~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3783 fj_loc_y=1321 STR_VAR fj_structure_type=~actor~ fj_name=~Wraith Spider~ fj_cre_resref=~SPIDWR~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3575 fj_loc_y=761 STR_VAR fj_structure_type=~actor~ fj_name=~Extra Phase Spider~ fj_cre_resref=~SPIDPH~ END

PRINT @200

COPY_EXISTING ~ar2200.are~ ~override~ //Cloakwood, first area
	LPF fj_are_structure INT_VAR fj_loc_x=1541 fj_loc_y=2041 STR_VAR fj_structure_type=~actor~ fj_name=~Assassin Spider~ fj_cre_resref=~MESPDASS~ END

PRINT @201

COPY_EXISTING ~ar2300.are~ ~override~ //Friendly Arm Inn, outside
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~ring08~ new_item=~ring23~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3283 fj_loc_y=2468 STR_VAR fj_structure_type=~actor~ fj_name=~Fake Guard~ fj_cre_resref=~MEFADOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3515 fj_loc_y=2316 STR_VAR fj_structure_type=~actor~ fj_name=~Fake Guard~ fj_cre_resref=~MEFADOP~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3200 fj_loc_y=2600 STR_VAR fj_structure_type=~actor~ fj_name=~Cat~ fj_cre_resref=~CAT~ END

PRINT @202

COPY_EXISTING ~ar2600.are~ ~override~ //Candlekeep, outside, Chapter 6
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~MEAR2600~ fj_reg_script=~MEAR2600~ END

COPY_EXISTING ~ar2606.are~ ~override~ //Candlekeep, rat warehouse
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Cat~ cre_file=~MECATDOP~ END

COPY_EXISTING ~ar2612.are~ ~override~ //Candlekeep, inside, floor with Gorion's room
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 STR_VAR item_to_add=~belt16~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 STR_VAR item_to_add=~mestaf55~ END

COPY_EXISTING ~ar2613.are~ ~override~ //Candlekeep, secret library
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl7j~ END
	PATCH_IF NOT MOD_IS_INSTALLED ~ntotsc.tp2~ ~0~ BEGIN
		LPF fj_are_structure INT_VAR fj_loc_x=361 fj_loc_y=226 STR_VAR fj_structure_type=~actor~ fj_name=~Krotan~ fj_cre_resref=~MEKROTAN~ END
	END


COPY_EXISTING ~ar2615.are~ ~override~ //Candlekeep dungeon, tomb area
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 charges1=1 STR_VAR item_to_add=~book06~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=4 STR_VAR item_to_add=~medagg97~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=5 charges1=1 STR_VAR item_to_add=~potn40~ END
//	LPF REPLACE_AREA_ITEM INT_VAR charges1=1 charges2=1 STR_VAR old_item=~clck02~ new_item=~clck31~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Phase Spider~ cre_file=~SPIDWR~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3141 fj_loc_y=1994 STR_VAR fj_structure_type=~actor~ fj_name=~Crimson Death~ fj_cre_resref=~MEMISTCD~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2550 fj_loc_y=1859 STR_VAR fj_structure_type=~actor~ fj_name=~Corrosive Mist~ fj_cre_resref=~MEMISTCO~ END
	LPF fj_are_structure INT_VAR fj_loc_x=699 fj_loc_y=1826 STR_VAR fj_structure_type=~actor~ fj_name=~Spellhaunt~ fj_cre_resref=~MESPELLH~ END
	LPF fj_are_structure INT_VAR fj_loc_x=408 fj_loc_y=921 STR_VAR fj_structure_type=~actor~ fj_name=~Magic Golem~ fj_cre_resref=~MEGOLMAG~ END

COPY_EXISTING ~ar2619.are~ ~override~ //Candlekeep dungeon, doppelganger area
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0
ab_RT_BbLX=2401
ab_RT_BbLY=758
ab_RT_BbHX=3632
ab_RT_BbHY=1563
ab_RT_VxPr=4
ab_RT_Fbit=0x0
ab_RT_TSet=1
ab_RT_LPoX=3001 ab_RT_LPoY=1190
ab_RT_Vx_X_0=3535 ab_RT_Vx_Y_0=758
ab_RT_Vx_X_1=3632 ab_RT_Vx_Y_1=828
ab_RT_Vx_X_2=2499 ab_RT_Vx_Y_2=1563
ab_RT_Vx_X_3=2401 ab_RT_Vx_Y_3=1507
STR_VAR ab_RT_Name=~ME_Doppel_Aggro~ ab_RT_Rbcs=~medopatr~ END

COPY_EXISTING ~ar2626.are~ ~override~ //Candlekeep, outside, Chapter 6
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~MEAR2626~ fj_reg_script=~MEAR2626~ END

PRINT @203

COPY_EXISTING ~ar3000.are~ ~override~ //Area with Red Wizards and spiders
	LPF fj_are_structure INT_VAR fj_loc_x=3296 fj_loc_y=1528 STR_VAR fj_structure_type=~actor~ fj_name=~Vorpal Spider~ fj_cre_resref=~MESPDVO~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3802 fj_loc_y=1646 STR_VAR fj_structure_type=~actor~ fj_name=~Vorpal Spider~ fj_cre_resref=~MESPDVO~ END

COPY_EXISTING ~ar3100.are~ ~override~ //Coastal area with Shoal, the Surgeon, and Mad Arcand
	LPF fj_are_structure INT_VAR fj_loc_x=826 fj_loc_y=687 STR_VAR fj_structure_type=~actor~ fj_name=~Sahuagin~ fj_cre_resref=~MESAHUAG~ END
	LPF fj_are_structure INT_VAR fj_loc_x=748 fj_loc_y=532 STR_VAR fj_structure_type=~actor~ fj_name=~Sahuagin~ fj_cre_resref=~MESAHUAG~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1064 fj_loc_y=2194 STR_VAR fj_structure_type=~actor~ fj_name=~Sahuagin~ fj_cre_resref=~MESAHUAG~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1186 fj_loc_y=2044 STR_VAR fj_structure_type=~actor~ fj_name=~Sahuagin~ fj_cre_resref=~MESAHUAG~ END
	LPF fj_are_structure INT_VAR fj_loc_x=978 fj_loc_y=1904 STR_VAR fj_structure_type=~actor~ fj_name=~Sahuagin~ fj_cre_resref=~MESAHUAG~ END
	LPF ALTER_AREA_ACTOR INT_VAR x_coord=3466 y_coord=1070 STR_VAR actor_name=~The Surgeon~ END

PRINT @204

COPY_EXISTING ~ar3304.are~ ~override~ //Jovial Juggler
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~MEAR3304~ fj_reg_script=~MEAR3304~ END

COPY_EXISTING ~ar3308.are~ ~override~ //Beregost, Burning Wizard Inn, upstairs
	LPF DELETE_AREA_ITEM STR_VAR item_to_delete=~blun41~ END

//COPY_EXISTING ~ar3357.are~ ~override~ //Beregost, Red Sheaf Inn
/*
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET offset = actoroffset + (i * actorsize)
		READ_ASCII (offset + 0x80) res (6)
		PATCH_IF (~%res%~ STRING_EQUAL ~KARLAT~) BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=i STR_VAR fj_structure_type=~actor~ END
			i=actornumber
		END
	END
*/

PRINT @205

COPY_EXISTING ~ar3400.are~ ~override~ //Beregost temple area, outside
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3476 match_y_coord=2580 x_coord=3243 y_coord=2228 END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3476 match_y_coord=2644 STR_VAR actor_name=~Chill Elite~ cre_file=~MEHOBC~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3401 match_y_coord=2688 x_coord=3339 y_coord=2314 STR_VAR actor_name=~Chill Hobgoblin~ cre_file=~HOBGOBC~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3502 match_y_coord=2701 x_coord=3349 y_coord=1974 STR_VAR actor_name=~Chill Hobgoblin~ cre_file=~HOBGOBC~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3560 match_y_coord=2633 x_coord=3900 y_coord=3400 STR_VAR actor_name=~Chill Hobgoblin~ cre_file=~HOBGOBC~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3375 match_y_coord=2601 x_coord=3435 y_coord=2216 STR_VAR actor_name=~Chill Hobgoblin~ cre_file=~HOBGOBC~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3307 match_y_coord=2656 x_coord=2525 y_coord=3142 STR_VAR actor_name=~Chill Hobgoblin~ cre_file=~HOBGOBC~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3387 match_y_coord=2508 x_coord=1899 y_coord=1002 STR_VAR actor_name=~Chill Hobgoblin~ cre_file=~HOBGOBC~ END

COPY_EXISTING ~ar3601.are~ ~override~ //Flesh golem cave
//	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mebrac99~ END

PRINT @203

COPY_EXISTING ~ar3700.are~ ~override~ //Area with Bassilus and Melicamp
	LPF fj_are_structure INT_VAR fj_loc_x=2625 fj_loc_y=1818 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Greelesh~ fj_cre_resref=~MEGREEL~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=2856 fj_loc_y=3092 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Black Vulture~ fj_cre_resref=~MEDEATHV~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=554 fj_loc_y=2799 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Black Vulture~ fj_cre_resref=~MEDEATHV~ END
	LPF ALTER_AREA_ACTOR INT_VAR x_coord=3688 y_coord=818 STR_VAR actor_name=~Kissiq~ END
	READ_LONG 0x60 spawnpointsoffset
	spawnpointsoffset10 = spawnpointsoffset + 0x708
	WRITE_ASCII (spawnpointsoffset10 + 0x24) ~WOLF~ #8
	WRITE_ASCII (spawnpointsoffset10 + 0x2C) ~WOLFDI~ #8
	WRITE_SHORT (spawnpointsoffset10 + 0x76) 1000
	WRITE_SHORT (spawnpointsoffset10 + 0x78) 12
	WRITE_LONG (spawnpointsoffset10 + 0x7C) (0 - 1)
	WRITE_SHORT (spawnpointsoffset10 + 0x84) 20
	WRITE_LONG (spawnpointsoffset10 + 0x88) (0 - 1)

COPY_EXISTING ~ar3800.are~ ~override~ //Road just south of Beregost
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3888 match_y_coord=1474 x_coord=3904 y_coord=1514 STR_VAR actor_name=~Ergiellit~ cre_file=~MEERGIEL~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=3858 match_y_coord=1534 x_coord=4000 y_coord=1514 STR_VAR actor_name=~Fibrenat~ cre_file=~MEFIBREN~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1860 match_y_coord=2668 STR_VAR cre_file=~HOBELITE~ END

PRINT @206

COPY_EXISTING ~ar3900.are~ ~override~ //Ulcaster, outside
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~KOBCOMM.~ ~MEKOBO07~
	LPF fj_are_structure INT_VAR fj_loc_x=1710 fj_loc_y=1080 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Black Vulture~ fj_cre_resref=~MEDEATHV~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3700 fj_loc_y=2860 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Black Vulture~ fj_cre_resref=~MEDEATHV~ END

COPY_EXISTING ~ar3901.are~ ~override~ //Ulcaster, inside
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Difficulty Spawn~ fj_reg_script=~MEAR3901~ END
	LPF fj_are_structure INT_VAR fj_loc_x=899 fj_loc_y=146 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=75 fj_loc_y=702 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=155 fj_loc_y=926 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=279 fj_loc_y=788 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=507 fj_loc_y=854 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=691 fj_loc_y=858 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=299 fj_loc_y=1434 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=345 fj_loc_y=1380 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=509 fj_loc_y=1222 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1699 fj_loc_y=682 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2003 fj_loc_y=630 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2067 fj_loc_y=595 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1411 fj_loc_y=672 STR_VAR fj_structure_type=~actor~ fj_name=~Shadow~ fj_cre_resref=~MESHADOW~ END
	LPF fj_are_structure INT_VAR fj_loc_x=671 fj_loc_y=1086 STR_VAR fj_structure_type=~actor~ fj_name=~Wraith~ fj_cre_resref=~MEWRAITH~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1131 fj_loc_y=1111 STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Spellhaunt~ fj_cre_resref=~MESPELLL~ END
	LPF fj_are_structure INT_VAR fj_loc_x=920 fj_loc_y=642 STR_VAR fj_structure_type=~actor~ fj_name=~Wraith Spider~ fj_cre_resref=~SPIDWR~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1006 fj_loc_y=719 STR_VAR fj_structure_type=~actor~ fj_name=~Wraith Spider~ fj_cre_resref=~SPIDWR~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl1v~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl6t~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl1g~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrla5~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 charges1=1 STR_VAR item_to_add=~mescrlpt~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=2 charges1=1 STR_VAR item_to_add=~book06~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=3 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl1y~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=4 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl94~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=4 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrlal~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=4 charges1=1 STR_VAR item_to_add=~book08~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=5 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl2f~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=5 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl6z~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=5 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~mewi555x~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl96~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl87~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl5i~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl6s~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 STR_VAR item_to_add=~potn40~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=6 STR_VAR flags=~IDENTIFIED~ item_to_add=~mepotn80~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR item_to_add=~book04~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR item_to_add=~book06~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR item_to_add=~book06~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR item_to_add=~book07~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR item_to_add=~book08~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl1b~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl1k~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl5q~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl6h~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl6v~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl6y~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrl7j~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~scrlb1~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=1 STR_VAR flags=~IDENTIFIED~ item_to_add=~mewi952x~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=7 charges1=10 STR_VAR item_to_add=~mewand98~ END

PRINT @203

COPY_EXISTING ~ar4000.are~ ~override~ //Gullykin, outside
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~KOBCOMM.~ ~MEKOBO06~

COPY_EXISTING ~ar4100.are~ ~override~ //Excavation, outside
	LPF fj_are_structure INT_VAR fj_loc_x=1742 fj_loc_y=1111 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Black Vulture~ fj_cre_resref=~MEDEATHV~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2709 fj_loc_y=2035 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Black Vulture~ fj_cre_resref=~MEDEATHV~ END

COPY_EXISTING ~ar4200.are~ ~override~ //Area with Drizzt
	LPF fj_are_structure INT_VAR
fj_loc_x=2685
fj_loc_y=1517
fj_type=10
fj_trap_loc_x=2685
fj_trap_loc_y=1517
fj_box_left=2647
fj_box_top=1397
fj_box_right=2704
fj_box_bottom=1472
fj_vertex_0=(2647 + (1397 << 16))
fj_vertex_1=(2695 + (1399 << 16))
fj_vertex_2=(2704 + (1472 << 16))
fj_vertex_3=(2650 + (1469 << 16))
STR_VAR fj_structure_type=~container~ fj_name=~ME_Container_1~ END
	READ_SHORT 0x74 numcontainers
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=numcontainers STR_VAR item_to_add=~meboot60~ END

COPY_EXISTING ~ar4300.are~ ~override~ //Area just north of Nashkel
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~MEAR4300~ fj_reg_script=~MEAR4300~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1767 fj_loc_y=2145 STR_VAR fj_structure_type=~actor~ fj_name=~Black Talon Elite 1~ fj_cre_resref=~IRONELIT~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4515 fj_loc_y=1454 STR_VAR fj_structure_type=~actor~ fj_name=~Black Talon Elite 2~ fj_cre_resref=~IRONELIT~ END

COPY_EXISTING ~ar4401.are~ ~override~ //A cave somewhere
//	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mehalb60~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=383 match_y_coord=142 x_coord=151 y_coord=204 STR_VAR actor_name=~Gavolg~ cre_file=~MEGAVOLG~ END

COPY_EXISTING ~ar4500.are~ ~override~ //Firewine Bridge, outside
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Spawn~ fj_reg_script=~MEAR4500~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3252 fj_loc_y=2020 STR_VAR fj_structure_type=~actor~ fj_name=~Ollastix~ fj_cre_resref=~MEOLLAST~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3250 fj_loc_y=2056 STR_VAR fj_structure_type=~actor~ fj_name=~Ollastix's Bandit 1~ fj_cre_resref=~MEBTELIO~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3300 fj_loc_y=2030 STR_VAR fj_structure_type=~actor~ fj_name=~Ollastix's Bandit 2~ fj_cre_resref=~MEBTELIO~ END
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~KOBCOMM.~ ~MEKOBO06~

COPY_EXISTING ~ar4501.are~ ~override~ //Wyvern cave
	READ_LONG 0xbc songoffset
	WRITE_LONG (songoffset + 0xc) brd
	LPF ALTER_AREA_REGION INT_VAR flag_impassable_npc=1 STR_VAR region_name=~Door1700~ END
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET me_off = actoroffset + (i * actorsize)
		READ_ASCII (me_off + 0x80) thefile
		PATCH_IF (!(~%thefile%~ STRING_EQUAL_CASE ~CORWYVRN~)) OR MOD_IS_INSTALLED ~Setup-ExtraExpandedEnhancedEncounters.tp2~ ~0~ BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=i STR_VAR fj_structure_type=~actor~ END
			--actornumber
			--i
		END
	END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=724 match_y_coord=596 x_coord=518 y_coord=608 orientation=ne END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mestaf10~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mescrlt2~ END

COPY_EXISTING ~ar4600.are~ ~override~ //Area with Jared and the polar bear
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET offset = actoroffset + (i * actorsize)
		READ_LONG (offset + 0x30) anim
		PATCH_IF (anim = 29187) BEGIN //Delete creatures that have the polar bear animation
			LPF fj_are_structure INT_VAR fj_delete_mode=i STR_VAR fj_structure_type=~actor~ END
			--actornumber
			--i
		END
	END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Merchant~ cre_file=~BEARPO1~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=2778 fj_loc_y=1426 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Black Vulture~ fj_cre_resref=~MEDEATLV~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=866 fj_loc_y=1291 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Black Vulture~ fj_cre_resref=~MEDEATHV~ END
//	LPF fj_are_structure INT_VAR fj_loc_x=4499 fj_loc_y=2805 fj_schedule=atnight STR_VAR fj_structure_type=~actor~ fj_name=~Lesser Black Vulture~ fj_cre_resref=~MEDEATLV~ END
	LPF fj_are_structure INT_VAR fj_loc_x=535 fj_loc_y=1213 STR_VAR fj_structure_type=~actor~ fj_name=~Carrion Crawler~ fj_cre_resref=~CARRIO~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1139 fj_loc_y=562 STR_VAR fj_structure_type=~actor~ fj_name=~Mutated Gibberling~ fj_cre_resref=~MEGIBERM~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1541 fj_loc_y=3309 STR_VAR fj_structure_type=~actor~ fj_name=~Cave Bear~ fj_cre_resref=~BEARCA~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2909 fj_loc_y=1020 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 01~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2741 fj_loc_y=1040 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 02~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2543 fj_loc_y=1066 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 03~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2639 fj_loc_y=1054 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 04~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1003 fj_loc_y=842 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 05~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2799 fj_loc_y=1032 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 06~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2499 fj_loc_y=1078 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 07~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2917 fj_loc_y=788 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 08~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1547 fj_loc_y=521 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 09~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4049 fj_loc_y=1178 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 10~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4083 fj_loc_y=2680 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 11~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2965 fj_loc_y=3224 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 12~ fj_cre_resref=~OGREBERZ~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3853 fj_loc_y=987 STR_VAR fj_structure_type=~actor~ fj_name=~Ogre Berserker 13~ fj_cre_resref=~OGREBERZ~ END

PRINT @207

COPY_EXISTING ~ar4800.are~ ~override~ //Nashkel
	LPF fj_are_structure INT_VAR fj_loc_x=61 fj_loc_y=3749 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD03~ END
	LPF REPLACE_AREA_ITEM STR_VAR old_item=~plat06~ new_item=~plat02~ END

COPY_EXISTING ~ar4900.are~ ~override~ //Nashkel Carnival
	READ_LONG 0x54 actoroffset
	READ_SHORT 0x58 actornumber
	FOR (i = 0; i < actornumber; ++i) BEGIN
		SET offset = actoroffset + (i * actorsize)
		READ_ASCII (offset + 0x80) thefile
		PATCH_IF (~%thefile%~ STRING_EQUAL_CASE ~NOSFER~) BEGIN
			WRITE_LONG (offset + 0x40) 0x800008
		END
	END

COPY_EXISTING ~ar5000.are~ ~override~
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~MEAR5000~ fj_reg_script=~MEAR5000~ END

COPY_EXISTING ~ar5001.are~ ~override~ //Crypt with revenant
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 charges2=1 STR_VAR item_to_add=~mesw1h70~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Ghoul~ cre_file=~GHOULLOR~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=559 match_y_coord=683 x_coord=731 y_coord=516 END

PRINT @208

COPY_EXISTING ~ar5100.are~ ~override~ //Gnoll Stronghold, outside
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=2389 match_y_coord=1222 STR_VAR cre_file=~merugark~ END

COPY_EXISTING ~ar5101.are~ ~override~ //Gnoll Stronghold, one of the caves
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=208 match_y_coord=554 x_coord=443 y_coord=257 END

COPY_EXISTING ~ar5102.are~ ~override~ //Gnoll Stronghold, cave with the Charisma tome
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~mescrlt1~ END
	READ_SHORT 0x58 numactors
	FOR (; numactors > 0; --numactors) BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=0 STR_VAR fj_structure_type=~actor~ END
	END
	LPF fj_are_structure INT_VAR fj_loc_x=188 fj_loc_y=142 STR_VAR fj_structure_type=~actor~ fj_name=~Carrion Crawler~ fj_cre_resref=~CARRIO~ END

COPY_EXISTING ~ar5103.are~ ~override~ //Gnoll Stronghold, one of the caves
	READ_SHORT 0x58 numactors
	FOR (; numactors > 0; --numactors) BEGIN
			LPF fj_are_structure INT_VAR fj_delete_mode=0 STR_VAR fj_structure_type=~actor~ END
	END
	LPF ADD_AREA_REGION_TRIGGER INT_VAR ab_RT_Type=0 ab_RT_BbLX=414 ab_RT_BbLY=346 ab_RT_BbHX=414 ab_RT_BbHY=346 ab_RT_VxPr=1 ab_RT_Fbit=0 ab_RT_TSet=1 ab_RT_LPoX=414 ab_RT_LPoY=346 ab_RT_Vx_X_0=414 ab_RT_Vx_Y_0=346 STR_VAR ab_RT_Name=~Hook Horror Spawn~ ab_RT_Rbcs=~mehookg2~ END

COPY_EXISTING ~ar5200.are~ ~override~ //Cloudpeaks area with dryad
	LPF fj_are_structure INT_VAR fj_loc_x=724 fj_loc_y=1956 STR_VAR fj_structure_type=~actor~ fj_name=~MELinner~ fj_cre_resref=~MELINNER~ END
	LPF ALTER_AREA_ACTOR STR_VAR actor_name=~Eagle~ cre_file=~MEEAGLEG~ END

PRINT @209

COPY_EXISTING ~ar5201.are~ ~override~ //Firewine Ruins
	READ_LONG 0xC0 restencountersoffset
	WRITE_SHORT (restencountersoffset+0xA4) 4
	READ_LONG 0x60 spawnpointsoffset
	WRITE_ASCII (spawnpointsoffset+0x24) ~KOBOLD10~ #8
	spawnpointsoffset+=0xC8
	WRITE_ASCII (spawnpointsoffset+0x24) ~KOBOLA_D~ #8
	spawnpointsoffset+=0xC8
	WRITE_ASCII (spawnpointsoffset+0x24) ~KOBOLD_C~ #8
	spawnpointsoffset+=0xC8
	WRITE_ASCII (spawnpointsoffset+0x24) ~MEKOBO22~ #8
	spawnpointsoffset+=0xC8
	WRITE_ASCII (spawnpointsoffset+0x24) ~MEKOBO22~ #8
	spawnpointsoffset+=0x190
	WRITE_ASCII (spawnpointsoffset+0x24) ~KOBOLA_C~ #8
	spawnpointsoffset+=0xC8
	WRITE_ASCII (spawnpointsoffset+0x24) ~KOBOLD12~ #8
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Minotaur Spawn~ fj_reg_script=~MEAR5201~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1397 fj_loc_y=195 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD_B~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1733 fj_loc_y=346 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD_B~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1283 fj_loc_y=1700 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD_D~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1295 fj_loc_y=1376 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD4~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2085 fj_loc_y=918 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD4~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1079 fj_loc_y=1407 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD12~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1969 fj_loc_y=1476 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD12~ END
	LPF fj_are_structure INT_VAR fj_loc_x=467 fj_loc_y=1254 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=845 fj_loc_y=1170 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1236 fj_loc_y=599 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD03~ END
	LPF fj_are_structure INT_VAR fj_loc_x=179 fj_loc_y=1268 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLDAL~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1641 fj_loc_y=1225 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO21~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1107 fj_loc_y=1155 STR_VAR fj_structure_type=~actor~ fj_name=~Minotaur Lord~ fj_cre_resref=~MEMINOLO~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=372 match_y_coord=347 STR_VAR cre_file=~kobold12~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=608 match_y_coord=460 STR_VAR cre_file=~kobold12~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1864 match_y_coord=736 STR_VAR cre_file=~mekobo02~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1953 match_y_coord=713 STR_VAR cre_file=~mekobo02~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=1897 match_y_coord=694 STR_VAR cre_file=~koboldfl~ END

COPY_EXISTING ~ar5202.are~ ~override~ //Wolf Cave
	LPF ALTER_AREA_ACTOR INT_VAR x_coord=147 y_coord=218 STR_VAR actor_name=~Dire Wolf~ cre_file=~WOLFWI~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 STR_VAR item_to_add=~book04~ END

PRINT @210

COPY_EXISTING ~ar5400.are~ ~override~ //Nashkel Mines, outside
	READ_LONG 0xC0 restencountersoffset
	SAY (restencountersoffset+0x24) #10146
	WRITE_SHORT (restencountersoffset+0xA4) 1
	WRITE_ASCII (restencountersoffset+0x50) ~WOLF~ #8
	LPF DELETE_AREA_ITEM STR_VAR item_to_delete=~wand06~ END

COPY_EXISTING ~ar5402.are~ ~override~ //Nashkel Mines, second floor
	READ_LONG 0xC0 restencountersoffset
	SAY (restencountersoffset+0x24) #10145
	WRITE_SHORT (restencountersoffset+0xA4) 1
	WRITE_ASCII (restencountersoffset+0x50) ~KOBOLD11~ #8
	LPF fj_are_structure INT_VAR fj_loc_x=3703 fj_loc_y=1226 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold Captain~ fj_cre_resref=~KOBOLD8~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3639 fj_loc_y=1838 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold Captain~ fj_cre_resref=~KOBOLD8~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2761 fj_loc_y=318 STR_VAR fj_structure_type=~actor~ fj_name=~Mane~ fj_cre_resref=~MEMANE~ END

COPY_EXISTING ~ar5403.are~ ~override~ //Nashkel Mines, third floor
	READ_LONG 0xC0 restencountersoffset
	WRITE_SHORT (restencountersoffset+0xA4) 1
	LPF fj_are_structure INT_VAR fj_loc_x=1293 fj_loc_y=2309 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD7~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2288 fj_loc_y=1121 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD7~ END
	LPF fj_are_structure INT_VAR fj_loc_x=568 fj_loc_y=342 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO21~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1541 fj_loc_y=2148 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO02~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1905 fj_loc_y=2080 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO08~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2122 fj_loc_y=706 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD6~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2215 fj_loc_y=450 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO01~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2569 fj_loc_y=438 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO03~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3611 fj_loc_y=797 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO03~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3665 fj_loc_y=797 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO03~ END
	LPF fj_are_structure INT_VAR fj_loc_x=2690 fj_loc_y=406 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~MEKOBO06~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1664 fj_loc_y=375 STR_VAR fj_structure_type=~actor~ fj_name=~Mane~ fj_cre_resref=~MEMANE~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3410 fj_loc_y=1235 STR_VAR fj_structure_type=~actor~ fj_name=~Mane~ fj_cre_resref=~MEMANE~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3132 fj_loc_y=2179 STR_VAR fj_structure_type=~actor~ fj_name=~Mane~ fj_cre_resref=~MEMANE~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3185 fj_loc_y=2687 STR_VAR fj_structure_type=~actor~ fj_name=~Mane~ fj_cre_resref=~MEMANE~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3070 fj_loc_y=2545 STR_VAR fj_structure_type=~actor~ fj_name=~Quasit~ fj_cre_resref=~MEQUASIT~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=412 match_y_coord=1711 STR_VAR cre_file=~mekobo01~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=473 match_y_coord=1700 STR_VAR cre_file=~mekobo01~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=508 match_y_coord=1721 STR_VAR cre_file=~mekobo01~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=2267 match_y_coord=2215 STR_VAR cre_file=~mekobo07~ END

COPY_EXISTING ~ar5404.are~ ~override~ //Nashkel Mines, fourth floor
	READ_LONG 0xC0 restencountersoffset
	WRITE_SHORT (restencountersoffset+0xA4) 3
	LPF fj_are_structure INT_VAR fj_loc_x=761 fj_loc_y=1447 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLA_D~ END
	LPF fj_are_structure INT_VAR fj_loc_x=982 fj_loc_y=1332 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLA_D~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1060 fj_loc_y=1189 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD6~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1159 fj_loc_y=1276 STR_VAR fj_structure_type=~actor~ fj_name=~Kobold~ fj_cre_resref=~KOBOLD6~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1701 fj_loc_y=247 STR_VAR fj_structure_type=~actor~ fj_name=~Quasit~ fj_cre_resref=~MEQUASIT~ END

COPY_EXISTING ~ar5405.are~ ~override~ //Nashkel Mines, Mulahey's lair
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=487 match_y_coord=621 x_coord=602 y_coord=650 STR_VAR cre_file=~mekobo22~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=544 match_y_coord=597 x_coord=632 y_coord=594 STR_VAR cre_file=~mekobo22~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=581 match_y_coord=617 STR_VAR cre_file=~mekobo22~ END
	LPF ALTER_ACTOR_AT_POINT INT_VAR match_x_coord=644 match_y_coord=643 x_coord=786 y_coord=666 STR_VAR cre_file=~kobold5~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 charges1=1 STR_VAR item_to_add=~book07~ END
	LPF ADD_AREA_ITEM INT_VAR container_to_add_to=1 charges1=1 STR_VAR item_to_add=~mescrl9z~ flags=~IDENTIFIED~ END

PRINT @203

COPY_EXISTING ~ar5500.are~ ~override~ //Mountainous area southeast of Nashkel
	LPF fj_are_structure INT_VAR fj_loc_x=1166 fj_loc_y=1166 STR_VAR fj_structure_type=~actor~ fj_name=~Mutated Gibberling 1~ fj_cre_resref=~MEGIBERM~ END
	LPF fj_are_structure INT_VAR fj_loc_x=1593 fj_loc_y=1693 STR_VAR fj_structure_type=~actor~ fj_name=~Mutated Gibberling 2~ fj_cre_resref=~MEGIBERM~ END
	LPF fj_are_structure INT_VAR fj_loc_x=3200 fj_loc_y=1600 STR_VAR fj_structure_type=~actor~ fj_name=~Mutated Gibberling 3~ fj_cre_resref=~MEGIBERM~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4600 fj_loc_y=2300 STR_VAR fj_structure_type=~actor~ fj_name=~Mutated Gibberling 4~ fj_cre_resref=~MEGIBERM~ END
	LPF fj_are_structure INT_VAR fj_loc_x=4500 fj_loc_y=1500 STR_VAR fj_structure_type=~actor~ fj_name=~Fomorian Colossus~ fj_cre_resref=~MEFOMORI~ END
	READ_SHORT 0xc0 ofsRestEncounters
	WRITE_ASCII (ofsRestEncounters + 0x48) ~MEGIBERM~ #8
	WRITE_SHORT (ofsRestEncounters + 0xa4) 1

PRINT @211

COPY_EXISTING ~ar5600.are~ ~override~ //Wasteland ambush map
	WRITE_ASCII areascript ~MEAR5600~ #8

COPY_EXISTING ~ar5700.are~ ~override~ //Mountain ambush map
	WRITE_ASCII areascript ~MEAR5700~ #8

COPY_EXISTING ~ar5800.are~ ~override~ //Coastal ambush map
	WRITE_ASCII areascript ~MEAR5800~ #8

COPY_EXISTING ~ar5900.are~ ~override~ //Field ambush map
	WRITE_ASCII areascript ~MEAR5900~ #8

COPY_EXISTING ~ar6100.are~ ~override~ //Road ambush map
	WRITE_ASCII areascript ~MEAR6100~ #8

PRINT @212
/*
COPY_EXISTING ~oh2000.are~ ~override~
	LPF ALTER_AREA_ACTOR INT_VAR expiry=0 STR_VAR actor_name=~Bird~ END
	LPF ALTER_AREA_ACTOR INT_VAR expiry=0 STR_VAR actor_name=~Eagle~ END
	IF_EXISTS
*/
COPY_EXISTING ~oh3000.are~ ~override~
	LPF fj_are_structure INT_VAR fj_loc_x=3918 fj_loc_y=1471 STR_VAR fj_structure_type=~actor~ fj_name=~Priest of Shar~ fj_cre_resref=~RSDCL01~ END
	IF_EXISTS

COPY_EXISTING ~oh3100.are~ ~override~
	LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~Difficulty Spawn~ fj_reg_script=~MEOH3100~ END
	IF_EXISTS

SILENT
/*
IF
	Die()
	Name("MEBIRDCRE%i%",Myself)
THEN
	RESPONSE #100
		ActionOverride("MEBIRD%i%",DestroySelf())
END

IF
	StateCheck(Myself,STATE_INVISIBLE)
	!StateCheck("MEBIRD%i%",STATE_INVISIBLE)
	Name("MEBIRDCRE%i%",Myself)
THEN
	RESPONSE #100
		ActionOverride("MEBIRD%i%",ApplySpellRES("MEININVS","MEBIRD%i%"))
END

IF
	!StateCheck(Myself,STATE_INVISIBLE)
	StateCheck("MEBIRD%i%",STATE_INVISIBLE)
	Name("MEBIRDCRE%i%",Myself)
THEN
	RESPONSE #100
		ActionOverride("MEBIRD%i%",ApplySpellRES("MEINREVL","MEBIRD%i%"))
END
*/
/*
OUTER_FOR (i = 99; i >= 0; --i) BEGIN
<<<<<<<< .../script.baf

IF
	!CheckSpellState(Myself,115)
	Name("MEBIRDCRE%i%",Myself)
THEN
	RESPONSE #100
		ActionOverride("MEBIRD%i%",ApplySpellRES("MEBIRDPU","MEBIRDCRE%i%"))
END



>>>>>>>>

EXTEND_TOP ~mebirc%i%.bcs~ ~.../script.baf~ EVAL

END
*/
COPY_EXISTING_REGEXP ~ar[0-9].*\.are~ ~override~ ~bd.*\.are~ ~override~
	me_bird_count=0
	READ_SHORT 0x58 numactors
	me_off=0x11c
	FOR (i=0; i<numactors; ++i) BEGIN
		me_cre_is_bird=0
		READ_ASCII (me_off+0x80) me_file
		INNER_ACTION BEGIN
			COPY_EXISTING ~%me_file%.cre~ ~override~
				READ_LONG animation me_animation
				PATCH_IF ((me_animation=53248 OR me_animation=53504) OR (me_animation=53760 OR me_animation=sloteaglelargedecimal)) OR (me_animation=54016 OR me_animation=54272) BEGIN
					me_cre_is_bird=1
				END
				BUT_ONLY_IF_IT_CHANGES
		END
		PATCH_IF me_cre_is_bird=1 BEGIN
			WRITE_ASCIIE me_off ~MEBIRD%me_bird_count%~ #32
			WRITE_ASCII (me_off+0x78) ~mebirdpu~ #8
			READ_LONG (me_off+0x28) ulgiash
			ulgiash|=0x8
			WRITE_LONG (me_off+0x28) ulgiash
			READ_SHORT (me_off+0x20) me_location_x
			READ_SHORT (me_off+0x22) me_location_y
			READ_LONG (me_off+0x40) me_schedule
			PATCH_IF me_animation=53248 BEGIN
				LPF fj_are_structure INT_VAR fj_loc_x=me_location_x fj_loc_y=me_location_y fj_schedule=me_schedule STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~MEBIRDCRE%me_bird_count%~ fj_bcs_class= EVAL ~~ fj_cre_resref=~MEEAGLCR~ END
				numactors = numactors + 1
			END
			PATCH_IF me_animation=53504 BEGIN
				LPF fj_are_structure INT_VAR fj_loc_x=me_location_x fj_loc_y=me_location_y fj_schedule=me_schedule STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~MEBIRDCRE%me_bird_count%~ fj_bcs_class= EVAL ~~ fj_cre_resref=~MESEAGCR~ END
				numactors = numactors + 1
			END
			PATCH_IF me_animation=53760 BEGIN
				PATCH_IF (~%me_file%~ STRING_EQUAL_CASE ~medeathv~) OR ((~%me_file%~ STRING_EQUAL_CASE ~medeatlv~)) BEGIN
					LPF fj_are_structure INT_VAR fj_loc_x=me_location_x fj_loc_y=me_location_y fj_schedule=me_schedule STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~MEBIRDCRE%me_bird_count%~ fj_bcs_class= EVAL ~~ fj_cre_resref=~MEVUBLCR~ END
					numactors = numactors + 1
				END
				ELSE BEGIN
					LPF fj_are_structure INT_VAR fj_loc_x=me_location_x fj_loc_y=me_location_y fj_schedule=me_schedule STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~MEBIRDCRE%me_bird_count%~ fj_bcs_class= EVAL ~~ fj_cre_resref=~MEVULTCR~ END
					numactors = numactors + 1
				END
			END
			PATCH_IF me_animation=54016 BEGIN
				LPF fj_are_structure INT_VAR fj_loc_x=me_location_x fj_loc_y=me_location_y fj_schedule=me_schedule STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~MEBIRDCRE%me_bird_count%~ fj_bcs_class= EVAL ~~ fj_cre_resref=~MEBIROCR~ END
				numactors = numactors + 1
			END
			PATCH_IF me_animation=54272 BEGIN
				LPF fj_are_structure INT_VAR fj_loc_x=me_location_x fj_loc_y=me_location_y fj_schedule=me_schedule STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~MEBIRDCRE%me_bird_count%~ fj_bcs_class= EVAL ~~ fj_cre_resref=~MEBIRICR~ END
				numactors = numactors + 1
			END
			PATCH_IF me_animation=sloteaglelargedecimal BEGIN
				LPF fj_are_structure INT_VAR fj_loc_x=me_location_x fj_loc_y=me_location_y fj_schedule=me_schedule STR_VAR fj_structure_type=~actor~ fj_name= EVAL ~MEBIRDCRE%me_bird_count%~ fj_bcs_class= EVAL ~~ fj_cre_resref=~MEEAGGCR~ END
				numactors = numactors + 1
			END
			LPF ALTER_AREA_ACTOR INT_VAR flag_override_script_name=1 STR_VAR actor_name= EVAL ~MEBIRDCRE%me_bird_count%~ END
			me_bird_count = me_bird_count + 1
		END
		me_off+=actorsize
	END
/*
	PATCH_IF me_bird_count > 0 BEGIN
		LPF fj_are_structure STR_VAR fj_structure_type=~region~ fj_name=~ME_Bird~ fj_reg_script=~MEBIRDP2~ END
	END
*/
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

VERBOSE

COPY_EXISTING ~d000.ini~ ~override~ ~d100.ini~ ~override~ ~d200.ini~ ~override~
	REPLACE_TEXTUALLY ~cast_frame=4~ ~cast_frame=4
height_offset=100~

COPY_EXISTING ~mebiricr.cre~ ~override~ ~mebirocr.cre~ ~override~
	WRITE_SHORT animation slotbirdcreaturemediumdecimal

COPY_EXISTING ~meeaggcr.cre~ ~override~
	SAY NAME1 @18288
	SAY NAME2 @18288
	WRITE_SHORT animation slotbirdcreaturelargedecimal

COPY_EXISTING ~meeaglcr.cre~ ~override~ ~meseagcr.cre~ ~override~ ~mevultcr.cre~ ~override~
	WRITE_SHORT animation slotbirdcreaturemediumdecimal

COPY_EXISTING ~mevublcr.cre~ ~override~
	SAY NAME1 @18289
	SAY NAME2 @18289
	ADD_MEMORIZED_SPELL ~spwi119~ #0 ~wizard~ (5)
	ADD_MEMORIZED_SPELL ~spwi221~ #1 ~wizard~ (1)
	WRITE_SHORT animation slotbirdcreaturemediumdecimal

COPY_EXISTING ~mevultcr.cre~ ~override~
	ADD_MEMORIZED_SPELL ~spwi119~ #0 ~wizard~ (3)

COPY_EXISTING ~mebiricr.cre~ ~override~ ~mebirocr.cre~ ~override~ ~meeaggcr.cre~ ~override~ ~meeaglcr.cre~ ~override~ ~meseagcr.cre~ ~override~ ~mevublcr.cre~ ~override~ ~mevultcr.cre~ ~override~
	REPLACE_CRE_ITEM ~mebirdun~ #0 #0 #0 ~NONE~ ~BELT~
	LPF ADD_CRE_EFFECT INT_VAR opcode=applyrepeatingeff target=1 timing=9 duration=0x20000000 parameter1=1 parameter2=2 STR_VAR resource=~MEOFFSCR~ END

COPY_EXISTING ~M__MESTR.LUA~ ~override~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_birdtodead = {\[\"\"\] = 0~ ~me_birdtodead = {[""] = 0, ["54016"] = %slotbirddeaddecimal%~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_birdtodead = {\[\"\"\] = 0~ ~me_birdtodead = {[""] = 0, ["54272"] = %slotbirddeaddecimal%~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_birdtodead = {\[\"\"\] = 0~ ~me_birdtodead = {[""] = 0, ["53248"] = %sloteagledeaddecimal%~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_birdtodead = {\[\"\"\] = 0~ ~me_birdtodead = {[""] = 0, ["53504"] = %slotseagulldeaddecimal%~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_birdtodead = {\[\"\"\] = 0~ ~me_birdtodead = {[""] = 0, ["53760"] = %slotvulturedeaddecimal%~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~me_birdtodead = {\[\"\"\] = 0~ ~me_birdtodead = {[""] = 0, ["%sloteaglelargedecimal%"] = %sloteaglelargedeaddecimal%~

COPY_EXISTING_REGEXP ~ar[0-9].*\.are~ ~override~ ~bd.*\.are~ ~override~
	READ_LONG 0x60 spawnpointoffset
	READ_LONG 0x64 numspawnpoints
	FOR (i = 0; i < numspawnpoints; ++i) BEGIN
		offset = spawnpointoffset + i * 0xC8
		READ_SHORT (offset + 0x7A) thespawnflags
		thespawnflags|=0x2
		WRITE_SHORT (offset + 0x7A) thespawnflags
	END
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~bow17.itm~ ~override~
	WRITE_ASCII 0x4 ~V1  ~ #4

BEGIN @2 DESIGNATED 128 DEPRECATED ~~

COPY_EXISTING ~sppr108.spl~ ~override~
	READ_LONG 0x1E ulgiash
	ulgiash&=0x7FFFFFFF //Makes the spell usable by druids
	WRITE_LONG 0x1E ulgiash
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=protectionfromanimation END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=protectionfromopcode END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=protectionfromstring END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=protectionfromportraiticon END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=displayportraiticon END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=setstate END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=modifymoralebreak END
	LPF DELETE_EFFECT INT_VAR match_opcode=playsound match_timing=delayed END
	SAY UNIDENTIFIED_DESC @21108

COPY_EXISTING ~spwi210.spl~ ~override~
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=resetmorale END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removefear END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeportraiticon END
	LPF DELETE_SPELL_EFFECT INT_VAR opcode_to_delete=removeeffectsbyresource END
	SAY UNIDENTIFIED_DESC @20210

COPY_EXISTING ~scrl94.itm~ ~override~
	SAY IDENTIFIED_DESC @20210

BEGIN @3 DESIGNATED 256 DEPRECATED ~~

COPY_EXISTING ~sppr250.spl~ ~override~
	LPF DELETE_EFFECT INT_VAR match_opcode=protectionfromspell STR_VAR match_resource=~SPPR250~ END
	SAY UNIDENTIFIED_DESC @21250

BEGIN @4 DESIGNATED 384

COPY_EXISTING ~spwi107.spl~ ~override~
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifycharisma parameter1=20 parameter2=1 END
	SAY UNIDENTIFIED_DESC @20107

COPY_EXISTING ~scrl72.itm~ ~override~
	SAY IDENTIFIED_DESC @20107

BEGIN @5 DESIGNATED 512

COPY_EXISTING ~chrmodst.2da~ ~override~
	j=1
	FOR (i = 11; i <= 15; ++i) BEGIN
		SET_2DA_ENTRY 0 i 26 ~-%j%~
		++j
	END
	j=7
	FOR (i = 16; i <= 25; ++i) BEGIN
		SET_2DA_ENTRY 0 i 26 ~-%j%~
		j+=2
	END

BEGIN @6 FORBID_COMPONENT ~setup-cdtweaks.tp2~ ~3280~ @272

COPY_EXISTING ~numwslot.2da~ ~override~
	COUNT_2DA_ROWS 2 numrows
	FOR (i = 1; i < numrows; ++i) BEGIN
		SET_2DA_ENTRY i 1 2 ~4~
	END

BEGIN @8 DESIGNATED 640
SUBCOMPONENT @7
COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_SHORT 0x1c theitemtype
	READ_LONG IDENTIFIED_DESC theidentifieddescription
	PATCH_IF (theitemtype = 7 AND theidentifieddescription != 19724) BEGIN
		READ_ASCII appearance theappearance
		PATCH_IF !(~%theappearance%~ STRING_EQUAL_CASE ~ZW~) BEGIN
			WRITE_SHORT appearance noappearance
		END
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~gv#helm.itm~ ~override~
	WRITE_ASCII appearance ~J9~ #2
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

BEGIN @9 DESIGNATED 768
SUBCOMPONENT @7
COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_SHORT 0x1c theitemtype
	PATCH_IF (theitemtype = 7) BEGIN
		WRITE_SHORT appearance noappearance
	END
	BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~gv#helm.itm~ ~override~
	WRITE_ASCII appearance ~J9~ #2
	IF_EXISTS
	BUT_ONLY_IF_IT_CHANGES

BEGIN @11 DESIGNATED 896
SUBCOMPONENT @10
	COPY_EXISTING ~intmod.2da~ ~override~
		FOR (i = 9; i <= 25; ++i) BEGIN
			READ_2DA_ENTRY i 1 6 ulgiash
			PATCH_IF ulgiash < 99 BEGIN
				SET_2DA_ENTRY i 1 6 ~99~
			END
		END
BEGIN @12 DESIGNATED 1024
SUBCOMPONENT @10
	COPY_EXISTING ~intmod.2da~ ~override~
		FOR (i = 9; i <= 25; ++i) BEGIN
			READ_2DA_ENTRY i 1 6 ulgiash
			PATCH_IF ulgiash < 150 BEGIN
				SET_2DA_ENTRY i 1 6 ~150~
			END
		END

BEGIN @42 DESIGNATED 1088
	COPY_EXISTING ~hpconbon.2da~ ~override~
		COUNT_2DA_COLS numcols
		COUNT_2DA_ROWS numcols numrows
		FOR (i = 0; i < numrows; ++i) BEGIN
			READ_2DA_ENTRY i 2 numcols thewarriorhpbonus
			SET_2DA_ENTRY i 1 numcols ~%thewarriorhpbonus%~
		END

BEGIN @43 DESIGNATED 1120
	COPY_EXISTING ~mesvcndh.2da~ ~override/savecndh.2da~ ~mesvcng.2da~ ~override/savecng.2da~

BEGIN @13 DESIGNATED 1152 DEPRECATED ~~

COPY_EXISTING ~mestyleb.2da~ ~override/stylbonu.2da~

COPY_EXISTING ~weapprof.2da~ ~override~
	COUNT_2DA_COLS me_num_columns
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~2HANDED~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 2 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~SWORDANDSHIELD~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 2 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~SINGLEWEAPON~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 2 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END
	LPF GET_2DA_ROW INT_VAR numcolumns=me_num_columns STR_VAR match=~2WEAPON~ RET therow=matched END
	FOR (j = 4; j < me_num_columns; ++j) BEGIN
		READ_2DA_ENTRY therow j me_num_columns theprofmax
		PATCH_IF theprofmax = 3 BEGIN
			SET_2DA_ENTRY therow j me_num_columns ~5~
		END
	END

STRING_SET_EVALUATE 24999 @2304

STRING_SET_EVALUATE 25044 @2301

STRING_SET_EVALUATE 25045 @2302

STRING_SET_EVALUATE 25046 @2303

COPY_EXISTING_REGEXP ~deder.*\.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 5
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 5
	SET_BG2_PROFICIENCY PROFICIENCYSWORDANDSHIELD 5
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 5

COPY_EXISTING_REGEXP ~montar.*\.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCYSINGLEWEAPON 5

ACTION_IF MOD_IS_INSTALLED ~Kale.tp2~ ~0~ BEGIN

COPY_EXISTING ~x3kale.cre~ ~override~ ~x32kale.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2HANDED 4
	IF_EXISTS

END

ACTION_IF MOD_IS_INSTALLED ~verrsza.tp2~ ~0~ BEGIN

COPY_EXISTING ~l#1verr1.cre~ ~override~ ~l#1dver.cre~ ~override~ ~l#1dvee.cre~ ~override~
	SET_BG2_PROFICIENCY PROFICIENCY2WEAPON 5
	IF_EXISTS

END

BEGIN @14 DESIGNATED 1280

COPY_EXISTING ~profsmax.2da~ ~override~
	COUNT_2DA_ROWS 6 numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		SET_2DA_ENTRY i 1 6 ~5~
		SET_2DA_ENTRY i 3 6 ~5~
		SET_2DA_ENTRY i 4 6 ~5~
	END

BEGIN @41 DESIGNATED 1408

COPY_EXISTING ~meprofs.2da~ ~override/profs.2da~

BEGIN @16 DESIGNATED 1536
SUBCOMPONENT @15
COPY_EXISTING ~clswpbon.2da~ ~override~
	FOR (i = 0; i < 255; ++i) BEGIN
		READ_2DA_ENTRY i 0 4 kitname
		PATCH_IF (~%kitname%~ STRING_EQUAL ~SWASHBUCKLER~) BEGIN
			swashbucklerrow=i
			i=255
		END
	END
	SET_2DA_ENTRY swashbucklerrow 1 4 ~1~
BEGIN @17 DESIGNATED 1664
SUBCOMPONENT @15
COPY_EXISTING ~clswpbon.2da~ ~override~
	COUNT_2DA_ROWS 4 numrows
	FOR (i = 0; i < numrows; ++i) BEGIN
		SET_2DA_ENTRY i 1 4 ~1~
	END

BEGIN @18 DESIGNATED 1992

COPY_EXISTING ~backstab.2da~ ~override~
	COUNT_2DA_COLS numcolumns
	FOR (i = 0; i < 255; ++i) BEGIN
		READ_2DA_ENTRY i 0 numcolumns kitname
		PATCH_IF (~%kitname%~ STRING_EQUAL ~ASSASIN~) BEGIN
			assassinrow=i
			i=255
		END
	END
	FOR (i = 5; i <= 7; ++i) BEGIN //Levels 4 to 6
		SET_2DA_ENTRY assassinrow i numcolumns ~3~
	END
	FOR (i = 8; i <= 10; ++i) BEGIN //Levels 7 to 9
		SET_2DA_ENTRY assassinrow i numcolumns ~4~
	END
	FOR (i = 11; i <= 13; ++i) BEGIN //Levels 10 to 12
		SET_2DA_ENTRY assassinrow i numcolumns ~5~
	END
	FOR (i = 14; i <= 16; ++i) BEGIN //Levels 13 to 15
		SET_2DA_ENTRY assassinrow i numcolumns ~6~
	END
	FOR (i = 17; i < numcolumns; ++i) BEGIN //Levels 16 and up
		SET_2DA_ENTRY assassinrow i numcolumns ~7~
	END

STRING_SET_EVALUATE 24301 @2137

BEGIN @19 DESIGNATED 2120 DEPRECATED ~~

COPY_EXISTING ~fjbardb.spl~ ~override~ ~spcl542a.spl~ ~override~ ~spcl751a.spl~ ~override~ ~mebardb.spl~ ~override~ ~c0sasong.spl~ ~override~
	LPF ALTER_SPELL_HEADER INT_VAR header=2 min_level=5 END
	LPF ALTER_SPELL_HEADER INT_VAR header=3 min_level=10 END
	IF_EXISTS
/*
LPF GET_2DA_ROW INT_VAR numcolumns=9 STR_VAR match=~SKALD~ RET therow=matched END
READ_2DA_ENTRY therow 4 9 me_class_strref
LPF PATCH_APPEND_TO_STRING INT_VAR strref=me_class_strref STR_VAR newtext= EVAL ~%me_class_abilities%~ END
*/

ACTION_IF MOD_IS_INSTALLED ~Setup-shadowadept.tp2~ ~0~ BEGIN

	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_COLS numcols
		LPF GET_2DA_ROW INT_VAR numcolumns=numcols match_column=1 STR_VAR match=~C0SABARD~ RET therow=matched END
		READ_2DA_ENTRY therow 4 numcols me_class_strref
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~11th level: -2 penalty~ replace_with=~5th level: -2 penalty~ END
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~21st level: -3 penalty~ replace_with=~10th level: -3 penalty~ END
/*
		LPF GET_2DA_ROW INT_VAR numcolumns=numcols match_column=1 STR_VAR match=~C0SABAR2~ RET therow=matched END
		READ_2DA_ENTRY therow 4 numcols me_class_strref
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~11th level: -2 penalty~ replace_with=~5th level: -2 penalty~ END
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~21st level: -3 penalty~ replace_with=~10th level: -3 penalty~ END
*/
		BUT_ONLY_IF_IT_CHANGES
END

STRING_SET_EVALUATE 24305 @2144

STRING_SET_EVALUATE 24306 @2145

BEGIN @20 DESIGNATED 2248

COPY_EXISTING ~spcl131.spl~ ~override~ //Wizard Slayer innate magic resistance
	LPF ALTER_SPELL_EFFECT INT_VAR match_opcode=modifymagicresistance parameter1=5 END

STRING_SET_EVALUATE 24285 @2104

BEGIN @21 DESIGNATED 2376 DEPRECATED ~~

COPY_EXISTING ~clabrn03.2da~ ~override~ //Stalker abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA301~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA302~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA303~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    ****        ****        ****        ****        ****        GA_SPRA301  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL2    ****        ****        ****        ****        ****        GA_SPRA302  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL3    ****        ****        ****        ****        ****        GA_SPRA303  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~

COPY_EXISTING_REGEXP ~spra30[123].spl~ ~override~ //Stalker abilities
	WRITE_SHORT 0x1C 4
	WRITE_LONG 0x34 1
	LPF ALTER_SPELL_HEADER INT_VAR location=4 END

STRING_SET_EVALUATE 24299 @2109

BEGIN @22 REQUIRE_COMPONENT ~HighPower.tp2~ ~0~ @270  DESIGNATED 2504 DEPRECATED ~~

COPY_EXISTING ~clabrn04.2da~ ~override~ //Beastmaster abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA304~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA305~ ~****      ~
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPRA306~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    GA_MECO249  GA_MECO249  ****        GA_MECO062  ****        GA_MECO062  ****        GA_MECO250  ****        GA_MECO250  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~

STRING_SET_EVALUATE 24300 @2110

BEGIN @23 REQUIRE_COMPONENT ~HighPower.tp2~ ~0~ @270  DESIGNATED 2632 DEPRECATED @273

BEGIN @24  DESIGNATED 2760

COPY_EXISTING ~clabso01.2da~ ~override~ //Dragon Disciple abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPDD03~ ~****     ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    ****        ****        GA_SPDD03   ****        ****        GA_SPDD03   ****        ****        GA_SPDD03   ****        ****        GA_SPDD03   ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~

STRING_SET_EVALUATE 31978 @2149

BEGIN @25 REQUIRE_COMPONENT ~HighPower.tp2~ ~0~ @270  DESIGNATED 2888

COPY_EXISTING ~clabmo01.2da~ ~override~ //Unkitted Monk abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPCL820~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    ****        ****        ****        ****        ****        ****        ****        ****        GA_SPCL820  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~

COPY_EXISTING ~clabmo02.2da~ ~override~ //Dark Moon Monk abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPDM106~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    AP_MEDM130  ****        ****        ****        ****        ****        ****        GA_SPDM106  GA_MEDM144  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~

COPY_EXISTING ~clabmo03.2da~ ~override~ //Sun Soul Monk abilities
	REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_SPCL239~ ~****      ~
	COUNT_2DA_COLS numcolumns
	COUNT_2DA_ROWS numcolumns numrows
	INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    ****        ****        ****        ****        ****        ****        ****        ****        GA_SPCL239  ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~

ACTION_IF MOD_IS_INSTALLED ~Setup-shadowadept.tp2~ ~1~ BEGIN
	COPY_EXISTING ~c0smonk.2da~ ~override~ //Shadow Monk abilities
		REPLACE_TEXTUALLY CASE_INSENSITIVE ~GA_C0SMONK6~ ~****       ~
		COUNT_2DA_COLS numcolumns
		COUNT_2DA_ROWS numcolumns numrows
		INSERT_2DA_ROW numrows numcolumns ~ME_ABIL1    ****        ****        ****        ****        ****        ****        ****        ****        GA_C0SMONK6 ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****       ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****        ****~
		IF_EXISTS


	COPY_EXISTING ~kitlist.2da~ ~override~
		COUNT_2DA_COLS numcols
		LPF GET_2DA_ROW INT_VAR numcolumns=numcols match_column=1 STR_VAR match=~C0SMONK~ RET therow=matched END
		READ_2DA_ENTRY therow 4 numcols me_class_strref
		LPF PATCH_REPLACE_IN_STRING INT_VAR strref=me_class_strref STR_VAR match=~12th level:[^`]+Disadvantages~ replace_with=~9th level: May use the Deathstrike ability once per day.

DEATHSTRIKE: The shadow monk teleports to a chosen target and turns invisible for one round. <PRO_HISHER> next attack within one round is a guaranteed critical hit and drains six levels from the target.

- 12th level: May cast Shadow Door once per day. Gains additional uses at 16th and 20th level.

Disadvantages~ END
		BUT_ONLY_IF_IT_CHANGES
END

STRING_SET_EVALUATE 24234 @2146

STRING_SET_EVALUATE 31981 @2147

STRING_SET_EVALUATE 31984 @2148

BEGIN @26 REQUIRE_COMPONENT ~HighPower.tp2~ ~0~ @270  DESIGNATED 3016 DEPRECATED ~~

COPY_EXISTING ~mesplpra.2da~ ~override/mxsplpal.2da~
COPY_EXISTING ~mesplpra.2da~ ~override/mxsplran.2da~

BEGIN @28  DESIGNATED 3144
SUBCOMPONENT @27

COPY_EXISTING_REGEXP ~brac0[6789].itm~ ~override~ ~brac1[0189].itm~ ~override~ ~brac20.itm~ ~override~ ~mebrac71.itm~ ~override~ ~mebrac9[79].itm~ ~override~
	READ_BYTE kitunusability4 ulgiash
	ulgiash&=251
	WRITE_BYTE kitunusability4 ulgiash //Makes the gauntlets usable by a kensai
	IF_EXISTS

STRING_SET_EVALUATE 24286 @2102

BEGIN @29  DESIGNATED 3272
SUBCOMPONENT @27

COPY_EXISTING_REGEXP ~.*\.itm~ ~override~
	READ_SHORT 0x1c theitemtype
	PATCH_IF (theitemtype = 6) BEGIN
		READ_BYTE kitunusability4 ulgiash
		ulgiash&=251
		WRITE_BYTE kitunusability4 ulgiash //Makes the gauntlets usable by a kensai
	END
	BUT_ONLY_IF_IT_CHANGES

STRING_SET_EVALUATE 24286 @2103

BEGIN @31 DESIGNATED 3400
SUBCOMPONENT @30 REQUIRE_COMPONENT ~HighPower.tp2~ ~0~ @270
COPY_EXISTING ~sto0703.sto~ ~override~
	ADD_STORE_ITEM ~mebag99~ #0 #0 #0 ~IDENTIFIED~ #1
COPY_EXISTING ~mebag99.sto~ ~override~
	WRITE_SHORT 0x22 100
BEGIN @32 DESIGNATED 3528
SUBCOMPONENT @30
COPY_EXISTING ~sto0703.sto~ ~override~ //Sorcerous Sundries
	ADD_STORE_ITEM ~mebag99~ #0 #0 #0 ~IDENTIFIED~ #1
BEGIN @33 DESIGNATED 3656
SUBCOMPONENT @30
COPY_EXISTING ~inn2616.sto~ ~override~ //Winthrop
	ADD_STORE_ITEM ~mebag99~ #0 #0 #0 ~IDENTIFIED~ #1
COPY_EXISTING ~mebag99.sto~ ~override~
	WRITE_SHORT 0x22 100
COPY_EXISTING ~mebag99.itm~ ~override~
	WRITE_LONG price 1
BEGIN @34 DESIGNATED 3784
SUBCOMPONENT @30
COPY_EXISTING ~inn2616.sto~ ~override~ //Winthrop
	ADD_STORE_ITEM ~mebag99~ #0 #0 #0 ~IDENTIFIED~ #1
COPY_EXISTING ~mebag99.itm~ ~override~
	WRITE_LONG price 1

BEGIN @47 DESIGNATED 3848
SUBCOMPONENT @46

COPY_EXISTING ~summlimt.2da~ ~override~
  REPLACE_TEXTUALLY ~NORMAL[^0-9]*[0-9]*~ ~NORMAL 32767~
  BUT_ONLY_IF_IT_CHANGES

BEGIN @48 DESIGNATED 3852
SUBCOMPONENT @46

PRINT @251

ACTION_READLN ~me_new_number~

OUTER_WHILE !(IS_AN_INT %me_new_number%) BEGIN
	PRINT @252
	ACTION_READLN ~me_new_number~
END

COPY_EXISTING ~summlimt.2da~ ~override~
  REPLACE_TEXTUALLY ~NORMAL[^0-9]*[0-9]*~ ~NORMAL %me_new_number%~
  BUT_ONLY_IF_IT_CHANGES

BEGIN @35 DESIGNATED 3912

PRINT @249

ACTION_READLN ~new_xp_cap~

OUTER_WHILE !(IS_AN_INT %new_xp_cap%) BEGIN
	PRINT @252
	ACTION_READLN ~new_xp_cap~
END

COPY_EXISTING ~startare.2da~ ~override~
	PATCH_IF (new_xp_cap > 2999999) BEGIN
		new_xp_cap=2999999
	END
	SET_2DA_ENTRY 11 1 2 ~%new_xp_cap%~

COPY_EXISTING ~xpcap.2da~ ~override~
	READ_2DA_ENTRY 3 1 2 ~xp_cap_2~
	PATCH_IF (new_xp_cap > xp_cap_2) BEGIN
		COUNT_2DA_ROWS 2 numrows
		FOR (i = 1; i < numrows; ++i) BEGIN
			SET_2DA_ENTRY i 1 2 ~%new_xp_cap%~
		END
	END

BEGIN @36 DESIGNATED 4040

PRINT @250

ACTION_READLN ~experience_to_give~

OUTER_WHILE !(IS_AN_INT %experience_to_give%) BEGIN
	PRINT ~You must enter an integer.~
	ACTION_READLN ~experience_to_give~
END

COPY_EXISTING ~startare.2da~ ~override~
	READ_2DA_ENTRY 11 1 2 xp_cap
	PATCH_IF (experience_to_give > xp_cap) AND (xp_cap >= 0) BEGIN
		experience_to_give=xp_cap
	END
	SET_2DA_ENTRY 10 1 2 ~%experience_to_give%~

BEGIN @37 DESIGNATED 4168

COPY_EXISTING ~baldur.gam~ ~override~
	READ_LONG 0x30 nonpartycharactersoffset
	READ_LONG 0x34 numnonpartycharacters
	FOR (i = 0; i < numnonpartycharacters; ++i) BEGIN
		SET characteroffset = nonpartycharactersoffset + i * 0x160
		READ_ASCII (characteroffset + 0xC) ~charactername~ (6)
		PATCH_IF (~%charactername%~ STRING_EQUAL ~QUAYLE~) BEGIN
			WRITE_ASCII characteroffset + 0x18 ~AR2800~ #8
			WRITE_SHORT characteroffset + 0x20 960
			WRITE_SHORT characteroffset + 0x22 2025
		END
	END

BEGIN @44 DESIGNATED 4200

STRING_SET_EVALUATE 867 @1301

STRING_SET_EVALUATE 868 @1302

COPY_EXISTING ~baldur.gam~ ~override~
	READ_LONG 0x30 nonpartycharactersoffset
	READ_LONG 0x34 numnonpartycharacters
	FOR (i = 0; i < numnonpartycharacters; ++i) BEGIN
		SET characteroffset = nonpartycharactersoffset + i * 0x160
		READ_ASCII (characteroffset + 0xC) ~charactername~ (6)
		PATCH_IF (~%charactername%~ STRING_EQUAL ~ELDOTH~) BEGIN
			WRITE_ASCII characteroffset + 0x18 ~AR3357~ #8
			WRITE_SHORT characteroffset + 0x20 644
			WRITE_SHORT characteroffset + 0x22 237
		END
	END

BEGIN @45 DESIGNATED 4232

COPY_EXISTING ~baldur.gam~ ~override~
	READ_LONG 0x30 nonpartycharactersoffset
	READ_LONG 0x34 numnonpartycharacters
	FOR (i = 0; i < numnonpartycharacters; ++i) BEGIN
		SET characteroffset = nonpartycharactersoffset + i * 0x160
		READ_ASCII (characteroffset + 0xC) ~charactername~ (4)
		PATCH_IF (~%charactername%~ STRING_EQUAL ~TIAX~) BEGIN
			WRITE_ASCII characteroffset + 0x18 ~AR4300~ #8
			WRITE_SHORT characteroffset + 0x20 1785
			WRITE_SHORT characteroffset + 0x22 1260
		END
	END

BEGIN @38 REQUIRE_COMPONENT ~EEex.tp2~ ~0~ @271 DESIGNATED 4296

COPY_EXISTING ~fjbardb.spl~ ~override~ //Effects of unkitted bard song
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=removeeffectsbyresource opcode=eeexinvokelua timing=0 duration=0 STR_VAR match_resource=~FJBARDB~ resource=~MEPSTACK~ END

COPY_EXISTING ~fjbladeb.spl~ ~override~ //Effects of blade song
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=removeeffectsbyresource opcode=eeexinvokelua timing=0 duration=0 STR_VAR match_resource=~FJBLADEB~ resource=~MEPSTACK~ END

COPY_EXISTING ~spcl542a.spl~ ~override~ //Effects of skald song
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=removeeffectsbyresource opcode=eeexinvokelua timing=0 duration=0 STR_VAR match_resource=~SPCL542A~ resource=~MEPSTACK~ END

COPY_EXISTING ~spcl751a.spl~ ~override~ //Effects of jester song
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=removeeffectsbyresource opcode=eeexinvokelua timing=0 duration=0 STR_VAR match_resource=~SPCL751A~ resource=~MEPSTACK~ END

COPY_EXISTING ~c0sasong.spl~ ~override~
	LPF ALTER_EFFECT INT_VAR silent=1 match_opcode=removeeffectsbyresource opcode=eeexinvokelua timing=0 duration=0 STR_VAR match_resource=~SPCL751A~ resource=~MEPSTACK~ END
	IF_EXISTS

BEGIN @39 REQUIRE_COMPONENT ~HighPower.tp2~ ~0~ @270  DESIGNATED 4424 DEPRECATED ~~

COPY_EXISTING ~mesplwis.2da~ ~override/mxsplwis.2da~

BEGIN @40  DESIGNATED 4552

COPY_EXISTING ~cutobe.bcs~ ~override~
	DECOMPILE_AND_PATCH BEGIN
		REPLACE_TEXTUALLY ~ActionOverride(.*LeaveParty().*
~ ~
~
		REPLACE_TEXTUALLY ~ActionOverride(.*DestroySelf().*
~ ~
~
		REPLACE_TEXTUALLY ~LeaveAreaLUA(\"AR2600\",\"\",\[3127.2983\],E)~ ~LeaveAreaLUA("AR2600","",[3127.2983],E)
		ActionOverride(Player2,LeaveAreaLUA("AR2600","",[3127.2983],E))
		ActionOverride(Player3,LeaveAreaLUA("AR2600","",[3127.2983],E))
		ActionOverride(Player4,LeaveAreaLUA("AR2600","",[3127.2983],E))
		ActionOverride(Player5,LeaveAreaLUA("AR2600","",[3127.2983],E))
		ActionOverride(Player6,LeaveAreaLUA("AR2600","",[3127.2983],E))~
	END